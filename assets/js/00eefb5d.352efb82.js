"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4209],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>g});var o=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,o,a=function(e,n){if(null==e)return{};var t,o,a={},l=Object.keys(e);for(o=0;o<l.length;o++)t=l[o],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)t=l[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var d=o.createContext({}),s=function(e){var n=o.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},p=function(e){var n=s(e.components);return o.createElement(d.Provider,{value:n},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},m=o.forwardRef((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,d=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),c=s(t),m=a,g=c["".concat(d,".").concat(m)]||c[m]||u[m]||l;return t?o.createElement(g,r(r({ref:n},p),{},{components:t})):o.createElement(g,r({ref:n},p))}));function g(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,r=new Array(l);r[0]=m;var i={};for(var d in n)hasOwnProperty.call(n,d)&&(i[d]=n[d]);i.originalType=e,i[c]="string"==typeof e?e:a,r[1]=i;for(var s=2;s<l;s++)r[s]=t[s];return o.createElement.apply(null,r)}return o.createElement.apply(null,t)}m.displayName="MDXCreateElement"},4087:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>c,frontMatter:()=>l,metadata:()=>i,toc:()=>s});var o=t(7462),a=(t(7294),t(3905));const l={},r=void 0,i={unversionedId:"vue/vue-cli/\u672c\u5730\u5b58\u50a8 \u81ea\u5b9a\u4e49\u4e8b\u4ef6",id:"vue/vue-cli/\u672c\u5730\u5b58\u50a8 \u81ea\u5b9a\u4e49\u4e8b\u4ef6",title:"\u672c\u5730\u5b58\u50a8 \u81ea\u5b9a\u4e49\u4e8b\u4ef6",description:"WebStorage (js \u672c\u5730\u5b58\u50a8)",source:"@site/docs/vue/vue-cli/4.\u672c\u5730\u5b58\u50a8 \u81ea\u5b9a\u4e49\u4e8b\u4ef6.md",sourceDirName:"vue/vue-cli",slug:"/vue/vue-cli/\u672c\u5730\u5b58\u50a8 \u81ea\u5b9a\u4e49\u4e8b\u4ef6",permalink:"/docs/vue/vue-cli/\u672c\u5730\u5b58\u50a8 \u81ea\u5b9a\u4e49\u4e8b\u4ef6",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/vue/vue-cli/4.\u672c\u5730\u5b58\u50a8 \u81ea\u5b9a\u4e49\u4e8b\u4ef6.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{},sidebar:"vue",previous:{title:"Todo-List\u6848\u4f8b",permalink:"/docs/vue/vue-cli/Todo-List\u6848\u4f8b"},next:{title:"\u5168\u5c40\u4e8b\u4ef6\u603b\u7ebf \u6d88\u606f\u7684\u8ba2\u9605\u4e0e\u53d1\u5e03",permalink:"/docs/vue/vue-cli/\u5168\u5c40\u4e8b\u4ef6\u603b\u7ebf \u6d88\u606f\u7684\u8ba2\u9605\u4e0e\u53d1\u5e03"}},d={},s=[{value:"WebStorage (js \u672c\u5730\u5b58\u50a8)",id:"webstorage-js-\u672c\u5730\u5b58\u50a8",level:2},{value:"\u4f7f\u7528\u672c\u5730\u5b58\u50a8\u4f18\u5316Todo-List",id:"\u4f7f\u7528\u672c\u5730\u5b58\u50a8\u4f18\u5316todo-list",level:3},{value:"\u7ec4\u4ef6\u7684\u81ea\u5b9a\u4e49\u4e8b\u4ef6",id:"\u7ec4\u4ef6\u7684\u81ea\u5b9a\u4e49\u4e8b\u4ef6",level:2},{value:"\u7ed1\u5b9a\u4e8b\u4ef6",id:"\u7ed1\u5b9a\u4e8b\u4ef6",level:3},{value:"\u89e3\u7ed1\u4e8b\u4ef6",id:"\u89e3\u7ed1\u4e8b\u4ef6",level:3},{value:"\u4f7f\u7528\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u4f18\u5316Todo-List",id:"\u4f7f\u7528\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u4f18\u5316todo-list",level:3}],p={toc:s};function c(e){let{components:n,...t}=e;return(0,a.kt)("wrapper",(0,o.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"webstorage-js-\u672c\u5730\u5b58\u50a8"},"WebStorage (js \u672c\u5730\u5b58\u50a8)"),(0,a.kt)("p",null,"\u5b58\u50a8\u5185\u5bb9\u5927\u5c0f\u4e00\u822c\u652f\u6301",(0,a.kt)("strong",{parentName:"p"},"5MB"),"\u5de6\u53f3\uff08\u4e0d\u540c\u6d4f\u89c8\u5668\u53ef\u80fd\u8fd8\u4e0d\u4e00\u6837)\n\u6d4f\u89c8\u5668\u7aef\u901a\u8fc7",(0,a.kt)("inlineCode",{parentName:"p"},"window.sessionStorage"),"\u548c",(0,a.kt)("inlineCode",{parentName:"p"},"window.localStorage"),"\u5c5e\u6027\u6765\u5b9e\u73b0\u672c\u5730\u5b58\u50a8\u673a\u5236\n",(0,a.kt)("strong",{parentName:"p"},"\u76f8\u5173API")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"xxxStorage.setItem( ' key', 'value ')"),"\u8be5\u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u952e\u548c\u503c\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f1a\u628a\u952e\u503c\u5bf9\u6dfb\u52a0\u5230\u5b58\u50a8\u4e2d\uff0c\u5982\u679c\u952e\u540d\u5b58\u5728\uff0c\u5219\u66f4\u65b0\u5176\u5bf9\u5e94\u7684\u503c"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"xxxStorage.getItem( ' key ')"),"\u8be5\u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u952e\u540d\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u952e\u540d\u5bf9\u5e94\u7684\u503c"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"xxxStorage.removeItem( ' key ')"),"\u8be5\u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u952e\u540d\u4f5c\u4e3a\u53c2\u6570\uff0c\u5e76\u628a\u8be5\u952e\u540d\u4ece\u5b58\u50a8\u4e2d\u5220\u9664"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"xxxStorage.clear()"),"\u8be5\u65b9\u6cd5\u4f1a\u6e05\u7a7a\u5b58\u50a8\u4e2d\u7684\u6240\u6709\u6570\u636e\u5907\u6ce8",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"SessionStorage"),"\u5b58\u50a8\u7684\u5185\u5bb9\u4f1a\u968f\u7740\u6d4f\u89c8\u5668\u7a97\u53e3\u5173\u95ed\u800c\u6d88\u5931"),(0,a.kt)("li",{parentName:"ul"},"LocalStorage\u5b58\u50a8\u7684\u5185\u5bb9\uff0c\u9700\u8981\u624b\u52a8\u6e05\u9664\u624d\u4f1a\u6d88\u5931"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"xxxStorage.getItem(xxx)"),"\u5982\u679cxxx\u5bf9\u5e94\u7684value\u83b7\u53d6\u4e0d\u5230\uff0c\u90a3\u4e48",(0,a.kt)("inlineCode",{parentName:"li"},"getItem()"),"\u7684\u8fd4\u56de\u503c\u662f",(0,a.kt)("inlineCode",{parentName:"li"},"null")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"JSON.parse(null)"),"\u7684\u7ed3\u679c\u4f9d\u7136\u662f",(0,a.kt)("inlineCode",{parentName:"li"},"null"))))),(0,a.kt)("p",null,"localStorage"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},"\n<h2>localStorage</h2>\n<button onclick=\"saveDate()\">\u70b9\u6211\u4fdd\u5b58\u6570\u636e</button><br/>\n<button onclick=\"readDate()\">\u70b9\u6211\u8bfb\u6570\u636e</button><br/>\n<button onclick=\"deleteDate()\">\u70b9\u6211\u5220\u9664\u6570\u636e</button><br/>\n<button onclick=\"deleteAllDate()\">\u70b9\u6211\u6e05\u7a7a\u6570\u636e</button><br/>\n\n<script>\n  let person = {name:\"JOJO\",age:20}\n  \n  function saveDate(){\n    localStorage.setItem('msg','localStorage')\n    localStorage.setItem('person',JSON.stringify(person))\n  }\n  function readDate(){\n    console.log(localStorage.getItem('msg'))\n    const person = localStorage.getItem('person')\n    console.log(JSON.parse(person))\n  }\n  function deleteDate(){\n    localStorage.removeItem('msg')\n    localStorage.removeItem('person')\n  }\n  function deleteAllDate(){\n    localStorage.clear()\n  }\n<\/script>\n")),(0,a.kt)("p",null,"sessionStorage"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},"<h2>sessionStorage</h2>\n<button onclick=\"saveDate()\">\u70b9\u6211\u4fdd\u5b58\u6570\u636e</button><br/>\n<button onclick=\"readDate()\">\u70b9\u6211\u8bfb\u6570\u636e</button><br/>\n<button onclick=\"deleteDate()\">\u70b9\u6211\u5220\u9664\u6570\u636e</button><br/>\n<button onclick=\"deleteAllDate()\">\u70b9\u6211\u6e05\u7a7a\u6570\u636e</button><br/>\n\n<script>\n  let person = {name:\"JOJO\",age:20}\n  \n  function saveDate(){\n    sessionStorage.setItem('msg','sessionStorage')\n    sessionStorage.setItem('person',JSON.stringify(person))\n  }\n  function readDate(){\n    console.log(sessionStorage.getItem('msg'))\n    const person = sessionStorage.getItem('person')\n    console.log(JSON.parse(person))\n  }\n  function deleteDate(){\n    sessionStorage.removeItem('msg')\n    sessionStorage.removeItem('person')\n  }\n  function deleteAllDate(){\n    sessionStorage.clear()\n  }\n<\/script>\n")),(0,a.kt)("h3",{id:"\u4f7f\u7528\u672c\u5730\u5b58\u50a8\u4f18\u5316todo-list"},"\u4f7f\u7528\u672c\u5730\u5b58\u50a8\u4f18\u5316Todo-List"),(0,a.kt)("p",null,"src/App.vue"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-vue"},'<template>\n<div id="root">\n  <div class="todo-container">\n    <div class="todo-wrap">\n      <MyHeader :addTodo="addTodo"/>\n      <MyList :todos="todos" :checkTodo="checkTodo" :deleteTodo="deleteTodo"/>\n      <MyFooter :todos="todos" :checkAllTodo="checkAllTodo" :clearAllTodo="clearAllTodo"/>\n  </div>\n  </div>\n  </div>\n</template>\n\n<script>\n  import MyHeader from \'./components/MyHeader\'\n  import MyList from \'./components/MyList\'\n  import MyFooter from \'./components/MyFooter.vue\'\n  \n  export default {\n    name:\'App\',\n    components:{MyHeader,MyList,MyFooter},\n    data() {\n      return {\n        // \u4ece\u672c\u5730\u5b58\u50a8\u4e2d\u83b7\u5f97\u6570\u636e\uff0cnull\u5c31\u521b\u5efa\u7a7a\u6570\u7ec4[]\n        todos:JSON.parse(localStorage.getItem(\'todos\')) || []\n      }\n    },\n    methods: {\n      //\u6dfb\u52a0\u4e00\u4e2atodo\n      addTodo(todoObj){\n        this.todos.unshift(todoObj)\n      },\n      //\u52fe\u9009or\u53d6\u6d88\u52fe\u9009\u4e00\u4e2atodo\n      checkTodo(id){\n        this.todos.forEach((todo)=>{\n          if(todo.id === id) todo.done = !todo.done\n        })\n      },\n      //\u5220\u9664\u4e00\u4e2atodo\n      deleteTodo(id){\n        this.todos = this.todos.filter( todo => todo.id !== id )\n      },\n      //\u5168\u9009or\u53d6\u6d88\u5168\u9009\n      checkAllTodo(done){\n        this.todos.forEach((todo)=>{\n          todo.done = done\n        })\n      },\n      //\u6e05\u9664\u6240\u6709\u5df2\u7ecf\u5b8c\u6210\u7684todo\n      clearAllTodo(){\n        this.todos = this.todos.filter((todo)=>{\n          return !todo.done\n        })\n      }\n    },\n    // \u6570\u636e\u53d1\u751f\u6539\u53d8\u5c31\u653e\u5230\u672c\u5730\u5b58\u50a8\u4e2d\uff0c\u6ce8\u610f\u6df1\u5ea6\u4fa6\u542c\uff0c\u4ee5\u53caJSON\u8f6c\u5316\u4e3a\u5b57\u7b26\u4e32\n    watch: {\n      todos:{\n        deep:true,\n        handler(value){\n          localStorage.setItem(\'todos\',JSON.stringify(value))\n        }\n      }\n    },\n  }\n<\/script>\n')),(0,a.kt)("h2",{id:"\u7ec4\u4ef6\u7684\u81ea\u5b9a\u4e49\u4e8b\u4ef6"},"\u7ec4\u4ef6\u7684\u81ea\u5b9a\u4e49\u4e8b\u4ef6"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u4e00\u79cd\u7ec4\u4ef6\u95f4\u901a\u4fe1\u7684\u65b9\u5f0f\uff0c\u9002\u7528\u4e8e:",(0,a.kt)("strong",{parentName:"li"},"\u5b50\u7ec4\u4ef6===>\u7236\u7ec4\u4ef6")),(0,a.kt)("li",{parentName:"ol"},"\u4f7f\u7528\u573a\u666f:",(0,a.kt)("strong",{parentName:"li"},"\u5b50\u7ec4\u4ef6"),"\u60f3\u7ed9",(0,a.kt)("strong",{parentName:"li"},"\u7236\u7ec4\u4ef6"),"\u4f20\u6570\u636e\uff0c\u90a3\u4e48\u5c31\u8981\u5728",(0,a.kt)("strong",{parentName:"li"},"\u7236\u7ec4\u4ef6\u4e2d\u7ed9\u5b50\u7ec4\u4ef6\u7ed1\u5b9a\u81ea\u5b9a\u4e49\u4e8b\u4ef6\uff08"),"\u4e8b\u4ef6\u7684\u56de\u8c03\u5728A\u4e2d",(0,a.kt)("strong",{parentName:"li"},")")),(0,a.kt)("li",{parentName:"ol"},"\u7ed1\u5b9a\u81ea\u5b9a\u4e49\u4e8b\u4ef6",(0,a.kt)("ol",{parentName:"li"},(0,a.kt)("li",{parentName:"ol"},"\u7b2c\u4e00\u79cd\u65b9\u5f0f\uff0c\u5728\u7236\u7ec4\u4ef6\u4e2d",(0,a.kt)("inlineCode",{parentName:"li"},'<Demo @\u4e8b\u4ef6\u540d="\u65b9\u6cd5"/>'),"\u6216",(0,a.kt)("inlineCode",{parentName:"li"},'<Demo v-on:\u4e8b\u4ef6\u540d="\u65b9\u6cd5" />')),(0,a.kt)("li",{parentName:"ol"},"\u7b2c\u4e8c\u79cd\u65b9\u5f0f\uff0c\u5728\u7236\u7ec4\u4ef6\u4e2d",(0,a.kt)("inlineCode",{parentName:"li"},"this.$refs.demo.$on('\u4e8b\u4ef6\u540d',\u65b9\u6cd5)"))))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"<Demo ref=\"demo\"/>\n  ......\nmounted(){\n  this.$refs.demo.$on('atguigu',this.test)\n}\n")),(0,a.kt)("p",null,"\u82e5\u60f3\u8ba9\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u53ea\u80fd\u89e6\u53d1\u4e00\u6b21\uff0c\u53ef\u4ee5\u4f7f\u7528",(0,a.kt)("inlineCode",{parentName:"p"},"once"),"\u4fee\u9970\u7b26\uff0c\u6216",(0,a.kt)("inlineCode",{parentName:"p"},"$once"),"\u65b9\u6cd5"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"\u89e6\u53d1\u81ea\u5b9a\u4e49\u4e8b\u4ef6",(0,a.kt)("inlineCode",{parentName:"p"},"this.$emit('\u4e8b\u4ef6\u540d',\u6570\u636e)"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"\u89e3\u7ed1\u81ea\u5b9a\u4e49\u4e8b\u4ef6",(0,a.kt)("inlineCode",{parentName:"p"},"this.$off('\u4e8b\u4ef6\u540d')"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"\u7ec4\u4ef6\u4e0a\u4e5f\u53ef\u4ee5\u7ed1\u5b9a\u539f\u751f",(0,a.kt)("inlineCode",{parentName:"p"},"DOM"),"\u4e8b\u4ef6\uff0c\u9700\u8981\u4f7f\u7528",(0,a.kt)("inlineCode",{parentName:"p"},"native"),"\u4fee\u9970\u7b26",(0,a.kt)("inlineCode",{parentName:"p"},'@click.native="show"')))),(0,a.kt)("p",null,"\u4e0a\u9762\u7ed1\u5b9a\u81ea\u5b9a\u4e49\u4e8b\u4ef6\uff0c\u5373\u4f7f\u7ed1\u5b9a\u7684\u662f\u539f\u751f\u4e8b\u4ef6\u4e5f\u4f1a\u88ab\u8ba4\u4e3a\u662f\u81ea\u5b9a\u4e49\u7684\uff0c\u9700\u8981\u52a0",(0,a.kt)("inlineCode",{parentName:"p"},"native"),"\uff0c\u52a0\u4e86\u540e\u5c31\u5c06\u6b64\u4e8b\u4ef6\u7ed9\u7ec4\u4ef6\u7684\u6839\u5143\u7d20"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u6ce8\u610f")),(0,a.kt)("p",null,"\u901a\u8fc7",(0,a.kt)("inlineCode",{parentName:"p"},"this.$refs.xxx.$on( '\u4e8b\u4ef6\u540d',\u56de\u8c03\u51fd\u6570\uff09"),"\u7ed1\u5b9a\u81ea\u5b9a\u4e49\u4e8b\u2462"),(0,a.kt)("p",null,"\u4ef6\u65f6\uff0c\u56de\u8c03\u51fd\u6570\u8981\u4e48\u914d\u7f6e\u5728",(0,a.kt)("inlineCode",{parentName:"p"},"methods")," \u4e2d\uff0c\u8981\u4e48\u7528\u7bad\u5934\u51fd\u6570\uff0c\u5426\u5219 ",(0,a.kt)("strong",{parentName:"p"},"this"),"\n\u6307\u5411\u4f1a\u51fa\u95ee\u9898\u3002",(0,a.kt)("strong",{parentName:"p"},"\u56e0\u4e3a\u5e95\u5c42\u5b9a\u4e49\u4e86\uff0c\u8c01\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6this\u5c31\u662f\u6307\u5411\u8c01\u3002")),(0,a.kt)("h3",{id:"\u7ed1\u5b9a\u4e8b\u4ef6"},"\u7ed1\u5b9a\u4e8b\u4ef6"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"src/App.vue")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-vue"},"<template>\n<div class=\"app\">\n  <h1>{{ msg }}\uff0c\u5b66\u751f\u59d3\u540d\u662f:{{ studentName }}</h1>\n  \n  \x3c!-- \u901a\u8fc7\u7236\u7ec4\u4ef6\u7ed9\u5b50\u7ec4\u4ef6\u4f20\u9012\u51fd\u6570\u7c7b\u578b\u7684props\u5b9e\u73b0\u5b50\u7ed9\u7236\u4f20\u9012\u6570\u636e --\x3e\n  <School :getSchoolName=\"getSchoolName\"/>\n  \n  \x3c!-- \u901a\u8fc7\u7236\u7ec4\u4ef6\u7ed9\u5b50\u7ec4\u4ef6\u7ed1\u5b9a\u4e00\u4e2a\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5b9e\u73b0\u5b50\u7ed9\u7236\u4f20\u9012\u6570\u636e\uff08\u7b2c\u4e00\u79cd\u5199\u6cd5\uff0c\u4f7f\u7528@\u6216v-on\uff09 --\x3e\n  \x3c!-- <Student @atguigu=\"getStudentName\" @demo=\"m1\"/> --\x3e\n  \n  \x3c!-- \u901a\u8fc7\u7236\u7ec4\u4ef6\u7ed9\u5b50\u7ec4\u4ef6\u7ed1\u5b9a\u4e00\u4e2a\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5b9e\u73b0\u5b50\u7ed9\u7236\u4f20\u9012\u6570\u636e\uff08\u7b2c\u4e8c\u79cd\u5199\u6cd5\uff0c\u4f7f\u7528ref\uff09 --\x3e\n  <Student ref=\"student\" @click.native=\"show\"/> \x3c!-- native --\x3e\n  </div>\n</template>\n\n<script>\n  import Student from './components/Student'\n  import School from './components/School'\n  \n  export default {\n    name:'App',\n    components:{School,Student},\n    data() {\n      return {\n        msg:'\u4f60\u597d\u554a\uff01',\n        studentName:''\n      }\n    },\n    methods: {\n      getSchoolName(name){\n        console.log('App\u6536\u5230\u4e86\u5b66\u6821\u540d\uff1a',name)\n      },\n      getStudentName(name,...params){\n        console.log('App\u6536\u5230\u4e86\u5b66\u751f\u540d\uff1a',name,params)\n        this.studentName = name\n      },\n      m1(){\n        console.log('demo\u4e8b\u4ef6\u88ab\u89e6\u53d1\u4e86\uff01')\n      },\n      show(){\n        alert(123)\n      }\n    },\n    mounted() {\n      this.$refs.student.$on('atguigu',this.getStudentName) // \u7ed1\u5b9a\u81ea\u5b9a\u4e49\u4e8b\u4ef6\n      // this.$refs.student.$once('atguigu',this.getStudentName) // \u7ed1\u5b9a\u81ea\u5b9a\u4e49\u4e8b\u4ef6\uff08\u4e00\u6b21\u6027\uff09\n    },\n  }\n<\/script>\n\n<style scoped>.app{background-color: gray;padding: 5px;}</style>\n")),(0,a.kt)("h3",{id:"\u89e3\u7ed1\u4e8b\u4ef6"},"\u89e3\u7ed1\u4e8b\u4ef6"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"src / components / Student.vue")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-vue"},"<template>\n<div class=\"student\">\n  <h2>\u5b66\u751f\u59d3\u540d\uff1a{{name}}</h2>\n  <h2>\u5b66\u751f\u6027\u522b\uff1a{{sex}}</h2>\n  <h2>\u5f53\u524d\u6c42\u548c\u4e3a\uff1a{{number}}</h2>\n  <button @click=\"add\">\u70b9\u6211number++</button>\n  <button @click=\"sendStudentlName\">\u628a\u5b66\u751f\u540d\u7ed9App</button>\n  <button @click=\"unbind\">\u89e3\u7ed1atguigu\u4e8b\u4ef6</button>\n  <button @click=\"death\">\u9500\u6bc1\u5f53\u524dStudent\u7ec4\u4ef6\u7684\u5b9e\u4f8b(vc)</button>\n  </div>\n</template>\n\n<script>\n  export default {\n    name:'Student',\n    data() {\n      return {\n        name:'\u5f20\u4e09',\n        sex:'\u7537',\n        number:0\n      }\n    },\n    methods: {\n      add(){\n        console.log('add\u56de\u8c03\u88ab\u8c03\u7528\u4e86')\n        this.number++\n      },\n      sendStudentlName(){\n        // \u89e6\u53d1Student\u7ec4\u4ef6\u5b9e\u4f8b\u8eab\u4e0a\u7684atguigu\u4e8b\u4ef6\n        this.$emit('atguigu',this.name,666,888,900)\n        // this.$emit('demo')\n        // this.$emit('click')\n      },\n      unbind(){\n        // \u89e3\u7ed1\n        this.$off('atguigu') //\u89e3\u7ed1\u4e00\u4e2a\u81ea\u5b9a\u4e49\u4e8b\u4ef6\n        // this.$off(['atguigu','demo']) //\u89e3\u7ed1\u591a\u4e2a\u81ea\u5b9a\u4e49\u4e8b\u4ef6\n        // this.$off() //\u89e3\u7ed1\u6240\u6709\u7684\u81ea\u5b9a\u4e49\u4e8b\u4ef6\n      },\n      death(){\n        // \u9500\u6bc1\u4e86\u5f53\u524dStudent\u7ec4\u4ef6\u7684\u5b9e\u4f8b\uff0c\u9500\u6bc1\u540e\u6240\u6709Student\u5b9e\u4f8b\u7684\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5168\u90fd\u4e0d\u594f\u6548\n        this.$destroy()\n      }\n    },\n  }\n<\/script>\n\n<style lang=\"less\" scoped>\n  .student{background-color: pink;padding: 5px;margin-top: 30px;}\n</style>\n")),(0,a.kt)("h3",{id:"\u4f7f\u7528\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u4f18\u5316todo-list"},"\u4f7f\u7528\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u4f18\u5316Todo-List"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"src/App.vue")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-vue"},'<template>\n<div id="root">\n  <div class="todo-container">\n    <div class="todo-wrap">\n      <MyHeader @addTodo="addTodo"/>\n      <MyList :todos="todos" :checkTodo="checkTodo" :deleteTodo="deleteTodo"/>\n      <MyFooter :todos="todos" \n                @checkAllTodo="checkAllTodo" @clearAllTodo="clearAllTodo"/>\n  </div>\n  </div>\n  </div>\n</template>\n\n<script>\n  import MyHeader from \'./components/MyHeader\'\n  import MyList from \'./components/MyList\'\n  import MyFooter from \'./components/MyFooter.vue\'\n  \n  export default {\n    name:\'App\',\n    components:{MyHeader,MyList,MyFooter},\n    data() {\n      return {\n        //\u7531\u4e8etodos\u662fMyHeader\u7ec4\u4ef6\u548cMyFooter\u7ec4\u4ef6\u90fd\u5728\u4f7f\u7528\uff0c\u6240\u4ee5\u653e\u5728App\u4e2d\uff08\u72b6\u6001\u63d0\u5347\uff09\n        todos:JSON.parse(localStorage.getItem(\'todos\')) || []\n      }\n    },\n    methods: {\n      //\u6dfb\u52a0\u4e00\u4e2atodo\n      addTodo(todoObj){\n        this.todos.unshift(todoObj)\n      },\n      //\u52fe\u9009or\u53d6\u6d88\u52fe\u9009\u4e00\u4e2atodo\n      checkTodo(id){\n        this.todos.forEach((todo)=>{\n          if(todo.id === id) todo.done = !todo.done\n        })\n      },\n      //\u5220\u9664\u4e00\u4e2atodo\n      deleteTodo(id){\n        this.todos = this.todos.filter( todo => todo.id !== id )\n      },\n      //\u5168\u9009or\u53d6\u6d88\u5168\u9009\n      checkAllTodo(done){\n        this.todos.forEach((todo)=>{\n          todo.done = done\n        })\n      },\n      //\u6e05\u9664\u6240\u6709\u5df2\u7ecf\u5b8c\u6210\u7684todo\n      clearAllTodo(){\n        this.todos = this.todos.filter((todo)=>{\n          return !todo.done\n        })\n      }\n    },\n    watch: {\n      todos:{\n        deep:true,\n        handler(value){\n          localStorage.setItem(\'todos\',JSON.stringify(value))\n        }\n      }\n    },\n  }\n<\/script>\n')),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"src/ components/ MyHeader .vue")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-vue"},"\n<template>\n<div class=\"todo-header\">\n  <input type=\"text\" placeholder=\"\u8bf7\u8f93\u5165\u4f60\u7684\u4efb\u52a1\u540d\u79f0\uff0c\u6309\u56de\u8f66\u952e\u786e\u8ba4\" \n         v-model=\"title\" @keyup.enter=\"add\"/>\n  </div>\n</template>\n\n<script>\n  import {nanoid} from 'nanoid'\n  export default {\n    name:'MyHeader',\n    data() {\n      return {\n        title:''    // \u6536\u96c6\u7528\u6237\u8f93\u5165\u7684title\n      }\n    },\n    methods: {\n      add(){\n        //\u6821\u9a8c\u6570\u636e\n        if(!this.title.trim()) return alert('\u8f93\u5165\u4e0d\u80fd\u4e3a\u7a7a')\n        //\u5c06\u7528\u6237\u7684\u8f93\u5165\u5305\u88c5\u6210\u4e00\u4e2atodo\u5bf9\u8c61\n        const todoObj = {id:nanoid(),title:this.title,done:false}\n        //\u901a\u77e5App\u7ec4\u4ef6\u53bb\u6dfb\u52a0\u4e00\u4e2atodo\u5bf9\u8c61\n        this.$emit('addTodo',todoObj)\n        //\u6e05\u7a7a\u8f93\u5165\n        this.title = ''\n      }\n    },\n  }\n<\/script>\n")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"src / components /MyFooter")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-vue"},'\n<template>\n<div class="todo-footer" v-show="total">\n  <label>\n    \x3c!-- <input type="checkbox" :checked="isAll" @change="checkAll"/> --\x3e\n    <input type="checkbox" v-model="isAll"/>\n  </label>\n  <span>\n    <span>\u5df2\u5b8c\u6210{{ doneTotal }}</span> / \u5168\u90e8{{ total }}\n  </span>\n  <button class="btn btn-danger" @click="clearAll">\u6e05\u9664\u5df2\u5b8c\u6210\u4efb\u52a1</button>\n  </div>\n</template>\n\n<script>\n  export default {\n    name:\'MyFooter\',\n    props:[\'todos\'],\n    computed: {\n      //\u603b\u6570\n      total(){\n        return this.todos.length\n      },\n      //\u5df2\u5b8c\u6210\u6570\n      doneTotal(){\n        return this.todos.reduce((pre,todo)=> pre + (todo.done ? 1 : 0) ,0)\n      },\n      //\u63a7\u5236\u5168\u9009\u6846\n      isAll:{\n        //\u5168\u9009\u6846\u662f\u5426\u52fe\u9009\n        get(){\n          return this.doneTotal === this.total && this.total > 0\n        },\n        //isAll\u88ab\u4fee\u6539\u65f6set\u88ab\u8c03\u7528\n        set(value){\n          // this.checkAllTodo(value)\n          this.$emit(\'checkAllTodo\',value)\n        }\n      }\n    },\n    methods: {\n      //\u6e05\u7a7a\u6240\u6709\u5df2\u5b8c\u6210\n      clearAll(){\n        // this.clearAllTodo()\n        this.$emit(\'clearAllTodo\')\n      }\n    },\n  }\n<\/script>\n')))}c.isMDXComponent=!0}}]);