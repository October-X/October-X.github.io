"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4821],{3905:(n,e,t)=>{t.d(e,{Zo:()=>l,kt:()=>k});var a=t(7294);function o(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function s(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,a)}return t}function i(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?s(Object(t),!0).forEach((function(e){o(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function r(n,e){if(null==n)return{};var t,a,o=function(n,e){if(null==n)return{};var t,a,o={},s=Object.keys(n);for(a=0;a<s.length;a++)t=s[a],e.indexOf(t)>=0||(o[t]=n[t]);return o}(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(a=0;a<s.length;a++)t=s[a],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}var u=a.createContext({}),m=function(n){var e=a.useContext(u),t=e;return n&&(t="function"==typeof n?n(e):i(i({},e),n)),t},l=function(n){var e=m(n.components);return a.createElement(u.Provider,{value:e},n.children)},p="mdxType",c={inlineCode:"code",wrapper:function(n){var e=n.children;return a.createElement(a.Fragment,{},e)}},d=a.forwardRef((function(n,e){var t=n.components,o=n.mdxType,s=n.originalType,u=n.parentName,l=r(n,["components","mdxType","originalType","parentName"]),p=m(t),d=o,k=p["".concat(u,".").concat(d)]||p[d]||c[d]||s;return t?a.createElement(k,i(i({ref:e},l),{},{components:t})):a.createElement(k,i({ref:e},l))}));function k(n,e){var t=arguments,o=e&&e.mdxType;if("string"==typeof n||o){var s=t.length,i=new Array(s);i[0]=d;var r={};for(var u in e)hasOwnProperty.call(e,u)&&(r[u]=e[u]);r.originalType=n,r[p]="string"==typeof n?n:o,i[1]=r;for(var m=2;m<s;m++)i[m]=t[m];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},6899:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>u,contentTitle:()=>i,default:()=>p,frontMatter:()=>s,metadata:()=>r,toc:()=>m});var a=t(7462),o=(t(7294),t(3905));const s={},i=void 0,r={unversionedId:"vue/Vuex",id:"vue/Vuex",title:"Vuex",description:"\u7406\u89e3Vuex",source:"@site/docs/vue/Vuex.md",sourceDirName:"vue",slug:"/vue/Vuex",permalink:"/docs/vue/Vuex",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/vue/Vuex.md",tags:[],version:"current",frontMatter:{},sidebar:"vue",previous:{title:"Vue UI \u7ec4\u4ef6\u5e93",permalink:"/docs/vue/Vue UI \u7ec4\u4ef6\u5e93"},next:{title:"Vue\u4e2d\u7684Ajax \u914d\u7f6e\u4ee3\u7406 slot\u63d2\u69fd",permalink:"/docs/vue/Vue\u4e2d\u7684Ajax \u914d\u7f6e\u4ee3\u7406 slot\u63d2\u69fd"}},u={},m=[{value:"\u7406\u89e3Vuex",id:"\u7406\u89e3vuex",level:2},{value:"Vuex\u662f\u4ec0\u4e48",id:"vuex\u662f\u4ec0\u4e48",level:3},{value:"image-20221206191515329\u4ec0\u4e48\u65f6\u5019\u4f7f\u7528Vuex",id:"image-20221206191515329\u4ec0\u4e48\u65f6\u5019\u4f7f\u7528vuex",level:3},{value:"Vuex\u5de5\u4f5c\u539f\u7406\u56fe",id:"vuex\u5de5\u4f5c\u539f\u7406\u56fe",level:3},{value:"image-20221206191537231",id:"image-20221206191537231",level:3},{value:"\u6c42\u548c\u6848\u4f8b",id:"\u6c42\u548c\u6848\u4f8b",level:2},{value:"\u4f7f\u7528\u7eafvue\u7f16\u5199",id:"\u4f7f\u7528\u7eafvue\u7f16\u5199",level:3},{value:"\u642d\u5efaVuex\u73af\u5883",id:"\u642d\u5efavuex\u73af\u5883",level:3},{value:"\u4f7f\u7528Vuex\u7f16\u5199Vuex\u7684\u57fa\u672c\u4f7f\u7528",id:"\u4f7f\u7528vuex\u7f16\u5199vuex\u7684\u57fa\u672c\u4f7f\u7528",level:3},{value:"getters\u914d\u7f6e\u9879",id:"getters\u914d\u7f6e\u9879",level:2},{value:"\u56db\u4e2amap\u65b9\u6cd5\u7684\u4f7f\u7528",id:"\u56db\u4e2amap\u65b9\u6cd5\u7684\u4f7f\u7528",level:2},{value:"\u591a\u7ec4\u4ef6\u5171\u4eab\u6570\u636e\u6848\u4f8b",id:"\u591a\u7ec4\u4ef6\u5171\u4eab\u6570\u636e\u6848\u4f8b",level:2},{value:"\u6a21\u5757\u5316+\u547d\u540d\u7a7a\u95f4",id:"\u6a21\u5757\u5316\u547d\u540d\u7a7a\u95f4",level:2}],l={toc:m};function p(n){let{components:e,...t}=n;return(0,o.kt)("wrapper",(0,a.Z)({},l,t,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"\u7406\u89e3vuex"},"\u7406\u89e3Vuex"),(0,o.kt)("h3",{id:"vuex\u662f\u4ec0\u4e48"},"Vuex\u662f\u4ec0\u4e48"),(0,o.kt)("p",null,"1\uff0e\u6982\u5ff5:\u4e13\u95e8\u5728 ",(0,o.kt)("inlineCode",{parentName:"p"},"Vue"),"\u4e2d\u5b9e\u73b0\u96c6\u4e2d\u5f0f\u72b6\u6001\uff08\u6570\u636e\uff09\u7ba1\u7406\u7684\u4e00\u4e2a",(0,o.kt)("inlineCode",{parentName:"p"},"Vue"),(0,o.kt)("strong",{parentName:"p"},"\u63d2\u4ef6"),"\uff0c\u5bf9",(0,o.kt)("inlineCode",{parentName:"p"},"Vue"),"\u5e94\u7528\u4e2d\u591a\u4e2a\u7ec4\u4ef6\u7684\u5171\u4eab\u72b6\u6001\u8fdb\u884c\u96c6\u4e2d\u5f0f\u7684\u7ba1\u7406(\u8bfb/\u5199)\uff0c\u4e5f\u662f\u4e00\u79cd\u7ec4\u4ef6\u95f4\u901a\u4fe1\u7684\u65b9\u5f0f\uff0c\u4e14\u9002\u7528\u4e8e\u4efb\u610f\u7ec4\u4ef6\u95f4\u901a\u4fe1"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://october-x-image-host.oss-cn-hangzhou.aliyuncs.com/markdown-imgsimage-20221206191510747.png",alt:"image-20221206191510747"})),(0,o.kt)("h3",{id:"image-20221206191515329\u4ec0\u4e48\u65f6\u5019\u4f7f\u7528vuex"},(0,o.kt)("img",{parentName:"h3",src:"https://october-x-image-host.oss-cn-hangzhou.aliyuncs.com/markdown-imgsimage-20221206191515329.png",alt:"image-20221206191515329"}),"\u4ec0\u4e48\u65f6\u5019\u4f7f\u7528Vuex"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"\u591a\u4e2a\u7ec4\u4ef6\u4f9d\u8d56\u4e8e\u540c\u4e00\u72b6\u6001"),(0,o.kt)("li",{parentName:"ol"},"\u6765\u81ea\u4e0d\u540c\u7ec4\u4ef6\u7684\u884c\u4e3a\u9700\u8981\u53d8\u66f4\u540c\u4e00\u72b6\u6001")),(0,o.kt)("h3",{id:"vuex\u5de5\u4f5c\u539f\u7406\u56fe"},"Vuex\u5de5\u4f5c\u539f\u7406\u56fe"),(0,o.kt)("h3",{id:"image-20221206191537231"},(0,o.kt)("img",{parentName:"h3",src:"https://october-x-image-host.oss-cn-hangzhou.aliyuncs.com/markdown-imgsimage-20221206191537231.png",alt:"image-20221206191537231"})),(0,o.kt)("h2",{id:"\u6c42\u548c\u6848\u4f8b"},"\u6c42\u548c\u6848\u4f8b"),(0,o.kt)("h3",{id:"\u4f7f\u7528\u7eafvue\u7f16\u5199"},"\u4f7f\u7528\u7eafvue\u7f16\u5199"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://october-x-image-host.oss-cn-hangzhou.aliyuncs.com/markdown-imgsimage-20221206191541123.png",alt:"image-20221206191541123"}),"\nsrc/App.vue"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-vue"},'<template>\n  <div>\n    <Count/>\n  </div>\n</template>\n\n<script>\nimport Count from "./components/Count.vue";\n\nexport default {\n  name: "App",\n  components: { Count },\n};\n<\/script>\n')),(0,o.kt)("p",null,"src / components/ Count.vue"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-vue"},'<template>\n  <div>\n    <h2>\u5f53\u524d\u6c42\u548c\u4e3a\uff1a{{ sum }}</h2>\n    <select v-model.number="n">\n      <option value="1">1</option>\n      <option value="2">2</option>\n      <option value="3">3</option>\n    </select>\n    <button @click="increment">+</button>\n    <button @click="decrement">-</button>\n    <button @click="incrementOdd">\u5f53\u524d\u6c42\u548c\u4e3a\u5947\u6570\u518d\u52a0</button>\n    <button @click="incrementWait">\u7b49\u4e00\u7b49\u518d\u52a0</button>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: "Count",\n    data() {\n      return {\n        sum: 0, // \u5f53\u524d\u7684\u548c\n        n: 1, // \u7528\u6237\u9009\u62e9\u7684\u6570\u5b57\n      };\n    },\n    methods: {\n      increment() {\n        this.sum += this.n;\n      },\n      decrement() {\n        this.sum -= this.n;\n      },\n      incrementOdd() {\n        if (this.sum % 2) {\n          this.sum += this.n;\n        }\n      },\n      incrementWait() {\n        setTimeout(() => {\n          this.sum += this.n;\n        }, 500);\n      },\n    },\n  };\n<\/script>\n\n<style>\n  button {margin-left: 5px;}\n</style>\n')),(0,o.kt)("h3",{id:"\u642d\u5efavuex\u73af\u5883"},"\u642d\u5efaVuex\u73af\u5883"),(0,o.kt)("p",null,"1\uff0e\u4e0b\u8f7d\u5b89\u88c5vuex ",(0,o.kt)("inlineCode",{parentName:"p"},"npm i vuex")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"npm i vuex"),"\u9ed8\u8ba4\u662f\u5b89\u88c5",(0,o.kt)("inlineCode",{parentName:"li"},"vuex4"),"\uff0c",(0,o.kt)("inlineCode",{parentName:"li"},"vuex4"),"\u53ea\u80fd\u5728",(0,o.kt)("inlineCode",{parentName:"li"},"vue3"),"\u4e2d\u4f7f\u7528\u3002",(0,o.kt)("inlineCode",{parentName:"li"},"vue2"),"\u4e2d\u4f7f\u7528\u7684\u8bdd\u4f1a\u51fa\u73b0\u5982\u4e0b\u62a5\u9519")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://october-x-image-host.oss-cn-hangzhou.aliyuncs.com/markdown-imgsimage-20221206191613366.png",alt:"image-20221206191613366"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"vue2"),"\u4e2d\u4f7f\u7528",(0,o.kt)("inlineCode",{parentName:"li"},"vuex3"),"\u7248\u672c\uff0c\u5b89\u88c5\uff1a",(0,o.kt)("inlineCode",{parentName:"li"},"npm i vuex@3"))),(0,o.kt)("p",null,"2\uff0e\u521b\u5efa",(0,o.kt)("inlineCode",{parentName:"p"},"src/store/index.js"),"\u8be5\u6587\u4ef6\u7528\u4e8e\u521b\u5efa",(0,o.kt)("inlineCode",{parentName:"p"},"vuex"),"\u4e2d\u6700\u4e3a\u6838\u5fc3\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"store")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"import Vue from 'vue'\nimport Vuex from 'vuex' // \u5f15\u5165Vuex\n\nVue.use(Vuex)   // \u5e94\u7528Vuex\u63d2\u4ef6\n\nconst actions = {}      // \u51c6\u5907actions\u2014\u2014\u7528\u4e8e\u54cd\u5e94\u7ec4\u4ef6\u4e2d\u7684\u52a8\u4f5c\nconst mutations = {}    // \u51c6\u5907mutations\u2014\u2014\u7528\u4e8e\u64cd\u4f5c\u6570\u636e\uff08state\uff09\nconst state = {}            // \u51c6\u5907state\u2014\u2014\u7528\u4e8e\u5b58\u50a8\u6570\u636e\n\n// \u521b\u5efa\u5e76\u66b4\u9732store\nexport default new Vuex.Store({\n  actions,\n  mutations,\n  state,\n})\n")),(0,o.kt)("p",null,"3.\u5728src/main.is \u4e2d\u521b\u5efavm\u65f6\u4f20\u5165store\u914d\u7f6e\u9879"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-vue"},"import Vue from 'vue'\nimport App from './App.vue'\nimport store from './store' // \u5f15\u5165store\n\nVue.config.productionTip = false\n\nnew Vue({\n    el: '#app',\n    render: h => h(App),\n    store,                                      // \u914d\u7f6e\u9879\u6dfb\u52a0store\n    beforeCreate() {\n        Vue.prototype.$bus = this\n    }\n})\n")),(0,o.kt)("h3",{id:"\u4f7f\u7528vuex\u7f16\u5199vuex\u7684\u57fa\u672c\u4f7f\u7528"},"\u4f7f\u7528Vuex\u7f16\u5199Vuex\u7684\u57fa\u672c\u4f7f\u7528"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"\u521d\u59cb\u5316\u6570\u636e",(0,o.kt)("inlineCode",{parentName:"p"},"state"),"\uff0c\u914d\u7f6e",(0,o.kt)("inlineCode",{parentName:"p"},"actions")," \u3001 ",(0,o.kt)("inlineCode",{parentName:"p"},"mutations"),"\uff0c\u64cd\u4f5c\u6587\u4ef6",(0,o.kt)("inlineCode",{parentName:"p"},"store.js"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"\u7ec4\u4ef6\u4e2d\u8bfb\u53d6",(0,o.kt)("inlineCode",{parentName:"p"},"vuex"),"\u4e2d\u7684\u6570\u636e",(0,o.kt)("inlineCode",{parentName:"p"},"$store.state.\u6570\u636e"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"\u7ec4\u4ef6\u4e2d\u4fee\u6539vuex\u4e2d\u7684\u6570\u636e",(0,o.kt)("inlineCode",{parentName:"p"},"$store.dispatch( 'action\u4e2d\u7684\u65b9\u6cd5\u540d',\u6570\u636e)"),"\u6216",(0,o.kt)("inlineCode",{parentName:"p"},"$store.commit( ' mutations\u4e2d\u7684\u65b9\u6cd5\u540d',\u6570\u636e)"),"\u82e5\u6ca1\u6709\u7f51\u7edc\u8bf7\u6c42\u6216\u5176\u4ed6\u4e1a\u52a1\u903b\u8f91\uff0c\u7ec4\u4ef6\u4e2d\u4e5f\u53ef\u8d8a\u8fc7",(0,o.kt)("inlineCode",{parentName:"p"},"actions"),"\uff0c\u5373\u4e0d\u5199",(0,o.kt)("inlineCode",{parentName:"p"},"dispatch"),"\uff0c\u76f4\u63a5\u7f16\u5199",(0,o.kt)("inlineCode",{parentName:"p"},"commit")))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u6ce8\u610f\uff1aimport\u7684\u5f15\u5165\u6267\u884c\u7684\u4f18\u5148\u7ea7\u6bd4\u666e\u901a\u4ee3\u7801\u7684\u9ad8\uff0c\u6240\u4ee5import\u4e0d\u7ba1\u5728\u54ea\u91cc\u5f15\u5165\u90fd\u76f8\u5f53\u4e8e\u5728\u6700\u4e0a\u9762\u5199\u7684\u3002"),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"src/store/index.js "),"\u8be5\u6587\u4ef6\u7528\u4e8e\u521b\u5efavuex\u4e2d\u6700\u4e3a\u6838\u5fc3\u7684store"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"import Vue from 'vue'\nimport Vuex from 'vuex' // \u5f15\u5165Vuex\n\nVue.use(Vuex)   // \u5e94\u7528Vuex\u63d2\u4ef6\n\n// \u51c6\u5907actions\u2014\u2014\u7528\u4e8e\u54cd\u5e94\u7ec4\u4ef6\u4e2d\u7684\u52a8\u4f5c\nconst actions = {\n  /* jia(context,value){\n  console.log('actions\u4e2d\u7684jia\u88ab\u8c03\u7528\u4e86')\n  context.commit('JIA',value)\n  },\n  jian(context,value){\n  console.log('actions\u4e2d\u7684jian\u88ab\u8c03\u7528\u4e86')\n  context.commit('JIAN',value)\n  }, */\n  jiaOdd(context,value){    // context \u76f8\u5f53\u4e8e\u7cbe\u7b80\u7248\u7684 $store\n    console.log('actions\u4e2d\u7684jiaOdd\u88ab\u8c03\u7528\u4e86')\n    if(context.state.sum % 2){\n      context.commit('JIA',value)\n    }\n  },\n  jiaWait(context,value){\n    console.log('actions\u4e2d\u7684jiaWait\u88ab\u8c03\u7528\u4e86')\n    setTimeout(()=>{\n      context.commit('JIA',value)\n    },500)\n  }\n}\n// \u51c6\u5907mutations\u2014\u2014\u7528\u4e8e\u64cd\u4f5c\u6570\u636e\uff08state\uff09\nconst mutations = {\n  JIA(state,value){\n    console.log('mutations\u4e2d\u7684JIA\u88ab\u8c03\u7528\u4e86')\n    state.sum += value\n  },\n  JIAN(state,value){\n    console.log('mutations\u4e2d\u7684JIAN\u88ab\u8c03\u7528\u4e86')\n    state.sum -= value\n  }\n}\n// \u51c6\u5907state\u2014\u2014\u7528\u4e8e\u5b58\u50a8\u6570\u636e\nconst state = {\n  sum:0 //\u5f53\u524d\u7684\u548c\n}\n\n// \u521b\u5efa\u5e76\u66b4\u9732store\nexport default new Vuex.Store({\n  actions,\n  mutations,\n  state,\n})\n")),(0,o.kt)("p",null,"src/ components/Count.vue"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-vue"},'<template>\n    <div>\n        <h1>\u5f53\u524d\u6c42\u548c\u4e3a\uff1a{{ $store.state.sum }}</h1>\n        <select v-model.number="n">\n            <option value="1">1</option>\n            <option value="2">2</option>\n            <option value="3">3</option>\n        </select>\n        <button @click="increment">+</button>\n        <button @click="decrement">-</button>\n        <button @click="incrementOdd">\u5f53\u524d\u6c42\u548c\u4e3a\u5947\u6570\u518d\u52a0</button>\n        <button @click="incrementWait">\u7b49\u4e00\u7b49\u518d\u52a0</button>\n    </div>\n</template>\n\n<script>\n    export default {\n        name:\'Count\',\n        data() {\n            return {\n                n:1, //\u7528\u6237\u9009\u62e9\u7684\u6570\u5b57\n            }\n        },\n        methods: {\n            increment(){\n                this.$store.commit(\'JIA\',this.n)\n            },\n            decrement(){\n                this.$store.commit(\'JIAN\',this.n)\n            },\n            incrementOdd(){\n                this.$store.dispatch(\'jiaOdd\',this.n)\n            },\n            incrementWait(){\n                this.$store.dispatch(\'jiaWait\',this.n)\n            },\n        }\n    }\n<\/script>\n\n<style lang="css">button{margin-left: 5px;}</style>\n\n')),(0,o.kt)("h2",{id:"getters\u914d\u7f6e\u9879"},"getters\u914d\u7f6e\u9879"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"\u6982\u5ff5:\u5f53",(0,o.kt)("inlineCode",{parentName:"li"},"state"),"\u4e2d\u7684\u6570\u636e\u9700\u8981\u7ecf\u8fc7\u52a0\u5de5\u540e\u518d\u4f7f\u7528\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528",(0,o.kt)("inlineCode",{parentName:"li"},"**getters**")," \u52a0\u5de5\uff0c\u76f8\u5f53\u4e8e",(0,o.kt)("strong",{parentName:"li"},"\u5168\u5c40\u8ba1\u7b97\u5c5e\u6027")),(0,o.kt)("li",{parentName:"ol"},"\u5728",(0,o.kt)("inlineCode",{parentName:"li"},"store.js "),"\u4e2d\u8ffd\u52a0",(0,o.kt)("inlineCode",{parentName:"li"},"**getters**"),"\u914d\u7f6e")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-vue"},"......\n\nconst getters = {\n    bigSum(state){\n        return state.sum * 10\n    }\n}\n\n// \u521b\u5efa\u5e76\u66b4\u9732store\nexport default new Vuex.Store({\n    ......\n    getters\n})\n")),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"\u7ec4\u4ef6\u4e2d\u8bfb\u53d6\u6570\u636e",(0,o.kt)("inlineCode",{parentName:"li"},"$store.getters.bigSum"))),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://october-x-image-host.oss-cn-hangzhou.aliyuncs.com/markdown-imgsimage-20221206191729571.png",alt:"image-20221206191729571"}),"\nsrc/ store/index.js"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-vue"},"import Vue from 'vue'   // \u5f15\u5165Vue\u6838\u5fc3\u5e93\nimport Vuex from 'vuex' // \u5f15\u5165Vuex\n\nVue.use(Vuex)   // \u5e94\u7528Vuex\u63d2\u4ef6\n   \n// \u51c6\u5907actions\u5bf9\u8c61\u2014\u2014\u54cd\u5e94\u7ec4\u4ef6\u4e2d\u7528\u6237\u7684\u52a8\u4f5c\nconst actions = {\n    addOdd(context,value){\n        console.log(\"actions\u4e2d\u7684addOdd\u88ab\u8c03\u7528\u4e86\")\n        if(context.state.sum % 2){context.commit('ADD',value)}\n    },\n    addWait(context,value){\n        console.log(\"actions\u4e2d\u7684addWait\u88ab\u8c03\u7528\u4e86\")\n        setTimeout(()=>{context.commit('ADD',value)},500)\n    },\n}\n// \u51c6\u5907mutations\u5bf9\u8c61\u2014\u2014\u4fee\u6539state\u4e2d\u7684\u6570\u636e\nconst mutations = {\n    ADD(state,value){state.sum += value},\n    SUB(state,value){state.sum -= value}\n}\n// \u51c6\u5907state\u5bf9\u8c61\u2014\u2014\u4fdd\u5b58\u5177\u4f53\u7684\u6570\u636e\nconst state = {\n    sum:0 // \u5f53\u524d\u7684\u548c\n}\n// \u51c6\u5907getters\u5bf9\u8c61\u2014\u2014\u7528\u4e8e\u5c06state\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u52a0\u5de5\nconst getters = {\n    bigSum(){\n        return state.sum * 10\n    }\n}\n   \n//\u521b\u5efa\u5e76\u66b4\u9732store\nexport default new Vuex.Store({\n    actions,\n    mutations,\n    state,\n    getters\n})\n")),(0,o.kt)("p",null,"src/ Count.vue"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-vue"},'<template>\n    <div>\n        <h1>\u5f53\u524d\u6c42\u548c\u4e3a\uff1a{{ $store.state.sum }}</h1>\n        <h3>\u5f53\u524d\u6c42\u548c\u768410\u500d\u4e3a\uff1a{{ $store.getters.bigSum }}</h3>\n        <select v-model.number="n">\n            <option value="1">1</option>\n            <option value="2">2</option>\n            <option value="3">3</option>\n        </select>\n        <button @click="increment">+</button>\n        <button @click="decrement">-</button>\n        <button @click="incrementOdd">\u5f53\u524d\u6c42\u548c\u4e3a\u5947\u6570\u518d\u52a0</button>\n        <button @click="incrementWait">\u7b49\u4e00\u7b49\u518d\u52a0</button>\n    </div>\n</template>\n\n<script>\n    export default {\n        name:\'Count\',\n        data() {\n            return {\n                n:1,\n            }\n        },\n        methods: {\n            increment(){this.$store.commit(\'ADD\',this.n)},\n            decrement(){this.$store.commit(\'SUBTRACT\',this.n)},\n            incrementOdd(){this.$store.dispatch(\'addOdd\',this.n)},\n            incrementWait(){this.$store.dispatch(\'addWait\',this.n)},\n        },\n    }\n<\/script>\n\n<style>button{margin-left: 5px;}</style>\n')),(0,o.kt)("h2",{id:"\u56db\u4e2amap\u65b9\u6cd5\u7684\u4f7f\u7528"},"\u56db\u4e2amap\u65b9\u6cd5\u7684\u4f7f\u7528"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"mapstate\u65b9\u6cd5"),":\u7528\u4e8e\u5e2e\u52a9\u6620\u5c04",(0,o.kt)("inlineCode",{parentName:"li"},"state"),"\u4e2d\u7684\u6570\u636e\u4e3a",(0,o.kt)("strong",{parentName:"li"},"\u8ba1\u7b97\u5c5e\u6027"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-vue"},"computed: {\n    // \u501f\u52a9mapState\u751f\u6210\u8ba1\u7b97\u5c5e\u6027\uff1asum\u3001school\u3001subject\uff08\u5bf9\u8c61\u5199\u6cd5\u4e00\uff09\n    ...mapState({sum:'sum',school:'school',subject:'subject'}),\n\n    // \u501f\u52a9mapState\u751f\u6210\u8ba1\u7b97\u5c5e\u6027\uff1asum\u3001school\u3001subject\uff08\u6570\u7ec4\u5199\u6cd5\u4e8c\uff09\n    ...mapState(['sum','school','subject']),\n},\n")),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"mapGetters\u65b9\u6cd5"),":\u7528\u4e8e\u5e2e\u52a9\u6620\u5c04",(0,o.kt)("inlineCode",{parentName:"li"},"getters"),"\u4e2d\u7684\u6570\u636e\u4e3a",(0,o.kt)("strong",{parentName:"li"},"\u8ba1\u7b97\u5c5e\u6027"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-vue"},"computed: {\n    //\u501f\u52a9mapGetters\u751f\u6210\u8ba1\u7b97\u5c5e\u6027\uff1abigSum\uff08\u5bf9\u8c61\u5199\u6cd5\u4e00\uff09\n    ...mapGetters({bigSum:'bigSum'}),\n\n    //\u501f\u52a9mapGetters\u751f\u6210\u8ba1\u7b97\u5c5e\u6027\uff1abigSum\uff08\u6570\u7ec4\u5199\u6cd5\u4e8c\uff09\n    ...mapGetters(['bigSum'])\n},\n")),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"mapActions\u65b9\u6cd5"),":\u7528\u4e8e\u5e2e\u52a9\u751f\u6210\u4e0e",(0,o.kt)("inlineCode",{parentName:"li"},"actions"),"\u5bf9\u8bdd\u7684\u65b9\u6cd5\uff0c\u5373\u5305\u542b",(0,o.kt)("inlineCode",{parentName:"li"},"$store.dispatch(xxx)"),"\u7684\u51fd\u6570")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-vue"},"methods:{\n    //\u9760mapActions\u751f\u6210\uff1aincrementOdd\u3001incrementWait\uff08\u5bf9\u8c61\u5f62\u5f0f\uff09\n    ...mapActions({incrementOdd:'jiaOdd',incrementWait:'jiaWait'})\n\n    //\u9760mapActions\u751f\u6210\uff1aincrementOdd\u3001incrementWait\uff08\u6570\u7ec4\u5f62\u5f0f\uff09\n    ...mapActions(['jiaOdd','jiaWait'])\n}\n")),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"mapMutations\u65b9\u6cd5"),":\u7528\u4e8e\u5e2e\u52a9\u751f\u6210\u4e0e",(0,o.kt)("inlineCode",{parentName:"li"},"mutations"),"\u5bf9\u8bdd\u7684\u65b9\u6cd5\uff0c\u5373\u5305\u542b ",(0,o.kt)("inlineCode",{parentName:"li"},"$store.commit(xxx)"),"\u7684\u51fd\u6570")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"methods:{\n    //\u9760mapActions\u751f\u6210\uff1aincrement\u3001decrement\uff08\u5bf9\u8c61\u5f62\u5f0f\uff09\n    ...mapMutations({increment:'JIA',decrement:'JIAN'}),\n        \n        //\u9760mapMutations\u751f\u6210\uff1aJIA\u3001JIAN\uff08\u5bf9\u8c61\u5f62\u5f0f\uff09\n        ...mapMutations(['JIA','JIAN']),\n}\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u6ce8\u610f"),":",(0,o.kt)("inlineCode",{parentName:"p"},"mapActions")," \u4e0e",(0,o.kt)("inlineCode",{parentName:"p"},"mapMutations"),"\u4f7f\u7528\u65f6\uff0c\u82e5\u9700\u8981\u4f20\u9012\u53c2\u6570\u9700\u8981:",(0,o.kt)("strong",{parentName:"p"},"\u5728\u6a21\u677f\u4e2d\u7ed1\u5b9a\u4e8b\u4ef6\u65f6\u4f20\u9012\u597d\u53c2\u6570"),"\uff0c\u5426\u5219\u53c2\u6570\u662f\u4e8b\u4ef6\u5bf9\u8c61"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"src/ components/Count.vue")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-vue"},"<template>\n    <div>\n        <h1>\u5f53\u524d\u6c42\u548c\u4e3a\uff1a{{ sum }}</h1>\n        <h3>\u5f53\u524d\u6c42\u548c\u768410\u500d\u4e3a\uff1a{{ bigSum }}</h3>\n        <h3>\u6211\u662f{{ name }}\uff0c\u6211\u5728{{ school }}\u5b66\u4e60</h3>\n        <select v-model.number=\"n\">\n            <option value=\"1\">1</option>\n            <option value=\"2\">2</option>\n            <option value=\"3\">3</option>\n        </select>\n        <button @click=\"increment(n)\">+</button>\n        <button @click=\"decrement(n)\">-</button>\n        <button @click=\"addOdd(n)\">\u5f53\u524d\u6c42\u548c\u4e3a\u5947\u6570\u518d\u52a0</button>\n        <button @click=\"addWait(n)\">\u7b49\u4e00\u7b49\u518d\u52a0</button>\n    </div>\n</template>\n\n<script>\n    import {mapState, mapGetters, mapMutations, mapActions} from 'vuex' //\ud83d\udd34\n\n    export default {\n        name: 'Count',\n        data() {\n            return {\n                n:1, //\u7528\u6237\u9009\u62e9\u7684\u6570\u5b57\n            }\n        },\n  computed: {       \n            ...mapState(['sum','school','name']),\n            ...mapGetters(['bigSum'])\n        },\n        methods: {\n            ...mapMutations({increment:'ADD', decrement:'SUBTRACT'}),\n            ...mapActions(['addOdd', 'addWait'])\n        },\n    }\n<\/script>\n\n<style>\n    button{\n        margin-left: 5px;\n    }\n</style>\n")),(0,o.kt)("h2",{id:"\u591a\u7ec4\u4ef6\u5171\u4eab\u6570\u636e\u6848\u4f8b"},"\u591a\u7ec4\u4ef6\u5171\u4eab\u6570\u636e\u6848\u4f8b"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://october-x-image-host.oss-cn-hangzhou.aliyuncs.com/markdown-imgsimage-20221206191747061.png",alt:"image-20221206191747061"}),"\nsrc/App.vue"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-vue"},'<template>\n  <div>\n    <Count/><hr/>\n    <Person/>\n  </div>\n</template>\n\n<script>\nimport Count from "./components/Count.vue";\nimport Person from "./components/Person.vue";\n\nexport default {\n  name: "App",\n  components: { Count, Person },\n};\n<\/script>\n')),(0,o.kt)("p",null,"src/store/index.js \u8be5\u6587\u4ef6\u7528\u4e8e\u521b\u5efaVuex\u4e2d\u6700\u4e3a\u6838\u5fc3\u7684store"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nconst actions = {\n    jiaOdd(context,value){\n        console.log('actions\u4e2d\u7684jiaOdd\u88ab\u8c03\u7528\u4e86')\n        if(context.state.sum % 2){\n            context.commit('JIA',value)\n        }\n    },\n    jiaWait(context,value){\n        console.log('actions\u4e2d\u7684jiaWait\u88ab\u8c03\u7528\u4e86')\n        setTimeout(()=>{\n            context.commit('JIA',value)\n        },500)\n    }\n}\n\n//\u51c6\u5907mutations\u2014\u2014\u7528\u4e8e\u64cd\u4f5c\u6570\u636e\uff08state\uff09\nconst mutations = {\n    JIA(state,value){\n        console.log('mutations\u4e2d\u7684JIA\u88ab\u8c03\u7528\u4e86')\n        state.sum += value\n    },\n    JIAN(state,value){\n        console.log('mutations\u4e2d\u7684JIAN\u88ab\u8c03\u7528\u4e86')\n        state.sum -= value\n    },\n    ADD_PERSON(state,value){\n        console.log('mutations\u4e2d\u7684ADD_PERSON\u88ab\u8c03\u7528\u4e86')\n        state.personList.unshift(value)\n    }\n}\n\n//\u51c6\u5907state\u2014\u2014\u7528\u4e8e\u5b58\u50a8\u6570\u636e\nconst state = {\n    sum: 0,\n    school: '\u5c1a\u7845\u8c37',\n    subject: '\u524d\u7aef',\n    personList: []\n}\n\n//\u51c6\u5907getters\u2014\u2014\u7528\u4e8e\u5c06state\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u52a0\u5de5\nconst getters = {\n    bigSum(state){\n        return state.sum*10\n    }\n}\n\n//\u521b\u5efa\u5e76\u66b4\u9732store\nexport default new Vuex.Store({\n    actions,\n    mutations,\n    state,\n    getters\n})\n")),(0,o.kt)("p",null,"src / components/Count.vue"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-vue"},"<template>\n    <div>\n        <h1>\u5f53\u524d\u6c42\u548c\u4e3a\uff1a{{ sum }}</h1>\n        <h3>\u5f53\u524d\u6c42\u548c\u653e\u592710\u500d\u4e3a\uff1a{{ bigSum }}</h3>\n        <h3>\u6211\u5728{{ school }}\uff0c\u5b66\u4e60{{ subject }}</h3>\n        <h3 style=\"color:red\">Person\u7ec4\u4ef6\u7684\u603b\u4eba\u6570\u662f\uff1a{{ personList.length }}</h3>\n        <select v-model.number=\"n\">\n            <option value=\"1\">1</option>\n            <option value=\"2\">2</option>\n            <option value=\"3\">3</option>\n        </select>\n        <button @click=\"increment(n)\">+</button>\n        <button @click=\"decrement(n)\">-</button>\n        <button @click=\"incrementOdd(n)\">\u5f53\u524d\u6c42\u548c\u4e3a\u5947\u6570\u518d\u52a0</button>\n        <button @click=\"incrementWait(n)\">\u7b49\u4e00\u7b49\u518d\u52a0</button>\n    </div>\n</template>\n\n<script>\n    import {mapState,mapGetters,mapMutations,mapActions} from 'vuex'\n    export default {\n        name:'Count',\n        data() {\n            return {\n                n:1, //\u7528\u6237\u9009\u62e9\u7684\u6570\u5b57\n            }\n        },\n        computed:{\n            ...mapState(['sum','school','subject','personList']),\n            ...mapGetters(['bigSum'])\n        },\n        methods: {\n            ...mapMutations({increment:'JIA',decrement:'JIAN'}),\n            ...mapActions({incrementOdd:'jiaOdd',incrementWait:'jiaWait'})\n        }\n    }\n<\/script>\n\n<style lang=\"css\">button{margin-left: 5px;}</style>\n")),(0,o.kt)("p",null,"src / components/Person.vue"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-vue"},'<template>\n    <div>\n        <h1>\u4eba\u5458\u5217\u8868</h1>\n        <h3 style="color:red">Count\u7ec4\u4ef6\u6c42\u548c\u4e3a\uff1a{{ sum }}</h3>\n        <input type="text" placeholder="\u8bf7\u8f93\u5165\u540d\u5b57" v-model="name">\n        <button @click="add">\u6dfb\u52a0</button>\n        <ul>\n            <li v-for="p in personList" :key="p.id">{{ p.name }}</li>\n        </ul>\n    </div>\n</template>\n\n<script>\n    import {nanoid} from \'nanoid\'\n  import { mapState } from "vuex"\n  \n    export default {\n        name:\'Person\',\n        data() {\n            return {\n                name:\'\'\n            }\n        },\n        computed:{\n            personList(){return this.$store.state.personList},\n            sum(){return this.$store.state.sum}\n        },\n        methods: {\n            add(){\n        if (this.name === "") return\n                const personObj = {id:nanoid(),name:this.name}\n                this.$store.commit(\'ADD_PERSON\',personObj)\n                this.name = \'\'\n            }\n        },\n    }\n<\/script>\n')),(0,o.kt)("h2",{id:"\u6a21\u5757\u5316\u547d\u540d\u7a7a\u95f4"},"\u6a21\u5757\u5316+\u547d\u540d\u7a7a\u95f4"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"\u76ee\u7684:\u8ba9\u4ee3\u7801\u66f4\u597d\u7ef4\u62a4\uff0c\u8ba9\u591a\u79cd\u6570\u636e\u5206\u7c7b\u66f4\u52a0\u660e\u786e"),(0,o.kt)("li",{parentName:"ol"},"\u4fee\u6539",(0,o.kt)("inlineCode",{parentName:"li"},"store.js"))),(0,o.kt)("p",null,"\u4e3a\u4e86\u89e3\u51b3\u4e0d\u540c\u6a21\u5757\u547d\u540d\u51b2\u7a81\u7684\u95ee\u9898\uff0c\u5c06\u4e0d\u540c\u6a21\u5757\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"**namespaced: true **"),"\uff0c\u4e4b\u540e\u5728\u4e0d\u540c\u9875\u9762\u4e2d\u5f15\u5165",(0,o.kt)("inlineCode",{parentName:"p"},"getter ``actions``mutations")," \u65f6\uff0c\u9700\u8981\u52a0\u4e0a\u6240\u5c5e\u7684\u6a21\u5757\u540d"),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"\u5728\u521b\u5efastore\u7684\u65f6\u5019\uff0c\u8bbe\u7f6e",(0,o.kt)("inlineCode",{parentName:"li"},"**strict: true**"),"\u5373\u53ef\u5f00\u542f\u4e25\u683c\u6a21\u5f0f\u3002\u5728\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u53ea\u8981\u72b6\u6001\u53d8\u66f4\u4e0d\u662f\u901a\u8fc7mutation\u4ea7\u751f\u7684\uff0c\u5c31\u4f1a\u629b\u51fa\u9519\u8bef\u3002\u4e0d\u8fc7",(0,o.kt)("inlineCode",{parentName:"li"},"state")," \u8fd8\u662f\u4f1a\u88ab\u6539\u53d8\u3002")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"const countAbout = {\n  namespaced: true, // \u5f00\u542f\u547d\u540d\u7a7a\u95f4\n  state: {x:1},\n  mutations: { ... },\n  actions: { ... },\n  getters: {\n    bigSum(state){ return state.sum * 10 }\n  }\n}\n\nconst personAbout = {\n  namespaced: true, // \u5f00\u542f\u547d\u540d\u7a7a\u95f4\n  state: { ... },\n  mutations: { ... },\n  actions: { ... }\n}\n\nconst store = new Vuex.Store({\n  modules: {\n    countAbout,\n    personAbout\n  },\n    strict: true\n})\n")),(0,o.kt)("p",null,"3.\u5f00\u542f\u547d\u540d\u7a7a\u95f4\u540e\uff0c\u7ec4\u4ef6\u4e2d\u8bfb\u53d6",(0,o.kt)("inlineCode",{parentName:"p"},"state"),"\u6570\u636e"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"// \u65b9\u5f0f\u4e00\uff1a\u81ea\u5df1\u76f4\u63a5\u8bfb\u53d6\nthis.$store.state.personAbout.list\n// \u65b9\u5f0f\u4e8c\uff1a\u501f\u52a9mapState\u8bfb\u53d6\uff1a\n...mapState('countAbout',['sum','school','subject']),\n")),(0,o.kt)("p",null,"4.\u5f00\u542f\u547d\u540d\u7a7a\u95f4\u540e\uff0c\u7ec4\u4ef6\u4e2d\u8bfb\u53d6getters\u6570\u636e"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"//\u65b9\u5f0f\u4e00\uff1a\u81ea\u5df1\u76f4\u63a5\u8bfb\u53d6\nthis.$store.getters['personAbout/firstPersonName']\n//\u65b9\u5f0f\u4e8c\uff1a\u501f\u52a9mapGetters\u8bfb\u53d6\uff1a\n...mapGetters('countAbout',['bigSum'])\n")),(0,o.kt)("p",null,"5\uff0e\u5f00\u542f\u547d\u540d\u7a7a\u95f4\u540e\uff0c\u7ec4\u4ef6\u4e2d\u8c03\u7528",(0,o.kt)("inlineCode",{parentName:"p"},"dispatch")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"//\u65b9\u5f0f\u4e00\uff1a\u81ea\u5df1\u76f4\u63a5dispatch\nthis.$store.dispatch('personAbout/addPersonWang',person)\n//\u65b9\u5f0f\u4e8c\uff1a\u501f\u52a9mapActions\uff1a\n...mapActions('countAbout',{incrementOdd:'jiaOdd',incrementWait:'jiaWait'})\n")),(0,o.kt)("p",null,"6\uff0e\u5f00\u542f\u547d\u540d\u7a7a\u95f4\u540e\uff0c\u7ec4\u4ef6\u4e2d\u8c03\u7528",(0,o.kt)("inlineCode",{parentName:"p"},"commit")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"//\u65b9\u5f0f\u4e00\uff1a\u81ea\u5df1\u76f4\u63a5commit\nthis.$store.commit('personAbout/ADD_PERSON',person)\n//\u65b9\u5f0f\u4e8c\uff1a\u501f\u52a9mapMutations\uff1a\n...mapMutations('countAbout',{increment:'JIA',decrement:'JIAN'}),\n")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://october-x-image-host.oss-cn-hangzhou.aliyuncs.com/markdown-imgsimage-20221206191800819.png",alt:"image-20221206191800819"}),"\nsrc/ store/index.js"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"import Vue from 'vue'\nimport Vuex from 'vuex'\nimport countOptions from './count'      // \u5f15\u5165count\nimport personOptions from './person'    // \u5f15\u5165person\n\nVue.use(Vuex)\n\n//\u521b\u5efa\u5e76\u66b4\u9732store\nexport default new Vuex.Store({\n  modules:{\n    countAbout:countOptions,\n    personAbout:personOptions,\n  }\n})\n")),(0,o.kt)("p",null,"src/ store/ count.js"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"export default {\n  namespaced:true,\n  actions: {\n    addOdd(context,value){\n      console.log(\"actions\u4e2d\u7684addOdd\u88ab\u8c03\u7528\u4e86\")\n      if(context.state.sum % 2){\n        context.commit('ADD',value)\n      }\n    },\n    addWait(context,value){\n      console.log(\"actions\u4e2d\u7684addWait\u88ab\u8c03\u7528\u4e86\")\n      setTimeout(()=>{\n        context.commit('ADD',value)\n      },500)\n    }\n  },\n  mutations: {\n    ADD(state,value){ state.sum += value },\n    SUBTRACT(state,value){ state.sum -= value }\n  },\n  state: {\n    sum:0,\n    school:'\u5c1a\u7845\u8c37',\n    subject: '\u524d\u7aef'\n  },\n  getters: {\n    bigSum(state){ return state.sum * 10 }\n  }\n}\n")),(0,o.kt)("p",null,"src/store/person.js"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-vue"},"import axios from \"axios\"\nimport { nanoid } from \"nanoid\"\n\nexport default{\n    namespaced:true,\n    actions:{\n        addPersonWang(context,value){\n            if(value.name.indexOf('\u738b') === 0){\n                context.commit('ADD_PERSON',value)\n            }else{\n                alert('\u6dfb\u52a0\u7684\u4eba\u5fc5\u987b\u59d3\u738b\uff01')\n            }\n        },\n        addPersonServer(context){\n            axios.get('http://api.uixsj.cn/hitokoto/get?type=social').then(\n                response => {\n                    context.commit('ADD_PERSON',{id:nanoid(),name:response.data})\n                },\n                error => { alert(error.message) }\n            )\n        }\n    },\n    mutations:{\n        ADD_PERSON(state,value){\n            console.log('mutations\u4e2d\u7684ADD_PERSON\u88ab\u8c03\u7528\u4e86')\n            state.personList.unshift(value)\n        }\n    },\n    state:{\n        personList:[]\n    },\n    getters:{\n        firstPersonName(state){ return state.personList[0].name }\n    }\n}\n")),(0,o.kt)("p",null,"src / components/Count.vue"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-vue"},"<template>\n    <div>\n        <h1>\u5f53\u524d\u6c42\u548c\u4e3a\uff1a{{ sum }}</h1>\n        <h3>\u5f53\u524d\u6c42\u548c\u768410\u500d\u4e3a\uff1a{{ bigSum }}</h3>\n        <h3>\u6211\u662f{{ name }}\uff0c\u6211\u5728{{ school }}\u5b66\u4e60</h3>\n        <h3 style=\"color:red\">Person\u7ec4\u4ef6\u7684\u603b\u4eba\u6570\u662f\uff1a{{ personList.length }}</h3>\n        <select v-model.number=\"n\">\n            <option value=\"1\">1</option>\n            <option value=\"2\">2</option>\n            <option value=\"3\">3</option>\n        </select>\n        <button @click=\"increment(n)\">+</button>\n        <button @click=\"decrement(n)\">-</button>\n        <button @click=\"incrementOdd(n)\">\u5f53\u524d\u6c42\u548c\u4e3a\u5947\u6570\u518d\u52a0</button>\n        <button @click=\"incrementWait(n)\">\u7b49\u4e00\u7b49\u518d\u52a0</button>\n    </div>\n</template>\n\n<script>\n    import {mapState,mapGetters,mapMutations,mapActions} from 'vuex'\n\n    export default {\n        name:'Count',\n        data() {\n            return {\n                n:1, // \u7528\u6237\u9009\u62e9\u7684\u6570\u5b57\n            }\n        },\n    computed:{\n            ...mapState('countAbout',['sum','school','name']),\n      ...mapState('personAbout',['personList']),\n            ...mapGetters('countAbout',['bigSum']),\n        }\n        methods: {\n            ...mapMutations('countAbout',{increment:'ADD',decrement:'SUBTRACT'}),\n            ...mapActions('countAbout',{incrementOdd:'addOdd',incrementWait:'addWait'})\n        },\n    }\n<\/script>\n\n<style>button{margin-left: 5px;}</style>\n")),(0,o.kt)("p",null,"src / components /Person.vue"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-vue"},"<template>\n    <div>\n        <h1>\u4eba\u5458\u5217\u8868</h1>\n        <h3 style=\"color:red\">Count\u7ec4\u4ef6\u6c42\u548c\u4e3a\uff1a{{ sum }}</h3>\n        <h3>\u5217\u8868\u4e2d\u7b2c\u4e00\u4e2a\u4eba\u7684\u540d\u5b57\u662f\uff1a{{ firstPersonName }}</h3>\n        <input type=\"text\" placeholder=\"\u8bf7\u8f93\u5165\u540d\u5b57\" v-model=\"name\">\n        <button @click=\"add\">\u6dfb\u52a0</button>\n        <button @click=\"addWang\">\u6dfb\u52a0\u4e00\u4e2a\u59d3\u738b\u7684\u4eba</button>\n        <button @click=\"addPerson\">\u968f\u673a\u6dfb\u52a0\u4e00\u4e2a\u4eba</button>\n        <ul>\n            <li v-for=\"p in personList\" :key=\"p.id\">{{ p.name }}</li>\n        </ul>\n    </div>\n</template>\n\n<script>\n    import {nanoid} from 'nanoid'\n    export default {\n        name: 'Person',\n        data() {\n            return {\n                name:''\n            }\n        },\n        computed: {\n            personList(){\n                return this.$store.state.personAbout.personList\n            },\n            sum(){\n                return this.$store.state.countAbout.sum\n            },\n      firstPersonName(){\n        return this.$store.getters['personAbout/firstPersonName']\n      }\n        },\n        methods: {\n            add(){\n                const personObj = {id:nanoid(),name:this.name}\n                this.$store.commit('personAbout/ADD_PERSON',personObj)\n                this.name = ''\n            },\n      addWang(){\n        const personObj = {id:nanoid(),name:this.name}\n        this.$store.dispatch('personAbout/addPersonWang',personObj)\n        this.name = ''   \n      },\n      addPerson(){\n        this.$store.dispatch('personAbout/addPersonServer')\n      }\n        },\n    }\n<\/script>\n")))}p.isMDXComponent=!0}}]);