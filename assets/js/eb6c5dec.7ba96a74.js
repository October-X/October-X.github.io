"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5757],{3905:(e,t,n)=>{n.d(t,{Zo:()=>i,kt:()=>d});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),m=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},i=function(e){var t=m(e.components);return a.createElement(p.Provider,{value:t},e.children)},c="mdxType",k={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,i=s(e,["components","mdxType","originalType","parentName"]),c=m(n),u=r,d=c["".concat(p,".").concat(u)]||c[u]||k[u]||l;return n?a.createElement(d,o(o({ref:t},i),{},{components:n})):a.createElement(d,o({ref:t},i))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,o=new Array(l);o[0]=u;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[c]="string"==typeof e?e:r,o[1]=s;for(var m=2;m<l;m++)o[m]=n[m];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},9794:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>s,toc:()=>m});var a=n(7462),r=(n(7294),n(3905));const l={},o="3.2 RocketMQ\u57fa\u7840\u7bc7",s={unversionedId:"Java/\u4e2d\u95f4\u4ef6/3.2 RocketMQ\u57fa\u7840\u7bc7",id:"Java/\u4e2d\u95f4\u4ef6/3.2 RocketMQ\u57fa\u7840\u7bc7",title:"3.2 RocketMQ\u57fa\u7840\u7bc7",description:"1. MQ\u7b80\u4ecb",source:"@site/docs/Java/7.\u4e2d\u95f4\u4ef6/3.2 RocketMQ\u57fa\u7840\u7bc7.md",sourceDirName:"Java/7.\u4e2d\u95f4\u4ef6",slug:"/Java/\u4e2d\u95f4\u4ef6/3.2 RocketMQ\u57fa\u7840\u7bc7",permalink:"/docs/Java/\u4e2d\u95f4\u4ef6/3.2 RocketMQ\u57fa\u7840\u7bc7",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Java/7.\u4e2d\u95f4\u4ef6/3.2 RocketMQ\u57fa\u7840\u7bc7.md",tags:[],version:"current",frontMatter:{},sidebar:"Java",previous:{title:"3.1 RabbitMQ\u5165\u95e8",permalink:"/docs/Java/\u4e2d\u95f4\u4ef6/3.1 RabbitMQ\u5165\u95e8"},next:{title:"3.3 Kafka\u5165\u95e8",permalink:"/docs/Java/\u4e2d\u95f4\u4ef6/3.3 Kafka\u5165\u95e8"}},p={},m=[{value:"1. MQ\u7b80\u4ecb",id:"1-mq\u7b80\u4ecb",level:3},{value:"1.1 \u9879\u76ee\u5de5\u7a0b\u5f0a\u7aef",id:"11-\u9879\u76ee\u5de5\u7a0b\u5f0a\u7aef",level:4},{value:"1.2 MQ\u7b80\u4ecb",id:"12-mq\u7b80\u4ecb",level:4},{value:"1.3 MQ\u4f5c\u7528",id:"13-mq\u4f5c\u7528",level:4},{value:"1.4 MQ\u57fa\u672c\u5de5\u4f5c\u6a21\u5f0f",id:"14-mq\u57fa\u672c\u5de5\u4f5c\u6a21\u5f0f",level:4},{value:"1.5 MQ\u4f18\u7f3a\u70b9\u5206\u6790",id:"15-mq\u4f18\u7f3a\u70b9\u5206\u6790",level:4},{value:"1.6 MQ\u4ea7\u54c1\u4ecb\u7ecd",id:"16-mq\u4ea7\u54c1\u4ecb\u7ecd",level:4},{value:"2. \u73af\u5883\u642d\u5efa",id:"2-\u73af\u5883\u642d\u5efa",level:3},{value:"2.1 \u57fa\u7840\u6982\u5ff5",id:"21-\u57fa\u7840\u6982\u5ff5",level:4},{value:"2.2 \u5b89\u88c5",id:"22-\u5b89\u88c5",level:4},{value:"2.3 \u4e0b\u8f7d",id:"23-\u4e0b\u8f7d",level:4},{value:"2.4 linux\u5b89\u88c5\u8fc7\u7a0b",id:"24-linux\u5b89\u88c5\u8fc7\u7a0b",level:4},{value:"2.5 windows\u5b89\u88c5",id:"25-windows\u5b89\u88c5",level:4},{value:"2.5.1<strong>\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u914d\u7f6e</strong>",id:"251\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u914d\u7f6e",level:5},{value:"2.5.2<strong>\u542f\u52a8</strong>",id:"252\u542f\u52a8",level:5},{value:"2.5.3<strong>\u6d4b\u8bd5</strong>",id:"253\u6d4b\u8bd5",level:5},{value:"2.5.4\u63a7\u5236\u53f0\u5b89\u88c5",id:"254\u63a7\u5236\u53f0\u5b89\u88c5",level:5},{value:"3. \u6d88\u606f\u53d1\u9001\uff08\u91cd\u70b9\uff09",id:"3-\u6d88\u606f\u53d1\u9001\u91cd\u70b9",level:3},{value:"3.1 \u4e3b\u8981\u5185\u5bb9",id:"31-\u4e3b\u8981\u5185\u5bb9",level:4},{value:"3.2 \u6d88\u606f\u53d1\u9001\u4e0e\u63a5\u6536\u5f00\u53d1\u6d41\u7a0b",id:"32-\u6d88\u606f\u53d1\u9001\u4e0e\u63a5\u6536\u5f00\u53d1\u6d41\u7a0b",level:4},{value:"3.3 \u5355\u751f\u4ea7\u8005\u5355\u6d88\u8d39\u8005\u6d88\u606f\u53d1\u9001\uff08OneToOne\uff09",id:"33-\u5355\u751f\u4ea7\u8005\u5355\u6d88\u8d39\u8005\u6d88\u606f\u53d1\u9001onetoone",level:4},{value:"3.4 \u5355\u751f\u4ea7\u8005\u591a\u6d88\u8d39\u8005\u6d88\u606f\u53d1\u9001\uff08OneToMany\uff09",id:"34-\u5355\u751f\u4ea7\u8005\u591a\u6d88\u8d39\u8005\u6d88\u606f\u53d1\u9001onetomany",level:4},{value:"3.5 \u5355\u751f\u4ea7\u8005\u591a\u6d88\u8d39\u8005\u6d88\u606f\u53d1\u9001\uff08OneToMany\uff09",id:"35-\u5355\u751f\u4ea7\u8005\u591a\u6d88\u8d39\u8005\u6d88\u606f\u53d1\u9001onetomany",level:4},{value:"3.6 \u591a\u751f\u4ea7\u8005\u591a\u6d88\u8d39\u8005\u6d88\u606f\u53d1\u9001\uff08ManyToMany\uff09",id:"36-\u591a\u751f\u4ea7\u8005\u591a\u6d88\u8d39\u8005\u6d88\u606f\u53d1\u9001manytomany",level:4},{value:"3.7 \u5c0f\u8282",id:"37-\u5c0f\u8282",level:4},{value:"4 \u6d88\u606f\u7c7b\u522b",id:"4-\u6d88\u606f\u7c7b\u522b",level:3},{value:"4.1 \u540c\u6b65\u6d88\u606f",id:"41-\u540c\u6b65\u6d88\u606f",level:4},{value:"4.2 \u5f02\u6b65\u6d88\u606f",id:"42-\u5f02\u6b65\u6d88\u606f",level:4},{value:"4.3 \u5355\u5411\u6d88\u606f",id:"43-\u5355\u5411\u6d88\u606f",level:4},{value:"4.4 \u5ef6\u65f6\u6d88\u606f",id:"44-\u5ef6\u65f6\u6d88\u606f",level:4},{value:"4.5 \u6279\u91cf\u6d88\u606f",id:"45-\u6279\u91cf\u6d88\u606f",level:4},{value:"4.6 \u6d88\u606f\u8fc7\u6ee4",id:"46-\u6d88\u606f\u8fc7\u6ee4",level:4},{value:"4.6.1\u5206\u7c7b\u8fc7\u6ee4",id:"461\u5206\u7c7b\u8fc7\u6ee4",level:5},{value:"4.6.2\u8bed\u6cd5\u8fc7\u6ee4\uff08\u5c5e\u6027\u8fc7\u6ee4/\u8bed\u6cd5\u8fc7\u6ee4/SQL\u8fc7\u6ee4\uff09",id:"462\u8bed\u6cd5\u8fc7\u6ee4\u5c5e\u6027\u8fc7\u6ee4\u8bed\u6cd5\u8fc7\u6ee4sql\u8fc7\u6ee4",level:5},{value:"5springboot\u6574\u5408",id:"5springboot\u6574\u5408",level:3},{value:"5.1\u5bfc\u5305",id:"51\u5bfc\u5305",level:4},{value:"5.2\u914d\u7f6e\u6587\u4ef6",id:"52\u914d\u7f6e\u6587\u4ef6",level:4},{value:"5.3\u5b9e\u4f53\u7c7b",id:"53\u5b9e\u4f53\u7c7b",level:4},{value:"5.4\u751f\u4ea7\u8005",id:"54\u751f\u4ea7\u8005",level:4},{value:"5.5\u6d88\u8d39\u8005",id:"55\u6d88\u8d39\u8005",level:4},{value:"5.6\u5176\u4ed6\u6d88\u606f",id:"56\u5176\u4ed6\u6d88\u606f",level:4},{value:"RocketMQ \u8fdb\u9636\u7bc7",id:"rocketmq-\u8fdb\u9636\u7bc7",level:2},{value:"1\u6d88\u606f\u7684\u7279\u6b8a\u5904\u7406",id:"1\u6d88\u606f\u7684\u7279\u6b8a\u5904\u7406",level:3},{value:"1.1 \u9519\u4e71\u7684\u6d88\u606f\u987a\u5e8f",id:"11-\u9519\u4e71\u7684\u6d88\u606f\u987a\u5e8f",level:4},{value:"1.2 \u987a\u5e8f\u6d88\u606f",id:"12-\u987a\u5e8f\u6d88\u606f",level:4},{value:"1.3 \u4e8b\u52a1\u6d88\u606f",id:"13-\u4e8b\u52a1\u6d88\u606f",level:4},{value:"1.4 \u4e8b\u52a1\u6d88\u606f\u72b6\u6001",id:"14-\u4e8b\u52a1\u6d88\u606f\u72b6\u6001",level:4},{value:"1.5 \u4e8b\u52a1\u6d88\u606f",id:"15-\u4e8b\u52a1\u6d88\u606f",level:4},{value:"2. \u96c6\u7fa4\u642d\u5efa",id:"2-\u96c6\u7fa4\u642d\u5efa",level:3},{value:"2.1 RocketMQ\u96c6\u7fa4\u5206\u7c7b",id:"21-rocketmq\u96c6\u7fa4\u5206\u7c7b",level:4},{value:"2.2 RocketMQ\u96c6\u7fa4\u7279\u5f81",id:"22-rocketmq\u96c6\u7fa4\u7279\u5f81",level:4},{value:"4.3 rocketmq-console\u96c6\u7fa4\u76d1\u63a7\u5e73\u53f0\u642d\u5efa",id:"43-rocketmq-console\u96c6\u7fa4\u76d1\u63a7\u5e73\u53f0\u642d\u5efa",level:4},{value:"3. \u9ad8\u7ea7\u7279\u6027\uff08\u91cd\u70b9\uff09",id:"3-\u9ad8\u7ea7\u7279\u6027\u91cd\u70b9",level:3},{value:"3.1 \u6d88\u606f\u7684\u5b58\u50a8",id:"31-\u6d88\u606f\u7684\u5b58\u50a8",level:4},{value:"3.2 \u6d88\u606f\u7684\u5b58\u50a8",id:"32-\u6d88\u606f\u7684\u5b58\u50a8",level:4},{value:"3.3 \u6d88\u606f\u7684\u5b58\u50a8\u4ecb\u8d28",id:"33-\u6d88\u606f\u7684\u5b58\u50a8\u4ecb\u8d28",level:4},{value:"3.4 \u9ad8\u6548\u7684\u6d88\u606f\u5b58\u50a8\u4e0e\u8bfb\u5199\u65b9\u5f0f",id:"34-\u9ad8\u6548\u7684\u6d88\u606f\u5b58\u50a8\u4e0e\u8bfb\u5199\u65b9\u5f0f",level:4},{value:"3.5 \u6d88\u606f\u5b58\u50a8\u7ed3\u6784",id:"35-\u6d88\u606f\u5b58\u50a8\u7ed3\u6784",level:4},{value:"3.6 \u5237\u76d8\u673a\u5236",id:"36-\u5237\u76d8\u673a\u5236",level:4},{value:"5.7 \u9ad8\u53ef\u7528\u6027",id:"57-\u9ad8\u53ef\u7528\u6027",level:4},{value:"5.8 \u4e3b\u4ece\u6570\u636e\u590d\u5236",id:"58-\u4e3b\u4ece\u6570\u636e\u590d\u5236",level:4},{value:"5.9 \u8d1f\u8f7d\u5747\u8861",id:"59-\u8d1f\u8f7d\u5747\u8861",level:4},{value:"5.10 \u6d88\u606f\u91cd\u8bd5",id:"510-\u6d88\u606f\u91cd\u8bd5",level:4},{value:"5.10.1 \u987a\u5e8f\u6d88\u606f\u91cd\u8bd5",id:"5101-\u987a\u5e8f\u6d88\u606f\u91cd\u8bd5",level:5},{value:"5.10.2 \u65e0\u5e8f\u6d88\u606f\u91cd\u8bd5",id:"5102-\u65e0\u5e8f\u6d88\u606f\u91cd\u8bd5",level:5},{value:"5.11 \u6b7b\u4fe1\u961f\u5217",id:"511-\u6b7b\u4fe1\u961f\u5217",level:4},{value:"5.12 \u6b7b\u4fe1\u5904\u7406",id:"512-\u6b7b\u4fe1\u5904\u7406",level:4},{value:"5.13 \u6d88\u606f\u91cd\u590d\u6d88\u8d39",id:"513-\u6d88\u606f\u91cd\u590d\u6d88\u8d39",level:4},{value:"5.14 \u6d88\u606f\u5e42\u7b49",id:"514-\u6d88\u606f\u5e42\u7b49",level:4}],i={toc:m};function c(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},i,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"32-rocketmq\u57fa\u7840\u7bc7"},"3.2 RocketMQ\u57fa\u7840\u7bc7"),(0,r.kt)("h3",{id:"1-mq\u7b80\u4ecb"},"1. MQ\u7b80\u4ecb"),(0,r.kt)("h4",{id:"11-\u9879\u76ee\u5de5\u7a0b\u5f0a\u7aef"},"1.1 \u9879\u76ee\u5de5\u7a0b\u5f0a\u7aef"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20210227005612570-6e8f886b.png",alt:"image-20210227005612570"}),"image-20210227005612570"),(0,r.kt)("h4",{id:"12-mq\u7b80\u4ecb"},"1.2 MQ\u7b80\u4ecb"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"MQ\uff08Message Queue\uff09\u6d88\u606f\u961f\u5217\uff0c\u662f\u4e00\u79cd\u7528\u6765\u4fdd\u5b58\u6d88\u606f\u6570\u636e\u7684\u961f\u5217."),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u961f\u5217\uff1a\u6570\u636e\u7ed3\u6784\u7684\u4e00\u79cd\uff0c\u7279\u5f81\u4e3a \u201c\u5148\u8fdb\u5148\u51fa\u201d"),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20210227005644041-c5d35973.png",alt:"image-20210227005644041"}),"image-20210227005644041")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u4f55\u4e3a\u6d88\u606f"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u670d\u52a1\u5668\u95f4\u7684\u4e1a\u52a1\u8bf7\u6c42",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u539f\u59cb\u67b6\u6784\uff1a",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u670d\u52a1\u5668\u4e2d\u7684A\u529f\u80fd\u9700\u8981\u8c03\u7528B\u3001C\u6a21\u5757\u624d\u80fd\u5b8c\u6210"))),(0,r.kt)("li",{parentName:"ol"},"\u5fae\u670d\u52a1\u67b6\u6784\uff1a",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u670d\u52a1\u5668A\u5411\u670d\u52a1\u5668B\u53d1\u9001\u8981\u6267\u884c\u7684\u64cd\u4f5c\uff08\u89c6\u4e3a\u6d88\u606f\uff09"),(0,r.kt)("li",{parentName:"ol"},"\u670d\u52a1\u5668A\u5411\u670d\u52a1\u5668C\u53d1\u9001\u8981\u6267\u884c\u7684\u64cd\u4f5c\uff08\u89c6\u4e3a\u6d88\u606f\uff09"))))))))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5c0f\u8282:MQ\u6982\u5ff5"))),(0,r.kt)("h4",{id:"13-mq\u4f5c\u7528"},"1.3 MQ\u4f5c\u7528"),(0,r.kt)("p",null,"\u4f18\u52bf\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5e94\u7528\u89e3\u8026"),(0,r.kt)("li",{parentName:"ul"},"\u5f02\u6b65\u63d0\u901f"),(0,r.kt)("li",{parentName:"ul"},"\u524a\u5cf0\u586b\u8c37")),(0,r.kt)("p",null,"\u52a3\u52bf\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u7cfb\u7edf\u53ef\u7528\u6027\u964d\u4f4e"),(0,r.kt)("li",{parentName:"ul"},"\u7cfb\u7edf\u590d\u6742\u5ea6\u63d0\u9ad8"),(0,r.kt)("li",{parentName:"ul"},"\u4e00\u81f4\u6027\u95ee\u9898")),(0,r.kt)("h4",{id:"14-mq\u57fa\u672c\u5de5\u4f5c\u6a21\u5f0f"},"1.4 MQ\u57fa\u672c\u5de5\u4f5c\u6a21\u5f0f"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20210227011631473-896fbf3d.png",alt:"image-20210227011631473"}),"image-20210227011631473"),(0,r.kt)("p",null,"\u5e94\u7528\u89e3\u8026:\uff08\u5f02\u6b65\u6d88\u606f\u53d1\u9001\uff09"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20210227011703071-d11a011a.png",alt:"image-20210227011703071"}),"image-20210227011703071"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20210227011721338-9ae81b7e.png",alt:"image-20210227011721338"}),"image-20210227011721338"),(0,r.kt)("p",null,"\u6d41\u91cf\u524a\u950b:\uff08\u5f02\u6b65\u6d88\u606f\u53d1\u9001\uff09"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20210227012322129-d77b8f5c.png",alt:"image-20210227012322129"}),"image-20210227012322129"),(0,r.kt)("h4",{id:"15-mq\u4f18\u7f3a\u70b9\u5206\u6790"},"1.5 MQ\u4f18\u7f3a\u70b9\u5206\u6790"),(0,r.kt)("p",null,"\u4f18\u70b9\uff08\u4f5c\u7528\uff09:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u5e94\u7528\u89e3\u8026"),(0,r.kt)("li",{parentName:"ol"},"\u5feb\u901f\u5e94\u7528\u53d8\u66f4\u7ef4\u62a4"),(0,r.kt)("li",{parentName:"ol"},"\u6d41\u91cf\u524a\u950b")),(0,r.kt)("p",null,"\u7f3a\u70b9:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u7cfb\u7edf\u53ef\u7528\u6027\u964d\u4f4e"),(0,r.kt)("li",{parentName:"ol"},"\u7cfb\u7edf\u590d\u6742\u5ea6\u63d0\u9ad8"),(0,r.kt)("li",{parentName:"ol"},"\u5f02\u6b65\u6d88\u606f\u673a\u5236",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u6d88\u606f\u987a\u5e8f\u6027"),(0,r.kt)("li",{parentName:"ol"},"\u6d88\u606f\u4e22\u5931"),(0,r.kt)("li",{parentName:"ol"},"\u6d88\u606f\u4e00\u81f4\u6027"),(0,r.kt)("li",{parentName:"ol"},"\u6d88\u606f\u91cd\u590d\u4f7f\u7528")))),(0,r.kt)("h4",{id:"16-mq\u4ea7\u54c1\u4ecb\u7ecd"},"1.6 MQ\u4ea7\u54c1\u4ecb\u7ecd"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"ActiveMQ"),(0,r.kt)("p",{parentName:"li"},"java\u8bed\u8a00\u5b9e\u73b0\uff0c\u4e07\u7ea7\u6570\u636e\u541e\u5410\u91cf\uff0c\u5904\u7406\u901f\u5ea6ms\u7ea7\uff0c\u4e3b\u4ece\u67b6\u6784\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u6210\u719f\u5ea6\u9ad8"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"RabbitMQ"),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"erlang\u8bed\u8a00\u5b9e\u73b0"),"\uff0c\u4e07\u7ea7\u6570\u636e\u541e\u5410\u91cf\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u5904\u7406\u901f\u5ea6us\u7ea7"),"\uff0c\u4e3b\u4ece\u67b6\u6784\uff0c")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"RocketMQ"),(0,r.kt)("p",{parentName:"li"},"java\u8bed\u8a00\u5b9e\u73b0\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u5341\u4e07\u7ea7"),"\u6570\u636e\u541e\u5410\u91cf\uff0c\u5904\u7406\u901f\u5ea6ms\u7ea7\uff0c\u5206\u5e03\u5f0f\u67b6\u6784\uff0c\u529f\u80fd\u5f3a\u5927\uff0c\u6269\u5c55\u6027\u5f3a")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"kafka"),(0,r.kt)("p",{parentName:"li"},"scala\u8bed\u8a00\u5b9e\u73b0\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u5341\u4e07\u7ea7"),"\u6570\u636e\u541e\u5410\u91cf\uff0c\u5904\u7406\u901f\u5ea6ms\u7ea7\uff0c\u5206\u5e03\u5f0f\u67b6\u6784\uff0c\u529f\u80fd\u8f83\u5c11\uff0c\u5e94\u7528\u4e8e\u5927\u6570\u636e\u8f83\u591a"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"RocketMQ")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"RocketMQ\u662f\u963f\u91cc\u5f00\u6e90\u7684\u4e00\u6b3e\u975e\u5e38\u4f18\u79c0\u4e2d\u95f4\u4ef6\u4ea7\u54c1\uff0c\u8131\u80ce\u4e8e\u963f\u91cc\u7684\u53e6\u4e00\u6b3e\u961f\u5217\u6280\u672fMetaQ\uff0c\u540e\u6350\u8d60\u7ed9",(0,r.kt)("strong",{parentName:"li"},"Apache"),"\u57fa\u91d1\u4f1a \u4f5c\u4e3a\u4e00\u6b3e\u5b75\u5316\u6280\u672f\uff0c\u4ec5\u4ec5\u7ecf\u5386\u4e86\u4e00\u5e74\u591a\u7684\u65f6\u95f4\u5c31\u6210\u4e3aApache\u57fa\u91d1\u4f1a\u7684\u9876\u7ea7\u9879\u76ee\u3002\u5e76\u4e14\u5b83\u73b0\u5728\u5df2\u7ecf\u5728\u963f\u91cc\u5185\u90e8\u88ab\u5e7f\u6cdb \u7684\u5e94\u7528\uff0c\u5e76\u4e14\u7ecf\u53d7\u4f4f\u4e86\u591a\u6b21\u53cc\u5341\u4e00\u7684\u8fd9\u79cd\u6781\u81f4\u573a\u666f\u7684\u538b\u529b\uff082017\u5e74\u7684\u53cc\u5341\u4e00\uff0cRocketMQ\u6d41\u8f6c\u7684\u6d88\u606f\u91cf\u8fbe\u5230\u4e86\u4e07\u4ebf \u7ea7\uff0c\u5cf0\u503cTPS\u8fbe\u52305600\u4e07\uff09"),(0,r.kt)("li",{parentName:"ol"},"\u89e3\u51b3\u6240\u6709\u7f3a\u70b9")),(0,r.kt)("h3",{id:"2-\u73af\u5883\u642d\u5efa"},"2. \u73af\u5883\u642d\u5efa"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211151842484-a61879ad.png",alt:"image-20201211151842484"}),"image-20201211151842484"),(0,r.kt)("h4",{id:"21-\u57fa\u7840\u6982\u5ff5"},"2.1 \u57fa\u7840\u6982\u5ff5"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u751f\u4ea7\u8005"),(0,r.kt)("li",{parentName:"ol"},"\u6d88\u8d39\u8005"),(0,r.kt)("li",{parentName:"ol"},"\u6d88\u606f\u670d\u52a1\u5668"),(0,r.kt)("li",{parentName:"ol"},"\u547d\u540d\u670d\u52a1\u5668"),(0,r.kt)("li",{parentName:"ol"},"\u6d88\u606f",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u4e3b\u9898"),(0,r.kt)("li",{parentName:"ol"},"\u6807\u7b7e"))),(0,r.kt)("li",{parentName:"ol"},"\u5fc3\u8df3"),(0,r.kt)("li",{parentName:"ol"},"\u76d1\u542c\u5668"),(0,r.kt)("li",{parentName:"ol"},"\u62c9\u53d6\u6d88\u8d39\u3001\u63a8\u52a8\u6d88\u8d39"),(0,r.kt)("li",{parentName:"ol"},"\u6ce8\u518c")),(0,r.kt)("h4",{id:"22-\u5b89\u88c5"},"2.2 \u5b89\u88c5"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u547d\u540d\u670d\u52a1\u5668"),(0,r.kt)("li",{parentName:"ol"},"\u6d88\u606f\u670d\u52a1\u5668")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211152332969-b13f344b.png",alt:"image-20201211152332969"}),"image-20201211152332969"),(0,r.kt)("h4",{id:"23-\u4e0b\u8f7d"},"2.3 \u4e0b\u8f7d"),(0,r.kt)("p",null,"\u26ab ",(0,r.kt)("a",{parentName:"p",href:"https://www.apache.org/"},"https://www.apache.org/open in new window")),(0,r.kt)("h4",{id:"24-linux\u5b89\u88c5\u8fc7\u7a0b"},"2.4 linux\u5b89\u88c5\u8fc7\u7a0b"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u6b65\u9aa41\uff1a\u5b89\u88c5JDK\uff081.8\uff09")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u6b65\u9aa42\uff1a\u4e0a\u4f20\u538b\u7f29\u5305\uff08zip\uff09"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"```xml\nyum -y install lrzsz \n```\n\n\n\n```text\nrz\n```\n")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"\u6b65\u9aa43\uff1a\u89e3\u538b\u7f29")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"```text\nunzip rocketmq-all-4.5.2-bin-release.zip\n```\n")),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"\u6b65\u9aa44\uff1a\u4fee\u6539\u76ee\u5f55\u540d\u79f0")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"```text\nmv rocketmq-all-4.5.2-bin-release rocketmq\n```\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u542f\u52a8\u670d\u52a1\u5668")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u6b65\u9aa41\uff1a\u542f\u52a8\u547d\u540d\u670d\u52a1\u5668\uff08bin\u76ee\u5f55\u4e0b\uff09")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"sh mqnamesrv\n")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u6b65\u9aa42\uff1a\u542f\u52a8\u6d88\u606f\u670d\u52a1\u5668\uff08bin\u76ee\u5f55\u4e0b\uff09")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"```text\nsh mqbroker -n localhost:9876\n```\n\n\u4fee\u6539runbroker.sh\u6587\u4ef6\u4e2d\u6709\u5173\u5185\u5b58\u7684\u914d\u7f6e\uff08\u8c03\u6574\u7684\u4e0e\u5f53\u524d\u865a\u62df\u673a\u5185\u5b58\u5339\u914d\u5373\u53ef\uff0c\u63a8\u8350256m-128m\uff09\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u6d4b\u8bd5\u670d\u52a1\u5668\u73af\u5883")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u6b65\u9aa41\uff1a\u914d\u7f6e\u547d\u540d\u670d\u52a1\u5668\u5730\u5740")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"```xml\nexport NAMESRV_ADDR=localhost:9876\n```\n")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"\u6b65\u9aa42\uff1a\u542f\u52a8\u751f\u4ea7\u8005\u7a0b\u5e8f\u5ba2\u6237\u7aef\uff08bin\u76ee\u5f55\u4e0b\uff09")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"```text\nsh tools.sh org.apache.rocketmq.example.quickstart.Producer\n```\n\n\u542f\u52a8\u540e\u4ea7\u751f\u5927\u91cf\u65e5\u5fd7\u4fe1\u606f\uff08\u6ce8\u610f\u8be5\u4fe1\u606f\u662f\u6d4b\u8bd5\u7a0b\u5e8f\u4e2d\u81ea\u5e26\u7684\uff0c\u4e0d\u5177\u6709\u901a\u7528\u6027\uff0c\u4ec5\u4f9b\u5b66\u4e60\u67e5\u9605\u53c2\u8003\uff09\n")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"\u6b65\u9aa43\uff1a\u542f\u52a8\u6d88\u8d39\u8005\u7a0b\u5e8f\u5ba2\u6237\u7aef\uff08bin\u76ee\u5f55\u4e0b\uff09")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"```text\nsh tools.sh org.apache.rocketmq.example.quickstart.Consumer\n```\n\n\u542f\u52a8\u540e\u4ea7\u751f\u5927\u91cf\u65e5\u5fd7\u4fe1\u606f\n")),(0,r.kt)("h4",{id:"25-windows\u5b89\u88c5"},"2.5 windows\u5b89\u88c5"),(0,r.kt)("h5",{id:"251\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u914d\u7f6e"},"2.5.1",(0,r.kt)("strong",{parentName:"h5"},"\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u914d\u7f6e")),(0,r.kt)("p",null," 1\u3001\u53f3\u952e\u6211\u7684\u7535\u8111--\x3e\u5c5e\u6027"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20210216112544747-73835ac5.png",alt:"image-20210216112544747"}),"image-20210216112544747"),(0,r.kt)("p",null," 2\u3001\u7cfb\u7edf\u5c5e\u6027--\u73af\u5883\u53d8\u91cf"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20210216112631558-7e29712b.png",alt:"image-20210216112631558"}),"image-20210216112631558"),(0,r.kt)("p",null," 3\u3001\u7cfb\u7edf\u53d8\u91cf\u4e2d--\x3e\u65b0\u5efa"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20210216112735780-a6597055.png",alt:"image-20210216112735780"}),"image-20210216112735780"),(0,r.kt)("p",null,"\u53d8\u91cf\u540d\uff1aROCKETMQ_HOME"),(0,r.kt)("p",null,"\u53d8\u91cf\u503c\uff1aMQ\u89e3\u538b\u8def\u5f84\\MQ\u6587\u4ef6\u5939\u540d"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20210216112826156-50ae15d0.png",alt:"image-20210216112826156"}),"image-20210216112826156"),(0,r.kt)("h5",{id:"252\u542f\u52a8"},"2.5.2",(0,r.kt)("strong",{parentName:"h5"},"\u542f\u52a8")),(0,r.kt)("p",null," 1\u3001",(0,r.kt)("strong",{parentName:"p"},"\u542f\u52a8NAMESERVER")),(0,r.kt)("p",null,"Cmd\u547d\u4ee4\u6846\u6267\u884c\u8fdb\u5165\u81f3\u2018MQ\u6587\u4ef6\u5939\\bin\u2019\u4e0b \u7aef\u53e39876"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"start mqnamesrv.cmd\n")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20210216110141279-99db0625.png",alt:"image-20210216110141279"}),"image-20210216110141279"),(0,r.kt)("p",null," 2\u3001",(0,r.kt)("strong",{parentName:"p"},"\u542f\u52a8BROKER")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"start mqbroker.cmd -n 127.0.0.1:9876 autoCreateTopicEnable=true\n")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20210216111405243-60f804d4.png",alt:"image-20210216111405243"}),"image-20210216111405243"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u6ce8\u610f"),"\uff1a\u95ea\u9000\u56de\u547d\u4ee4\u884c"),(0,r.kt)("p",null," \u5220\u9664C:\\Users\\\u201d\u5f53\u524d\u7cfb\u7edf\u7528\u6237\u540d\u201d\\store\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u3002"),(0,r.kt)("h5",{id:"253\u6d4b\u8bd5"},"2.5.3",(0,r.kt)("strong",{parentName:"h5"},"\u6d4b\u8bd5")),(0,r.kt)("p",null," 1\u3001",(0,r.kt)("strong",{parentName:"p"},"\u65b0\u5efa\u73af\u5883\u53d8\u91cf")),(0,r.kt)("p",null," \u53d8\u91cf\u540d\uff1aNAMESRV_ADDR"),(0,r.kt)("p",null," \u53d8\u91cf\u503c\uff1alocalhost:9876"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20210216112924986-d254a99f.png",alt:"image-20210216112924986"}),"image-20210216112924986"),(0,r.kt)("p",null," 2\u3001\u6d4b\u8bd5\u751f\u4ea7\u8005\u53d1\u9001\u6d88\u606f"),(0,r.kt)("p",null," bin\u76ee\u5f55\u4e0b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"tools.cmd  org.apache.rocketmq.example.quickstart.Producer\n")),(0,r.kt)("p",null," 3\u3001\u6d4b\u8bd5\u6d88\u8d39\u8005\u63a5\u6536\u6d88\u606f"),(0,r.kt)("p",null," bin\u76ee\u5f55\u4e0b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"tools.cmd org.apache.rocketmq.example.quickstart.Consumer\n")),(0,r.kt)("h5",{id:"254\u63a7\u5236\u53f0\u5b89\u88c5"},"2.5.4\u63a7\u5236\u53f0\u5b89\u88c5"),(0,r.kt)("p",null,"1\u4e0b\u8f7d\u6e90\u7801"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"git clone https://github.com/apache/rocketmq-externals.git\n")),(0,r.kt)("p",null,"2\u8fdb\u5165rocketmq-externals\\rocketmq-console \u5de5\u7a0b\uff0c\u7f16\u8bd1\u6e90\u7801"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"mvn clean package -Dmaven.test.skip=true\n")),(0,r.kt)("p",null,"3target \u76ee\u5f55\u751f\u6210 jar\u5305"),(0,r.kt)("p",null,"4\u8fd0\u884c"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"java -jar rocketmq-console-ng-2.0.0.jar\n")),(0,r.kt)("p",null,"5\u8bbf\u95ee ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:8080/#/"},"http://localhost:8080/#/open in new window")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20210216174310729-6bcf3969.png",alt:"image-20210216174310729"}),"image-20210216174310729"),(0,r.kt)("h3",{id:"3-\u6d88\u606f\u53d1\u9001\u91cd\u70b9"},"3. \u6d88\u606f\u53d1\u9001\uff08\u91cd\u70b9\uff09"),(0,r.kt)("h4",{id:"31-\u4e3b\u8981\u5185\u5bb9"},"3.1 \u4e3b\u8981\u5185\u5bb9"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u57fa\u4e8eJava\u73af\u5883\u6784\u5efa\u6d88\u606f\u53d1\u9001\u4e0e\u6d88\u606f\u63a5\u6536\u57fa\u7840\u7a0b\u5e8f",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u5355\u751f\u4ea7\u8005\u5355\u6d88\u8d39\u8005"),(0,r.kt)("li",{parentName:"ol"},"\u5355\u751f\u4ea7\u8005\u591a\u6d88\u8d39\u8005"),(0,r.kt)("li",{parentName:"ol"},"\u591a\u751f\u4ea7\u8005\u591a\u6d88\u8d39\u8005"))),(0,r.kt)("li",{parentName:"ol"},"\u53d1\u9001\u4e0d\u540c\u7c7b\u578b\u7684\u6d88\u606f",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u540c\u6b65\u6d88\u606f"),(0,r.kt)("li",{parentName:"ol"},"\u5f02\u6b65\u6d88\u606f"),(0,r.kt)("li",{parentName:"ol"},"\u5355\u5411\u6d88\u606f"))),(0,r.kt)("li",{parentName:"ol"},"\u7279\u6b8a\u7684\u6d88\u606f\u53d1\u9001",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u5ef6\u65f6\u6d88\u606f"),(0,r.kt)("li",{parentName:"ol"},"\u6279\u91cf\u6d88\u606f"))),(0,r.kt)("li",{parentName:"ol"},"\u7279\u6b8a\u7684\u6d88\u606f\u63a5\u6536",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u6d88\u606f\u8fc7\u6ee4"))),(0,r.kt)("li",{parentName:"ol"},"\u6d88\u606f\u53d1\u9001\u4e0e\u63a5\u6536\u987a\u5e8f\u63a7\u5236"),(0,r.kt)("li",{parentName:"ol"},"\u4e8b\u52a1\u6d88\u606f")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211153150220-8d4f090c.png",alt:"image-20201211153150220"}),"image-20201211153150220"),(0,r.kt)("h4",{id:"32-\u6d88\u606f\u53d1\u9001\u4e0e\u63a5\u6536\u5f00\u53d1\u6d41\u7a0b"},"3.2 \u6d88\u606f\u53d1\u9001\u4e0e\u63a5\u6536\u5f00\u53d1\u6d41\u7a0b"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u8c01\u6765\u53d1\uff1f"),(0,r.kt)("li",{parentName:"ol"},"\u53d1\u7ed9\u8c01\uff1f"),(0,r.kt)("li",{parentName:"ol"},"\u600e\u4e48\u53d1\uff1f"),(0,r.kt)("li",{parentName:"ol"},"\u53d1\u4ec0\u4e48\uff1f"),(0,r.kt)("li",{parentName:"ol"},"\u53d1\u7684\u7ed3\u679c\u662f\u4ec0\u4e48\uff1f"),(0,r.kt)("li",{parentName:"ol"},"\u6253\u626b\u6218\u573a")),(0,r.kt)("h4",{id:"33-\u5355\u751f\u4ea7\u8005\u5355\u6d88\u8d39\u8005\u6d88\u606f\u53d1\u9001onetoone"},"3.3 \u5355\u751f\u4ea7\u8005\u5355\u6d88\u8d39\u8005\u6d88\u606f\u53d1\u9001\uff08OneToOne\uff09"),(0,r.kt)("p",null,"1\u65b0\u5efamaven\u9879\u76eerocketmq"),(0,r.kt)("p",null,"2\u5bfc\u5165RocketMQ\u5ba2\u6237\u7aef\u5750\u6807"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<dependency>\n    <groupId>org.apache.rocketmq</groupId>\n    <artifactId>rocketmq-client</artifactId>\n    <version>4.8.0</version>\n</dependency>\n")),(0,r.kt)("p",null,"3\u751f\u4ea7\u8005 com.ydl.base.Producer"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'package com.ydl.base;\n\nimport org.apache.rocketmq.client.exception.MQClientException;\nimport org.apache.rocketmq.client.producer.DefaultMQProducer;\nimport org.apache.rocketmq.client.producer.SendResult;\nimport org.apache.rocketmq.common.message.Message;\n\npublic class Producer {\n    public static void main(String[] args) throws Exception {\n        /**\n         1. \u8c01\u6765\u53d1\uff1f\n         2. \u53d1\u7ed9\u8c01\uff1f\n         3. \u600e\u4e48\u53d1\uff1f\n         4. \u53d1\u4ec0\u4e48\uff1f\n         5. \u53d1\u7684\u7ed3\u679c\u662f\u4ec0\u4e48\uff1f\n         6. \u6253\u626b\u6218\u573a\n         **/\n\n        //1.\u521b\u5efa\u4e00\u4e2a\u53d1\u9001\u6d88\u606f\u7684\u5bf9\u8c61Producer\n        DefaultMQProducer producer = new DefaultMQProducer("group1");\n        //2.\u8bbe\u5b9a\u53d1\u9001\u7684\u547d\u540d\u670d\u52a1\u5668\u5730\u5740\n        producer.setNamesrvAddr("localhost:9876");\n        //3.1\u542f\u52a8\u53d1\u9001\u7684\u670d\u52a1\n        producer.start();\n        //4.\u521b\u5efa\u8981\u53d1\u9001\u7684\u6d88\u606f\u5bf9\u8c61,\u6307\u5b9atopic\uff0c\u6307\u5b9a\u5185\u5bb9body\n        Message msg = new Message("topic1", "hello rocketmq".getBytes("UTF-8"));\n        //3.2\u53d1\u9001\u6d88\u606f\n        SendResult result = producer.send(msg);\n        System.out.println("\u8fd4\u56de\u7ed3\u679c\uff1a" + result);\n        //5.\u5173\u95ed\u8fde\u63a5\n        producer.shutdown();\n    }\n}\n')),(0,r.kt)("p",null,"4\u6d88\u8d39\u8005"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'package com.ydl.base;\n\nimport org.apache.rocketmq.client.consumer.DefaultMQPushConsumer;\nimport org.apache.rocketmq.client.consumer.listener.ConsumeConcurrentlyContext;\nimport org.apache.rocketmq.client.consumer.listener.ConsumeConcurrentlyStatus;\nimport org.apache.rocketmq.client.consumer.listener.MessageListenerConcurrently;\nimport org.apache.rocketmq.client.exception.MQClientException;\nimport org.apache.rocketmq.common.message.MessageExt;\n\nimport java.util.List;\n\npublic class Consumer {\n    public static void main(String[] args) throws Exception {\n        /**\n         1. \u8c01\u6765\u53d1\uff1f\n         2. \u53d1\u7ed9\u8c01\uff1f\n         3. \u600e\u4e48\u53d1\uff1f\n         4. \u53d1\u4ec0\u4e48\uff1f\n         5. \u53d1\u7684\u7ed3\u679c\u662f\u4ec0\u4e48\uff1f\n         6. \u6253\u626b\u6218\u573a\n         **/\n\n        //1.\u521b\u5efa\u4e00\u4e2a\u63a5\u6536\u6d88\u606f\u7684\u5bf9\u8c61Consumer\n        DefaultMQPushConsumer consumer = new DefaultMQPushConsumer("group1");\n        //2.\u8bbe\u5b9a\u63a5\u6536\u7684\u547d\u540d\u670d\u52a1\u5668\u5730\u5740\n        consumer.setNamesrvAddr("localhost:9876");\n        //3.\u8bbe\u7f6e\u63a5\u6536\u6d88\u606f\u5bf9\u5e94\u7684topic,\u5bf9\u5e94\u7684sub\u6807\u7b7e\u4e3a\u4efb\u610f\n        consumer.subscribe("topic1","*");\n        //3.\u5f00\u542f\u76d1\u542c\uff0c\u7528\u4e8e\u63a5\u6536\u6d88\u606f\n        consumer.registerMessageListener(new MessageListenerConcurrently() {\n            @Override\n            public ConsumeConcurrentlyStatus consumeMessage(List<MessageExt> list, ConsumeConcurrentlyContext consumeConcurrentlyContext) {\n                //\u904d\u5386\u6d88\u606f\n                for (MessageExt msg : list) {\n                    System.out.println("\u6536\u5230\u6d88\u606f\uff1a"+msg);\n                }\n                return ConsumeConcurrentlyStatus.CONSUME_SUCCESS;\n            }\n        });\n        //4.\u542f\u52a8\u63a5\u6536\u6d88\u606f\u7684\u670d\u52a1\n        consumer.start();\n        System.out.println("\u63a5\u53d7\u6d88\u606f\u670d\u52a1\u5df2\u7ecf\u5f00\u542f\uff01");\n        //5 \u4e0d\u8981\u5173\u95ed\u6d88\u8d39\u8005\uff01\n    }\n}\n')),(0,r.kt)("h4",{id:"34-\u5355\u751f\u4ea7\u8005\u591a\u6d88\u8d39\u8005\u6d88\u606f\u53d1\u9001onetomany"},"3.4 \u5355\u751f\u4ea7\u8005\u591a\u6d88\u8d39\u8005\u6d88\u606f\u53d1\u9001\uff08OneToMany\uff09"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"1\u751f\u4ea7\u8005")," com.ydl.one2many.Producer"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'        //1.\u521b\u5efa\u4e00\u4e2a\u53d1\u9001\u6d88\u606f\u7684\u5bf9\u8c61Producer\n        DefaultMQProducer producer = new DefaultMQProducer("group1");\n        //2.\u8bbe\u5b9a\u53d1\u9001\u7684\u547d\u540d\u670d\u52a1\u5668\u5730\u5740\n        producer.setNamesrvAddr("localhost:9876");\n        //3.1\u542f\u52a8\u53d1\u9001\u7684\u670d\u52a1\n        producer.start();\n        for (int i = 0; i < 10; i++) {\n            //4.\u521b\u5efa\u8981\u53d1\u9001\u7684\u6d88\u606f\u5bf9\u8c61,\u6307\u5b9atopic\uff0c\u6307\u5b9a\u5185\u5bb9body\n            Message msg = new Message("topic1", ("hello rocketmq"+i).getBytes("UTF-8"));\n            //3.2\u53d1\u9001\u6d88\u606f\n            SendResult result = producer.send(msg);\n            System.out.println("\u8fd4\u56de\u7ed3\u679c\uff1a" + result);\n        }\n        //5.\u5173\u95ed\u8fde\u63a5\n        producer.shutdown();\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"2\u6d88\u8d39\u8005"),"\uff08\u8d1f\u8f7d\u5747\u8861\u6a21\u5f0f\uff1a\u9ed8\u8ba4\u6a21\u5f0f\uff09"),(0,r.kt)("p",null,"\u5f00\u542f\u591a\u5b9e\u4f8b\u8fd0\u884c"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20210216122333256-5ba41b96.png",alt:"image-20210216122333256"}),"image-20210216122333256"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'        //1.\u521b\u5efa\u4e00\u4e2a\u63a5\u6536\u6d88\u606f\u7684\u5bf9\u8c61Consumer\n        DefaultMQPushConsumer consumer = new DefaultMQPushConsumer("group1");\n        //2.\u8bbe\u5b9a\u63a5\u6536\u7684\u547d\u540d\u670d\u52a1\u5668\u5730\u5740\n        consumer.setNamesrvAddr("localhost:9876");\n        //3.\u8bbe\u7f6e\u63a5\u6536\u6d88\u606f\u5bf9\u5e94\u7684topic,\u5bf9\u5e94\u7684sub\u6807\u7b7e\u4e3a\u4efb\u610f\n        consumer.subscribe("topic1","*");\n        //\u8bbe\u7f6e\u5f53\u524d\u6d88\u8d39\u8005\u7684\u6d88\u8d39\u6a21\u5f0f\uff08\u9ed8\u8ba4\u6a21\u5f0f\uff1a\u8d1f\u8f7d\u5747\u8861\uff09\n        consumer.setMessageModel(MessageModel.CLUSTERING);\n        //3.\u5f00\u542f\u76d1\u542c\uff0c\u7528\u4e8e\u63a5\u6536\u6d88\u606f\n        consumer.registerMessageListener(new MessageListenerConcurrently() {\n            @Override\n            public ConsumeConcurrentlyStatus consumeMessage(List<MessageExt> list, ConsumeConcurrentlyContext consumeConcurrentlyContext) {\n                //\u904d\u5386\u6d88\u606f\n                for (MessageExt msg : list) {\n                    System.out.println("\u6536\u5230\u6d88\u606f\uff1a"+msg);\n                    System.out.println("\u6d88\u606f\u662f\uff1a"+new String(msg.getBody()));\n                }\n                return ConsumeConcurrentlyStatus.CONSUME_SUCCESS;\n            }\n        });\n        //4.\u542f\u52a8\u63a5\u6536\u6d88\u606f\u7684\u670d\u52a1\n        consumer.start();\n        System.out.println("\u63a5\u53d7\u6d88\u606f\u670d\u52a1\u5df2\u7ecf\u5f00\u542f\uff01");\n\n        //5 \u4e0d\u8981\u5173\u95ed\u6d88\u8d39\u8005\uff01\n')),(0,r.kt)("p",null,"\u6ce8\u610f\uff1a\u540c\u4e00\u4e2a\u6d88\u8d39\u8005 \u591a\u4efd\u3002\u4e89\u62a2topic\u6570\u636e\u3002"),(0,r.kt)("h4",{id:"35-\u5355\u751f\u4ea7\u8005\u591a\u6d88\u8d39\u8005\u6d88\u606f\u53d1\u9001onetomany"},"3.5 \u5355\u751f\u4ea7\u8005\u591a\u6d88\u8d39\u8005\u6d88\u606f\u53d1\u9001\uff08OneToMany\uff09"),(0,r.kt)("p",null,"\u6d88\u8d39\u8005\uff08\u5e7f\u64ad\u6a21\u5f0f\uff09"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'        //1.\u521b\u5efa\u4e00\u4e2a\u63a5\u6536\u6d88\u606f\u7684\u5bf9\u8c61Consumer\n        DefaultMQPushConsumer consumer = new DefaultMQPushConsumer("group1");\n        //2.\u8bbe\u5b9a\u63a5\u6536\u7684\u547d\u540d\u670d\u52a1\u5668\u5730\u5740\n        consumer.setNamesrvAddr("localhost:9876");\n        //3.\u8bbe\u7f6e\u63a5\u6536\u6d88\u606f\u5bf9\u5e94\u7684topic,\u5bf9\u5e94\u7684sub\u6807\u7b7e\u4e3a\u4efb\u610f\n        consumer.subscribe("topic1","*");\n        //\u8bbe\u7f6e\u5f53\u524d\u6d88\u8d39\u8005\u7684\u6d88\u8d39\u6a21\u5f0f\uff08\u9ed8\u8ba4\u6a21\u5f0f\uff1a\u8d1f\u8f7d\u5747\u8861\uff09\n        //consumer.setMessageModel(MessageModel.CLUSTERING);\n        //\u8bbe\u7f6e\u5f53\u524d\u6d88\u8d39\u8005\u7684\u6d88\u8d39\u6a21\u5f0f\uff08\u5e7f\u64ad\u6a21\u5f0f\uff09\n        consumer.setMessageModel(MessageModel.BROADCASTING);\n        //3.\u5f00\u542f\u76d1\u542c\uff0c\u7528\u4e8e\u63a5\u6536\u6d88\u606f\n        consumer.registerMessageListener(new MessageListenerConcurrently() {\n            @Override\n            public ConsumeConcurrentlyStatus consumeMessage(List<MessageExt> list, ConsumeConcurrentlyContext consumeConcurrentlyContext) {\n                //\u904d\u5386\u6d88\u606f\n                for (MessageExt msg : list) {\n                    System.out.println("\u6536\u5230\u6d88\u606f\uff1a"+msg);\n                    System.out.println("\u6d88\u606f\u662f\uff1a"+new String(msg.getBody()));\n                }\n                return ConsumeConcurrentlyStatus.CONSUME_SUCCESS;\n            }\n        });\n        //4.\u542f\u52a8\u63a5\u6536\u6d88\u606f\u7684\u670d\u52a1\n        consumer.start();\n        System.out.println("\u63a5\u53d7\u6d88\u606f\u670d\u52a1\u5df2\u7ecf\u5f00\u542f\uff01");\n\n        //5 \u4e0d\u8981\u5173\u95ed\u6d88\u8d39\u8005\uff01\n')),(0,r.kt)("h4",{id:"36-\u591a\u751f\u4ea7\u8005\u591a\u6d88\u8d39\u8005\u6d88\u606f\u53d1\u9001manytomany"},"3.6 \u591a\u751f\u4ea7\u8005\u591a\u6d88\u8d39\u8005\u6d88\u606f\u53d1\u9001\uff08ManyToMany\uff09"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u591a\u751f\u4ea7\u8005\u4ea7\u751f\u7684\u6d88\u606f\u53ef\u4ee5\u88ab\u540c\u4e00\u4e2a\u6d88\u8d39\u8005\u6d88\u8d39\uff0c\u4e5f\u53ef\u4ee5\u88ab\u591a\u4e2a\u6d88\u8d39\u8005\u6d88\u8d39")),(0,r.kt)("h4",{id:"37-\u5c0f\u8282"},"3.7 \u5c0f\u8282"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u6d88\u606f\u53d1\u9001",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"One-To-One\uff08\u57fa\u7840\u53d1\u9001\u4e0e\u57fa\u7840\u63a5\u6536\uff09"),(0,r.kt)("li",{parentName:"ol"},"One-To-Many\uff08\u8d1f\u8f7d\u5747\u8861\u6a21\u5f0f\u4e0e\u5e7f\u64ad\u6a21\u5f0f\uff09"),(0,r.kt)("li",{parentName:"ol"},"Many-To-Many")))),(0,r.kt)("h3",{id:"4-\u6d88\u606f\u7c7b\u522b"},"4 \u6d88\u606f\u7c7b\u522b"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u540c\u6b65\u6d88\u606f"),(0,r.kt)("li",{parentName:"ol"},"\u5f02\u6b65\u6d88\u606f"),(0,r.kt)("li",{parentName:"ol"},"\u5355\u5411\u6d88\u606f")),(0,r.kt)("h4",{id:"41-\u540c\u6b65\u6d88\u606f"},"4.1 \u540c\u6b65\u6d88\u606f"),(0,r.kt)("p",null,"\u7279\u5f81\uff1a\u5373\u65f6\u6027\u8f83\u5f3a\uff0c\u91cd\u8981\u7684\u6d88\u606f\uff0c\u4e14\u5fc5\u987b\u6709\u56de\u6267\u7684\u6d88\u606f\uff0c\u4f8b\u5982\u77ed\u4fe1\uff0c\u901a\u77e5\uff08\u8f6c\u8d26\u6210\u529f\uff09"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211154023471-6b5417d9.png",alt:"image-20201211154023471"}),"image-20201211154023471"),(0,r.kt)("p",null,"\u4ee3\u7801\u5b9e\u73b0"),(0,r.kt)("p",null,"com.ydl.messageType\u62f7\u8d1dproducer"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"SendResult result = producer.send(msg);\n")),(0,r.kt)("h4",{id:"42-\u5f02\u6b65\u6d88\u606f"},"4.2 \u5f02\u6b65\u6d88\u606f"),(0,r.kt)("p",null,"\u7279\u5f81\uff1a\u5373\u65f6\u6027\u8f83\u5f31\uff0c\u4f46\u9700\u8981\u6709\u56de\u6267\u7684\u6d88\u606f\uff0c\u4f8b\u5982\u8ba2\u5355\u4e2d\u7684\u67d0\u4e9b\u4fe1\u606f"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211154108518-bded3e3b.png",alt:"image-20201211154108518"}),"image-20201211154108518"),(0,r.kt)("p",null,"\u4ee3\u7801\u5b9e\u73b0"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'        //1.\u521b\u5efa\u4e00\u4e2a\u53d1\u9001\u6d88\u606f\u7684\u5bf9\u8c61Producer\n        DefaultMQProducer producer = new DefaultMQProducer("group1");\n        //2.\u8bbe\u5b9a\u53d1\u9001\u7684\u547d\u540d\u670d\u52a1\u5668\u5730\u5740\n        producer.setNamesrvAddr("localhost:9876");\n        //3.1\u542f\u52a8\u53d1\u9001\u7684\u670d\u52a1\n        producer.start();\n        for (int i = 0; i < 10; i++) {\n            //4.\u521b\u5efa\u8981\u53d1\u9001\u7684\u6d88\u606f\u5bf9\u8c61,\u6307\u5b9atopic\uff0c\u6307\u5b9a\u5185\u5bb9body\n            Message msg = new Message("topic1", ("hello rocketmq"+i).getBytes("UTF-8"));\n            //3.2 \u540c\u6b65\u6d88\u606f\n            //SendResult result = producer.send(msg);\n            //System.out.println("\u8fd4\u56de\u7ed3\u679c\uff1a" + result);\n\n            //\u5f02\u6b65\u6d88\u606f\n            producer.send(msg, new SendCallback() {\n                //\u8868\u793a\u6210\u529f\u8fd4\u56de\u7ed3\u679c\n                @Override\n                public void onSuccess(SendResult sendResult) {\n                    System.out.println(sendResult);\n                }\n                //\u8868\u793a\u53d1\u9001\u6d88\u606f\u5931\u8d25\n                @Override\n                public void onException(Throwable throwable) {\n                    System.out.println(throwable);\n                }\n            });\n            \n            System.out.println("\u6d88\u606f"+i+"\u53d1\u5b8c\u4e86\uff0c\u505a\u4e1a\u52a1\u903b\u8f91\u53bb\u4e86\uff01");\n        }\n        //\u4f11\u772010\u79d2\n        TimeUnit.SECONDS.sleep(10);\n        //5.\u5173\u95ed\u8fde\u63a5\n        producer.shutdown();\n')),(0,r.kt)("h4",{id:"43-\u5355\u5411\u6d88\u606f"},"4.3 \u5355\u5411\u6d88\u606f"),(0,r.kt)("p",null,"\u7279\u5f81\uff1a\u4e0d\u9700\u8981\u6709\u56de\u6267\u7684\u6d88\u606f\uff0c\u4f8b\u5982\u65e5\u5fd7\u7c7b\u6d88\u606f"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211154145199-726163a2.png",alt:"image-20201211154145199"}),"image-20201211154145199"),(0,r.kt)("p",null,"\u4ee3\u7801\u5b9e\u73b0"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"producer.sendOneway(msg);\n")),(0,r.kt)("h4",{id:"44-\u5ef6\u65f6\u6d88\u606f"},"4.4 \u5ef6\u65f6\u6d88\u606f"),(0,r.kt)("p",null,"\u6d88\u606f\u53d1\u9001\u65f6\u5e76\u4e0d\u76f4\u63a5\u53d1\u9001\u5230\u6d88\u606f\u670d\u52a1\u5668\uff0c\u800c\u662f\u6839\u636e\u8bbe\u5b9a\u7684\u7b49\u5f85\u65f6\u95f4\u5230\u8fbe\uff0c\u8d77\u5230\u5ef6\u65f6\u5230\u8fbe\u7684\u7f13\u51b2\u4f5c\u7528"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'Message msg = new Message("topic3",("\u5ef6\u65f6\u6d88\u606f\uff1ahello rocketmq "+i).getBytes("UTF-8"));\n//\u8bbe\u7f6e\u5ef6\u65f6\u7b49\u7ea73,\u8fd9\u4e2a\u6d88\u606f\u5c06\u572810s\u4e4b\u540e\u53d1\u9001(\u73b0\u5728\u53ea\u652f\u6301\u56fa\u5b9a\u7684\u51e0\u4e2a\u65f6\u95f4,\u8be6\u770bdelayTimeLevel)\nmsg.setDelayTimeLevel(3);\nSendResult result = producer.send(msg);\nSystem.out.println("\u8fd4\u56de\u7ed3\u679c\uff1a"+result);\n')),(0,r.kt)("p",null,"\u76ee\u524d\u652f\u6301\u7684\u6d88\u606f\u65f6\u95f4"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'private String messageDelayLevel = "1s 5s 10s 30s 1m 2m 3m 4m 5m 6m 7m 8m 9m 10m 20m 30m 1h 2h";\n')),(0,r.kt)("h4",{id:"45-\u6279\u91cf\u6d88\u606f"},"4.5 \u6279\u91cf\u6d88\u606f"),(0,r.kt)("p",null,"\u6279\u91cf\u53d1\u9001\u6d88\u606f\u80fd\u663e\u8457\u63d0\u9ad8\u4f20\u9012\u5c0f\u6d88\u606f\u7684\u6027\u80fd."),(0,r.kt)("p",null,"\u53d1\u9001\u6279\u91cf\u6d88\u606f:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'        List<Message> msgList = new ArrayList<Message>();\n        Message msg1 = new Message("topic1", ("hello rocketmq1").getBytes("UTF-8"));\n        Message msg2 = new Message("topic1", ("hello rocketmq2").getBytes("UTF-8"));\n        Message msg3 = new Message("topic1", ("hello rocketmq3").getBytes("UTF-8"));\n\n        msgList.add(msg1);\n        msgList.add(msg2);\n        msgList.add(msg3);\n\n\n        SendResult result = producer.send(msgList);\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u6ce8\u610f\u9650\u5236"),"\uff1a"),(0,r.kt)("p",null,"1\u8fd9\u4e9b\u6279\u91cf\u6d88\u606f\u5e94\u8be5\u6709\u76f8\u540c\u7684topic"),(0,r.kt)("p",null,"2\u76f8\u540c\u7684waitStoreMsgOK"),(0,r.kt)("p",null,"3\u4e0d\u80fd\u662f\u5ef6\u65f6\u6d88\u606f"),(0,r.kt)("p",null,"4\u6d88\u606f\u5185\u5bb9\u603b\u957f\u5ea6\u4e0d\u8d85\u8fc74M"),(0,r.kt)("p",null," \u6d88\u606f\u5185\u5bb9\u603b\u957f\u5ea6\u5305\u542b\u5982\u4e0b\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"topic\uff08\u5b57\u7b26\u4e32\u5b57\u8282\u6570\uff09"),(0,r.kt)("li",{parentName:"ul"},"body \uff08\u5b57\u8282\u6570\u7ec4\u957f\u5ea6\uff09"),(0,r.kt)("li",{parentName:"ul"},"\u6d88\u606f\u8ffd\u52a0\u7684\u5c5e\u6027\uff08key\u4e0evalue\u5bf9\u5e94\u5b57\u7b26\u4e32\u5b57\u8282\u6570\uff09"),(0,r.kt)("li",{parentName:"ul"},"\u65e5\u5fd7\uff08\u56fa\u5b9a20\u5b57\u8282\uff09")),(0,r.kt)("h4",{id:"46-\u6d88\u606f\u8fc7\u6ee4"},"4.6 \u6d88\u606f\u8fc7\u6ee4"),(0,r.kt)("h5",{id:"461\u5206\u7c7b\u8fc7\u6ee4"},"4.6.1\u5206\u7c7b\u8fc7\u6ee4"),(0,r.kt)("p",null,"\u6309\u7167tag\u8fc7\u6ee4\u4fe1\u606f\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u751f\u4ea7\u8005")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'Message msg = new Message("topic6","tag2",("\u6d88\u606f\u8fc7\u6ee4\u6309\u7167tag\uff1ahello rocketmq 2").getBytes("UTF-8"));\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u6d88\u8d39\u8005")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'//\u63a5\u6536\u6d88\u606f\u7684\u65f6\u5019\uff0c\u9664\u4e86\u5236\u5b9atopic\uff0c\u8fd8\u53ef\u4ee5\u6307\u5b9a\u63a5\u6536\u7684tag,*\u4ee3\u8868\u4efb\u610ftag\nconsumer.subscribe("topic6","tag1 || tag2");\n')),(0,r.kt)("h5",{id:"462\u8bed\u6cd5\u8fc7\u6ee4\u5c5e\u6027\u8fc7\u6ee4\u8bed\u6cd5\u8fc7\u6ee4sql\u8fc7\u6ee4"},"4.6.2\u8bed\u6cd5\u8fc7\u6ee4\uff08\u5c5e\u6027\u8fc7\u6ee4/\u8bed\u6cd5\u8fc7\u6ee4/SQL\u8fc7\u6ee4\uff09"),(0,r.kt)("p",null,"\u57fa\u672c\u8bed\u6cd5"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6570\u503c\u6bd4\u8f83\uff0c\u6bd4\u5982\uff1a",(0,r.kt)("strong",{parentName:"li"},">\uff0c>=\uff0c<\uff0c<=\uff0cBETWEEN\uff0c=\uff1b")),(0,r.kt)("li",{parentName:"ul"},"\u5b57\u7b26\u6bd4\u8f83\uff0c\u6bd4\u5982\uff1a",(0,r.kt)("strong",{parentName:"li"},"=\uff0c",(0,r.kt)("inlineCode",{parentName:"strong"},"<>"),"\uff0cIN\uff1b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"IS NULL")," \u6216\u8005 ",(0,r.kt)("strong",{parentName:"li"},"IS NOT NULL\uff1b")),(0,r.kt)("li",{parentName:"ul"},"\u903b\u8f91\u7b26\u53f7 ",(0,r.kt)("strong",{parentName:"li"},"AND\uff0cOR\uff0cNOT\uff1b"))),(0,r.kt)("p",null,"\u5e38\u91cf\u652f\u6301\u7c7b\u578b\u4e3a\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6570\u503c\uff0c\u6bd4\u5982\uff1a",(0,r.kt)("strong",{parentName:"li"},"123\uff0c3.1415\uff1b")),(0,r.kt)("li",{parentName:"ul"},"\u5b57\u7b26\uff0c\u6bd4\u5982\uff1a",(0,r.kt)("strong",{parentName:"li"},"'abc'\uff0c\u5fc5\u987b\u7528\u5355\u5f15\u53f7\u5305\u88f9\u8d77\u6765\uff1b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"NULL"),"\uff0c\u7279\u6b8a\u7684\u5e38\u91cf"),(0,r.kt)("li",{parentName:"ul"},"\u5e03\u5c14\u503c\uff0c",(0,r.kt)("strong",{parentName:"li"},"TRUE")," \u6216 ",(0,r.kt)("strong",{parentName:"li"},"FALSE"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u751f\u4ea7\u8005")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'//\u4e3a\u6d88\u606f\u6dfb\u52a0\u5c5e\u6027\nmsg.putUserProperty("vip","1");\nmsg.putUserProperty("age","20");\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u6d88\u8d39\u8005")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'//\u4f7f\u7528\u6d88\u606f\u9009\u62e9\u5668\u6765\u8fc7\u6ee4\u5bf9\u5e94\u7684\u5c5e\u6027\uff0c\u8bed\u6cd5\u683c\u5f0f\u4e3a\u7c7bSQL\u8bed\u6cd5\nconsumer.subscribe("topic7", MessageSelector.bySql("age >= 18"));\nconsumer.subscribe("topic6", MessageSelector.bySql("name = \'litiedan\'"));\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u6ce8\u610f"),"\uff1aSQL\u8fc7\u6ee4\u9700\u8981\u4f9d\u8d56\u670d\u52a1\u5668\u7684\u529f\u80fd\u652f\u6301\uff0c\u5728broker.conf\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\u5bf9\u5e94\u7684\u529f\u80fd\u9879\uff0c\u5e76\u5f00\u542f\u5bf9\u5e94\u529f\u80fd"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-properties"},"enablePropertyFilter=true\n")),(0,r.kt)("p",null,"\u91cd\u542fbroker"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"start mqbroker.cmd -n 127.0.0.1:9876 autoCreateTopicEnable=true\n")),(0,r.kt)("p",null,"\u6216\u8005\u76f4\u63a5cmd\u4e2d\u8f93\u5165"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"mqadmin.cmd updateBrokerConfig -blocalhost:10911 -kenablePropertyFilter -vtrue\n")),(0,r.kt)("p",null,"\u9875\u9762\u67e5\u770b\u5f00\u542f\u4e0e\u5426"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20210216175129980-81f41d00.png",alt:"image-20210216175129980"}),"image-20210216175129980"),(0,r.kt)("h3",{id:"5springboot\u6574\u5408"},"5springboot\u6574\u5408"),(0,r.kt)("p",null,"\u65b0\u5efa springboot\u9879\u76ee"),(0,r.kt)("h4",{id:"51\u5bfc\u5305"},"5.1\u5bfc\u5305"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"    <dependency>\n        <groupId>org.apache.rocketmq</groupId>\n        <artifactId>rocketmq-spring-boot-starter</artifactId>\n        <version>2.0.3</version>\n    </dependency>\n")),(0,r.kt)("h4",{id:"52\u914d\u7f6e\u6587\u4ef6"},"5.2\u914d\u7f6e\u6587\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"rocketmq.name-server=localhost:9876\nrocketmq.producer.group=demo_producer\n")),(0,r.kt)("h4",{id:"53\u5b9e\u4f53\u7c7b"},"5.3\u5b9e\u4f53\u7c7b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"public class user implements Serializable {\n    String userName;\n    String userId;\n\n    public user(){\n\n    }\n\n    public user(String userName, String userId) {\n        this.userName = userName;\n        this.userId = userId;\n    }\n\n    @Override\n    public String toString() {\n        return \"demoEntity{\" +\n                \"userName='\" + userName + '\\'' +\n                \", userId='\" + userId + '\\'' +\n                '}';\n    }\n")),(0,r.kt)("h4",{id:"54\u751f\u4ea7\u8005"},"5.4\u751f\u4ea7\u8005"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'@RestController\npublic class DemoProducers {\n    @Autowired\n    private RocketMQTemplate template;\n\n    @RequestMapping("/producer")\n    public String producersMessage() {\n        User user = new User("sharfine", "123456789");\n        template.convertAndSend("demo-topic", user);\n        return JSON.toJSONString(user);\n    }\n}\n')),(0,r.kt)("h4",{id:"55\u6d88\u8d39\u8005"},"5.5\u6d88\u8d39\u8005"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'@Service\n@RocketMQMessageListener(topic = "demo-topic", consumerGroup = "demo_consumer")\npublic class DemoConsumers1 implements RocketMQListener<user> {\n    @Override\n    public void onMessage(user user) {\n        System.out.println("Consumers1\u63a5\u6536\u6d88\u606f:" + demoEntity.toString());\n    }\n}\n')),(0,r.kt)("h4",{id:"56\u5176\u4ed6\u6d88\u606f"},"5.6\u5176\u4ed6\u6d88\u606f"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5f02\u6b65\u53d1\u9001")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'       rocketMQTemplate.asyncSend("topic9", user, new SendCallback() {\n            @Override\n            public void onSuccess(SendResult sendResult) {\n                System.out.println(sendResult);\n            }\n\n            @Override\n            public void onException(Throwable throwable) {\n                System.out.println(throwable);\n            }\n        });\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5355\u5411\u53d1\u9001")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'rocketMQTemplate.sendOneWay("topic9",user);\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5ef6\u65f6\u6d88\u606f")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'rocketMQTemplate.syncSend("topic9", MessageBuilder.withPayload("test delay").build(),2000,2);\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u6279\u91cf")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'List<Message> msgList = new ArrayList<>();\nmsgList.add(new Message("topic6", "tag1", "msg1".getBytes()));\nmsgList.add(new Message("topic6", "tag1", "msg2".getBytes()));\nmsgList.add(new Message("topic6", "tag1", "msg3".getBytes()));        rocketMQTemplate.syncSend("topic8",msgList,1000);\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Tag\u8fc7\u6ee4")),(0,r.kt)("p",null,"\u6d88\u8d39\u8005"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'@RocketMQMessageListener(topic = "topic9",consumerGroup = "group1",selectorExpression = "tag1")\n')),(0,r.kt)("p",null,"Sql\u8fc7\u6ee4"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'@RocketMQMessageListener(topic = "topic9",consumerGroup = "group1",selectorExpression = "age>18"\n        ,selectorType= SelectorType.SQL92)\n')),(0,r.kt)("p",null,"\u6539\u6d88\u606f\u6a21\u5f0f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'@RocketMQMessageListener(topic = "topic9",consumerGroup = "group1",messageModel = MessageModel.BROADCASTING)\n')),(0,r.kt)("h2",{id:"rocketmq-\u8fdb\u9636\u7bc7"},"RocketMQ \u8fdb\u9636\u7bc7"),(0,r.kt)("h3",{id:"1\u6d88\u606f\u7684\u7279\u6b8a\u5904\u7406"},"1\u6d88\u606f\u7684\u7279\u6b8a\u5904\u7406"),(0,r.kt)("h4",{id:"11-\u9519\u4e71\u7684\u6d88\u606f\u987a\u5e8f"},"1.1 \u9519\u4e71\u7684\u6d88\u606f\u987a\u5e8f"),(0,r.kt)("p",null,"\u539f\u56e0"),(0,r.kt)("p",null,"\u6d88\u606f\u6709\u5e8f\u6307\u7684\u662f\u53ef\u4ee5\u6309\u7167\u6d88\u606f\u7684\u53d1\u9001\u987a\u5e8f\u6765\u6d88\u8d39(FIFO)\u3002RocketMQ\u53ef\u4ee5\u4e25\u683c\u7684\u4fdd\u8bc1\u6d88\u606f\u6709\u5e8f\uff0c\u53ef\u4ee5\u5206\u4e3a\u5206\u533a\u6709\u5e8f\u6216\u8005\u5168\u5c40\u6709\u5e8f\u3002"),(0,r.kt)("p",null,"\u987a\u5e8f\u6d88\u8d39\u7684\u539f\u7406\u89e3\u6790\uff0c\u5728\u9ed8\u8ba4\u7684\u60c5\u51b5\u4e0b\u6d88\u606f\u53d1\u9001\u4f1a\u91c7\u53d6Round Robin\u8f6e\u8be2\u65b9\u5f0f\u628a\u6d88\u606f\u53d1\u9001\u5230\u4e0d\u540c\u7684queue(\u5206\u533a\u961f\u5217)\uff1b\u800c\u6d88\u8d39\u6d88\u606f\u7684\u65f6\u5019\u4ece\u591a\u4e2aqueue\u4e0a\u62c9\u53d6\u6d88\u606f\uff0c\u8fd9\u79cd\u60c5\u51b5\u53d1\u9001\u548c\u6d88\u8d39\u662f\u4e0d\u80fd\u4fdd\u8bc1\u987a\u5e8f\u3002\u4f46\u662f\u5982\u679c\u63a7\u5236\u53d1\u9001\u7684\u987a\u5e8f\u6d88\u606f\u53ea\u4f9d\u6b21\u53d1\u9001\u5230\u540c\u4e00\u4e2aqueue\u4e2d\uff0c\u6d88\u8d39\u7684\u65f6\u5019\u53ea\u4ece\u8fd9\u4e2aqueue\u4e0a\u4f9d\u6b21\u62c9\u53d6\uff0c\u5219\u5c31\u4fdd\u8bc1\u4e86\u987a\u5e8f\u3002\u5f53\u53d1\u9001\u548c\u6d88\u8d39\u53c2\u4e0e\u7684queue\u53ea\u6709\u4e00\u4e2a\uff0c\u5219\u662f\u5168\u5c40\u6709\u5e8f\uff1b\u5982\u679c\u591a\u4e2aqueue\u53c2\u4e0e\uff0c\u5219\u4e3a\u5206\u533a\u6709\u5e8f\uff0c\u5373\u76f8\u5bf9\u6bcf\u4e2aqueue\uff0c\u6d88\u606f\u90fd\u662f\u6709\u5e8f\u7684\u3002"),(0,r.kt)("p",null,"\u4e0b\u9762\u7528\u8ba2\u5355\u8fdb\u884c\u5206\u533a\u6709\u5e8f\u7684\u793a\u4f8b\u3002\u4e00\u4e2a\u8ba2\u5355\u7684\u987a\u5e8f\u6d41\u7a0b\u662f\uff1a\u521b\u5efa\u3001\u4ed8\u6b3e\u3001\u63a8\u9001\u3001\u5b8c\u6210\u3002\u8ba2\u5355\u53f7\u76f8\u540c\u7684\u6d88\u606f\u4f1a\u88ab\u5148\u540e\u53d1\u9001\u5230\u540c\u4e00\u4e2a\u961f\u5217\u4e2d\uff0c\u6d88\u8d39\u65f6\uff0c\u540c\u4e00\u4e2aOrderId\u83b7\u53d6\u5230\u7684\u80af\u5b9a\u662f\u540c\u4e00\u4e2a\u961f\u5217\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20210227193832410-644f9a5a.png",alt:"image-20210227193832410"}),"image-20210227193832410"),(0,r.kt)("p",null,"\u5148\u8bfb\u5230\u7b2c\u4e00\u4e2a\u8ba2\u5355\u7684\u521b\u5efa\u548c\u5b8c\u6210\u6d88\u606f"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20210227193914094-32dc63b5.png",alt:"image-20210227193914094"}),"image-20210227193914094"),(0,r.kt)("p",null,"\u60f3\u8981\u7684\u6548\u679c"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20210227194435616-61445c08.png",alt:"image-20210227194435616"}),"image-20210227194435616"),(0,r.kt)("h4",{id:"12-\u987a\u5e8f\u6d88\u606f"},"1.2 \u987a\u5e8f\u6d88\u606f"),(0,r.kt)("p",null,"1.2.1\u8ba2\u5355\u6b65\u9aa4\u5b9e\u4f53\u7c7b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"package com.ydl.order.domain;\n\n/**\n * \u8ba2\u5355\u7684\u6b65\u9aa4\n */\npublic class OrderStep {\n    private long orderId;\n    private String desc;\n\n    public long getOrderId() {\n        return orderId;\n    }\n\n    public void setOrderId(long orderId) {\n        this.orderId = orderId;\n    }\n\n    public String getDesc() {\n        return desc;\n    }\n\n    public void setDesc(String desc) {\n        this.desc = desc;\n    }\n\n    @Override\n    public String toString() {\n        return \"OrderStep{\" +\n                \"orderId=\" + orderId +\n                \", desc='\" + desc + '\\'' +\n                '}';\n    }\n}\n")),(0,r.kt)("p",null,"1.2.1\u53d1\u9001\u6d88\u606f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'package com.ydl.order;\n\nimport com.ydl.order.domain.OrderStep;\nimport org.apache.rocketmq.client.producer.DefaultMQProducer;\nimport org.apache.rocketmq.client.producer.MessageQueueSelector;\nimport org.apache.rocketmq.client.producer.SendResult;\nimport org.apache.rocketmq.common.message.Message;\nimport org.apache.rocketmq.common.message.MessageQueue;\n\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\n\npublic class Producer {\n    public static void main(String[] args) throws Exception {\n        DefaultMQProducer producer = new DefaultMQProducer("group1");\n        producer.setNamesrvAddr("localhost:9876");\n        producer.start();\n\n        List<OrderStep> orderList = new Producer().buildOrders();\n\n        //\u8bbe\u7f6e\u6d88\u606f\u8fdb\u5165\u5230\u6307\u5b9a\u7684\u6d88\u606f\u961f\u5217\u4e2d\n        for (final OrderStep order : orderList) {\n            Message msg = new Message("topic1", order.toString().getBytes());\n            //\u53d1\u9001\u65f6\u8981\u6307\u5b9a\u5bf9\u5e94\u7684\u6d88\u606f\u961f\u5217\u9009\u62e9\u5668\n            SendResult result = producer.send(msg, new MessageQueueSelector() {\n                //\u8bbe\u7f6e\u5f53\u524d\u6d88\u606f\u53d1\u9001\u65f6\u4f7f\u7528\u54ea\u4e00\u4e2a\u6d88\u606f\u961f\u5217\n                public MessageQueue select(List<MessageQueue> list, Message message, Object o) {\n                    //\u6839\u636e\u53d1\u9001\u7684\u4fe1\u606f\u4e0d\u540c\uff0c\u9009\u62e9\u4e0d\u540c\u7684\u6d88\u606f\u961f\u5217\n                    //\u6839\u636eid\u6765\u9009\u62e9\u4e00\u4e2a\u6d88\u606f\u961f\u5217\u7684\u5bf9\u8c61\uff0c\u5e76\u8fd4\u56de->id\u5f97\u5230int\u503c\n                    long orderId = order.getOrderId();\n                    long mqIndex = orderId % list.size();\n                    return list.get((int) mqIndex);\n                }\n            }, null);\n            System.out.println(result);\n        }\n\n        producer.shutdown();\n\n\n        //for (int i = 0; i < 10; i++) {\n        //    Message msg = new Message("topic1", ("hello rocketmq"+i).getBytes("UTF-8"));\n        //    SendResult result = producer.send(msg);\n        //    System.out.println("\u8fd4\u56de\u7ed3\u679c\uff1a" + result);\n        //}\n    }\n\n    /**\n     * \u751f\u6210\u6a21\u62df\u8ba2\u5355\u6570\u636e\n     */\n    private List<OrderStep> buildOrders() {\n        List<OrderStep> orderList = new ArrayList<OrderStep>();\n\n        OrderStep orderDemo = new OrderStep();\n        orderDemo.setOrderId(1L);\n        orderDemo.setDesc("\u521b\u5efa");\n        orderList.add(orderDemo);\n\n        orderDemo = new OrderStep();\n        orderDemo.setOrderId(2L);\n        orderDemo.setDesc("\u521b\u5efa");\n        orderList.add(orderDemo);\n\n        orderDemo = new OrderStep();\n        orderDemo.setOrderId(1L);\n        orderDemo.setDesc("\u4ed8\u6b3e");\n        orderList.add(orderDemo);\n\n        orderDemo = new OrderStep();\n        orderDemo.setOrderId(3L);\n        orderDemo.setDesc("\u521b\u5efa");\n        orderList.add(orderDemo);\n\n        orderDemo = new OrderStep();\n        orderDemo.setOrderId(2L);\n        orderDemo.setDesc("\u4ed8\u6b3e");\n        orderList.add(orderDemo);\n\n        orderDemo = new OrderStep();\n        orderDemo.setOrderId(3L);\n        orderDemo.setDesc("\u4ed8\u6b3e");\n        orderList.add(orderDemo);\n\n        orderDemo = new OrderStep();\n        orderDemo.setOrderId(2L);\n        orderDemo.setDesc("\u5b8c\u6210");\n        orderList.add(orderDemo);\n\n        orderDemo = new OrderStep();\n        orderDemo.setOrderId(1L);\n        orderDemo.setDesc("\u63a8\u9001");\n        orderList.add(orderDemo);\n\n        orderDemo = new OrderStep();\n        orderDemo.setOrderId(3L);\n        orderDemo.setDesc("\u5b8c\u6210");\n        orderList.add(orderDemo);\n\n        orderDemo = new OrderStep();\n        orderDemo.setOrderId(1L);\n        orderDemo.setDesc("\u5b8c\u6210");\n        orderList.add(orderDemo);\n\n        return orderList;\n    }\n}\n')),(0,r.kt)("p",null,"1.2.2\u63a5\u6536\u6d88\u606f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'         //\u4f7f\u7528\u5355\u7ebf\u7a0b\u7684\u6a21\u5f0f\u4ece\u6d88\u606f\u961f\u5217\u4e2d\u53d6\u6570\u636e\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u7ed1\u5b9a\u4e00\u4e2a\u6d88\u606f\u961f\u5217\n        consumer.registerMessageListener(new MessageListenerOrderly() {\n            //\u4f7f\u7528MessageListenerOrderly\u63a5\u53e3\u540e\uff0c\u5bf9\u6d88\u606f\u961f\u5217\u7684\u5904\u7406\u7531\u4e00\u4e2a\u6d88\u606f\u961f\u5217\u591a\u4e2a\u7ebf\u7a0b\u670d\u52a1\uff0c\u8f6c\u5316\u4e3a\u4e00\u4e2a\u6d88\u606f\u961f\u5217\u4e00\u4e2a\u7ebf\u7a0b\u670d\u52a1\n            public ConsumeOrderlyStatus consumeMessage(List<MessageExt> list, ConsumeOrderlyContext consumeOrderlyContext) {\n                for (MessageExt msg : list) {\n                    System.out.println(Thread.currentThread().getName()+"\u3002\u6d88\u606f\uff1a" + new String(msg.getBody())+"\u3002queueId:"+msg.getQueueId());\n                }\n                return ConsumeOrderlyStatus.SUCCESS;\n            }\n        });\n')),(0,r.kt)("h4",{id:"13-\u4e8b\u52a1\u6d88\u606f"},"1.3 \u4e8b\u52a1\u6d88\u606f"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u6b63\u5e38\u4e8b\u52a1\u8fc7\u7a0b"),(0,r.kt)("li",{parentName:"ol"},"\u4e8b\u52a1\u8865\u507f\u8fc7\u7a0b")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211160454763-74793172.png",alt:"image-20201211160454763"}),"image-20201211160454763"),(0,r.kt)("h4",{id:"14-\u4e8b\u52a1\u6d88\u606f\u72b6\u6001"},"1.4 \u4e8b\u52a1\u6d88\u606f\u72b6\u6001"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u63d0\u4ea4\u72b6\u6001\uff1a\u5141\u8bb8\u8fdb\u5165\u961f\u5217\uff0c\u6b64\u6d88\u606f\u4e0e\u975e\u4e8b\u52a1\u6d88\u606f\u65e0\u533a\u522b"),(0,r.kt)("li",{parentName:"ol"},"\u56de\u6eda\u72b6\u6001\uff1a\u4e0d\u5141\u8bb8\u8fdb\u5165\u961f\u5217\uff0c\u6b64\u6d88\u606f\u7b49\u540c\u4e8e\u672a\u53d1\u9001\u8fc7"),(0,r.kt)("li",{parentName:"ol"},"\u4e2d\u95f4\u72b6\u6001\uff1a\u5b8c\u6210\u4e86half\u6d88\u606f\u7684\u53d1\u9001\uff0c\u672a\u5bf9MQ\u8fdb\u884c\u4e8c\u6b21\u72b6\u6001\u786e\u8ba4"),(0,r.kt)("li",{parentName:"ol"},"\u6ce8\u610f\uff1a\u4e8b\u52a1\u6d88\u606f\u4ec5\u4e0e\u751f\u4ea7\u8005\u6709\u5173\uff0c\u4e0e\u6d88\u8d39\u8005\u65e0\u5173")),(0,r.kt)("h4",{id:"15-\u4e8b\u52a1\u6d88\u606f"},"1.5 \u4e8b\u52a1\u6d88\u606f"),(0,r.kt)("p",null,"\u63d0\u4ea4\u72b6\u6001"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'//\u4e8b\u52a1\u6d88\u606f\u4f7f\u7528\u7684\u751f\u4ea7\u8005\u662fTransactionMQProducer\nTransactionMQProducer producer = new TransactionMQProducer("group1");\nproducer.setNamesrvAddr("localhost:9876");\n//\u6dfb\u52a0\u672c\u5730\u4e8b\u52a1\u5bf9\u5e94\u7684\u76d1\u542c\nproducer.setTransactionListener(new TransactionListener() {\n//\u6b63\u5e38\u4e8b\u52a1\u8fc7\u7a0b\npublic LocalTransactionState executeLocalTransaction(Message message, Object o) {\nreturn LocalTransactionState.COMMIT_MESSAGE;\n}\n//\u4e8b\u52a1\u8865\u507f\u8fc7\u7a0b\npublic LocalTransactionState checkLocalTransaction(MessageExt messageExt) {\nreturn null;\n}\n});\nproducer.start();\nMessage msg = new Message("topic8",("\u4e8b\u52a1\u6d88\u606f\uff1ahello rocketmq ").getBytes("UTF-8"));\nSendResult result = producer.sendMessageInTransaction(msg,null);\nSystem.out.println("\u8fd4\u56de\u7ed3\u679c\uff1a"+result);\nproducer.shutdown();\n')),(0,r.kt)("p",null,"\u56de\u6eda\u72b6\u6001"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"            producer.setTransactionListener(new TransactionListener() {\n            //\u6b63\u5e38\u4e8b\u52a1\n            @Override\n            public LocalTransactionState executeLocalTransaction(Message msg, Object arg) {\n                return LocalTransactionState.ROLLBACK_MESSAGE;\n            }\n            //\u4e8b\u52a1\u8865\u507f\n            @Override\n            public LocalTransactionState checkLocalTransaction(MessageExt msg) {\n                return null;\n            }\n        });\n")),(0,r.kt)("p",null,"\u4e2d\u95f4\u72b6\u6001"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'public static void main(String[] args) throws Exception {\n        TransactionMQProducer producer=new TransactionMQProducer("group1");\n        producer.setNamesrvAddr("localhost:9876");\n        producer.setTransactionListener(new TransactionListener() {\n            //\u6b63\u5e38\u4e8b\u52a1\n            @Override\n            public LocalTransactionState executeLocalTransaction(Message msg, Object arg) {\n                return LocalTransactionState.UNKNOW;\n            }\n            //\u4e8b\u52a1\u8865\u507f \u6b63\u5e38\u6267\u884cUNKNOW\u624d\u4f1a\u89e6\u53d1\n            @Override\n            public LocalTransactionState checkLocalTransaction(MessageExt msg) {\n                System.out.println("\u4e8b\u52a1\u8865\u507f");\n                return LocalTransactionState.COMMIT_MESSAGE;\n            }\n        });\n        producer.start();\n        Message msg = new Message("topic13", "hello rocketmq".getBytes("UTF-8"));\n        SendResult result = producer.sendMessageInTransaction(msg, null);\n        System.out.println("\u8fd4\u56de\u7ed3\u679c\uff1a" + result);\n\n        //\u4e8b\u52a1\u8865\u507f\u751f\u4ea7\u8005\u4e00\u5b9a\u8981\u4e00\u76f4\u542f\u52a8\u7740\n        //producer.shutdown();\n    }\n')),(0,r.kt)("h3",{id:"2-\u96c6\u7fa4\u642d\u5efa"},"2. \u96c6\u7fa4\u642d\u5efa"),(0,r.kt)("h4",{id:"21-rocketmq\u96c6\u7fa4\u5206\u7c7b"},"2.1 RocketMQ\u96c6\u7fa4\u5206\u7c7b"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u5355\u673a",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u4e00\u4e2abroker\u63d0\u4f9b\u670d\u52a1\uff08\u5b95\u673a\u540e\u670d\u52a1\u762b\u75ea\uff09"))),(0,r.kt)("li",{parentName:"ol"},"\u96c6\u7fa4",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u591a\u4e2abroker\u63d0\u4f9b\u670d\u52a1\uff08\u5355\u673a\u5b95\u673a\u540e\u6d88\u606f\u65e0\u6cd5\u53ca\u65f6\u88ab\u6d88\u8d39\uff09"),(0,r.kt)("li",{parentName:"ol"},"\u591a\u4e2amaster\u591a\u4e2aslave",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"master\u5230slave\u6d88\u606f\u540c\u6b65\u65b9\u5f0f\u4e3a\u540c\u6b65\uff08\u8f83\u5f02\u6b65\u65b9\u5f0f\u6027\u80fd\u7565\u4f4e\uff0c\u6d88\u606f\u65e0\u5ef6\u8fdf\uff09"),(0,r.kt)("li",{parentName:"ol"},"master\u5230slave\u6d88\u606f\u540c\u6b65\u65b9\u5f0f\u4e3a\u5f02\u6b65\uff08\u8f83\u540c\u6b65\u65b9\u5f0f\u6027\u80fd\u7565\u9ad8\uff0c\u6570\u636e\u7565\u6709\u5ef6\u8fdf\uff09")))))),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211160840336-dbf5b90e.png",alt:"image-20201211160840336"}),"image-20201211160840336"),(0,r.kt)("h4",{id:"22-rocketmq\u96c6\u7fa4\u7279\u5f81"},"2.2 RocketMQ\u96c6\u7fa4\u7279\u5f81"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211160927121-5811f22d.png",alt:"image-20201211160927121"}),"image-20201211160927121"),(0,r.kt)("p",null,"RocketMQ\u96c6\u7fa4\u5de5\u4f5c\u6d41\u7a0b"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u6b65\u9aa41\uff1aNameServer\u542f\u52a8\uff0c\u5f00\u542f\u76d1\u542c\uff0c\u7b49\u5f85broker\u3001producer\u4e0econsumer\u8fde\u63a5"),(0,r.kt)("li",{parentName:"ol"},"\u6b65\u9aa42\uff1abroker\u542f\u52a8\uff0c\u6839\u636e\u914d\u7f6e\u4fe1\u606f\uff0c\u8fde\u63a5\u6240\u6709\u7684NameServer\uff0c\u5e76\u4fdd\u6301\u957f\u8fde\u63a5"),(0,r.kt)("li",{parentName:"ol"},"\u6b65\u9aa42\u8865\u5145\uff1a\u5982\u679cbroker\u4e2d\u6709\u73b0\u5b58\u6570\u636e\uff0c NameServer\u5c06\u4fdd\u5b58topic\u4e0ebroker\u5173\u7cfb"),(0,r.kt)("li",{parentName:"ol"},"\u6b65\u9aa43\uff1aproducer\u53d1\u4fe1\u606f\uff0c\u8fde\u63a5\u67d0\u4e2aNameServer\uff0c\u5e76\u5efa\u7acb\u957f\u8fde\u63a5"),(0,r.kt)("li",{parentName:"ol"},"\u6b65\u9aa44\uff1aproducer\u53d1\u6d88\u606f",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u6b65\u9aa44.1\u82e5\u679ctopic\u5b58\u5728\uff0c\u7531NameServer\u76f4\u63a5\u5206\u914d"),(0,r.kt)("li",{parentName:"ol"},"\u6b65\u9aa44.2\u5982\u679ctopic\u4e0d\u5b58\u5728\uff0c\u7531NameServer\u521b\u5efatopic\u4e0ebroker\u5173\u7cfb\uff0c\u5e76\u5206\u914d"))),(0,r.kt)("li",{parentName:"ol"},"\u6b65\u9aa45\uff1aproducer\u5728broker\u7684topic\u9009\u62e9\u4e00\u4e2a\u6d88\u606f\u961f\u5217\uff08\u4ece\u5217\u8868\u4e2d\u9009\u62e9\uff09"),(0,r.kt)("li",{parentName:"ol"},"\u6b65\u9aa46\uff1aproducer\u4e0ebroker\u5efa\u7acb\u957f\u8fde\u63a5\uff0c\u7528\u4e8e\u53d1\u9001\u6d88\u606f"),(0,r.kt)("li",{parentName:"ol"},"\u6b65\u9aa47\uff1aproducer\u53d1\u9001\u6d88\u606f")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"comsumer\u5de5\u4f5c\u6d41\u7a0b\u540cproducer")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20210227230840419-97211918.png",alt:"image-20210227230840419"}),"image-20210227230840419"),(0,r.kt)("p",null,"\u53cc\u4e3b\u53cc\u4ece\u96c6\u7fa4\u642d\u5efa:"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20210228145023406-793010ab.png",alt:"image-20210228145023406"}),"image-20210228145023406"),(0,r.kt)("p",null,"\u64cd\u4f5c\u6b65\u9aa4\uff1a",(0,r.kt)("strong",{parentName:"p"},"\u6ce8\u610f\u4e24\u53f0\u673a\u5668\u540c\u65f6\u64cd\u4f5c")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u914d\u7f6e\u670d\u52a1\u5668\u73af\u5883:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"```properties\nvim /etc/hosts\n```\n\n\n\n```properties\n# nameserver\n192.168.200.129 rocketmq-nameserver1\n192.168.200.130 rocketmq-nameserver2\n# broker\n192.168.200.129 rocketmq-master1\n192.168.200.129 rocketmq-slave2\n192.168.200.130 rocketmq-master2\n192.168.200.130 rocketmq-slave1\n```\n")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"\u914d\u7f6e\u5b8c\u6bd5\u540e\u91cd\u542f\u7f51\u5361\uff0c\u5e94\u7528\u914d\u7f6e")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-properties"},"systemctl restart network\n")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u5173\u95ed\u9632\u706b\u5899\u6216\u8005\u5f00\u53d1\u6307\u5b9a\u7aef\u53e3\u5bf9\u5916\u63d0\u4f9b\u670d\u52a1")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"```properties\n# \u5173\u95ed\u9632\u706b\u5899\nsystemctl stop firewalld.service\n# \u67e5\u770b\u9632\u706b\u5899\u7684\u72b6\u6001\nfirewall-cmd --state\n# \u7981\u6b62firewall\u5f00\u673a\u542f\u52a8\nsystemctl disable firewalld.service\n```\n")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"\u914d\u7f6e\u670d\u52a1\u5668\u73af\u5883")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"```properties\nvim /etc/profile\n```\n\n\n\n```properties\n#set rocketmq\nROCKETMQ_HOME=/rocketmq\nPATH=$PATH:$ROCKETMQ_HOME/bin\nexport ROCKETMQ_HOME PATH\n```\n")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"\u914d\u7f6e\u5b8c\u6bd5\u540e\u91cd\u542f\u7f51\u5361\uff0c\u5e94\u7528\u914d\u7f6e")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"```properties\nsource /etc/profile\n```\n")),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5c06rocketmq\u89e3\u538b\u5230/rocketmq")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u521b\u5efa\u96c6\u7fa4\u670d\u52a1\u5668\u7684\u6570\u636e\u5b58\u50a8\u76ee\u5f55"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"```properties\n#master \u6570\u636e\u5b58\u50a8\u76ee\u5f55\nmkdir /rocketmq/store\nmkdir /rocketmq/store/commitlog\nmkdir /rocketmq/store/consumequeue\nmkdir /rocketmq/store/index\n\n#slave \u6570\u636e\u5b58\u50a8\u76ee\u5f55\nmkdir /rocketmq/store-slave\nmkdir /rocketmq/store-slave/commitlog\nmkdir /rocketmq/store-slave/consumequeue\nmkdir /rocketmq/store-slave/index\n```\n")),(0,r.kt)("ol",{start:6},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u6ce8\u610fmaster\u4e0eslave\u5982\u679c\u5728\u540c\u4e00\u4e2a\u865a\u62df\u673a\u4e2d\u90e8\u7f72\uff0c\u9700\u8981\u5c06\u5b58\u50a8\u76ee\u5f55\u533a\u5206\u5f00")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u7b2c\u4e00\u53f0129\u673a\u5668\u4e0a")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"```text\ncd /rocketmq/conf/2m-2s-sync\n```\n\n\n\n```text\nvim broker-a.properties\n```\n\n\n\n```properties\n#\u6240\u5c5e\u96c6\u7fa4\u540d\u5b57\nbrokerClusterName=rocketmq-cluster\n#broker\u540d\u5b57\uff0c\u6ce8\u610f\u6b64\u5904\u4e0d\u540c\u7684\u914d\u7f6e\u6587\u4ef6\u586b\u5199\u7684\u4e0d\u4e00\u6837\nbrokerName=broker-a\n#0 \u8868\u793a Master\uff0c>0 \u8868\u793a Slave\nbrokerId=0\n#nameServer\u5730\u5740\uff0c\u5206\u53f7\u5206\u5272\nnamesrvAddr=rocketmq-nameserver1:9876;rocketmq-nameserver2:9876\n#\u5728\u53d1\u9001\u6d88\u606f\u65f6\uff0c\u81ea\u52a8\u521b\u5efa\u670d\u52a1\u5668\u4e0d\u5b58\u5728\u7684topic\uff0c\u9ed8\u8ba4\u521b\u5efa\u7684\u961f\u5217\u6570\ndefaultTopicQueueNums=4\n#\u662f\u5426\u5141\u8bb8 Broker \u81ea\u52a8\u521b\u5efaTopic\uff0c\u5efa\u8bae\u7ebf\u4e0b\u5f00\u542f\uff0c\u7ebf\u4e0a\u5173\u95ed\nautoCreateTopicEnable=true\n#\u662f\u5426\u5141\u8bb8 Broker \u81ea\u52a8\u521b\u5efa\u8ba2\u9605\u7ec4\uff0c\u5efa\u8bae\u7ebf\u4e0b\u5f00\u542f\uff0c\u7ebf\u4e0a\u5173\u95ed\nautoCreateSubscriptionGroup=true\n#Broker \u5bf9\u5916\u670d\u52a1\u7684\u76d1\u542c\u7aef\u53e3\nlistenPort=10911\n#\u5220\u9664\u6587\u4ef6\u65f6\u95f4\u70b9\uff0c\u9ed8\u8ba4\u51cc\u6668 4\u70b9\ndeleteWhen=04\n#\u6587\u4ef6\u4fdd\u7559\u65f6\u95f4\uff0c\u9ed8\u8ba4 48 \u5c0f\u65f6\nfileReservedTime=120\n#commitLog\u6bcf\u4e2a\u6587\u4ef6\u7684\u5927\u5c0f\u9ed8\u8ba41G\nmapedFileSizeCommitLog=1073741824\n#ConsumeQueue\u6bcf\u4e2a\u6587\u4ef6\u9ed8\u8ba4\u5b5830W\u6761\uff0c\u6839\u636e\u4e1a\u52a1\u60c5\u51b5\u8c03\u6574\nmapedFileSizeConsumeQueue=300000\n#destroyMapedFileIntervalForcibly=120000\n#redeleteHangedFileInterval=120000\n#\u68c0\u6d4b\u7269\u7406\u6587\u4ef6\u78c1\u76d8\u7a7a\u95f4\ndiskMaxUsedSpaceRatio=88\n#\u5b58\u50a8\u8def\u5f84\nstorePathRootDir=/rocketmq/store\n#commitLog \u5b58\u50a8\u8def\u5f84\nstorePathCommitLog=/rocketmq/store/commitlog\n#\u6d88\u8d39\u961f\u5217\u5b58\u50a8\u8def\u5f84\u5b58\u50a8\u8def\u5f84\nstorePathConsumeQueue=/rocketmq/store/consumequeue\n#\u6d88\u606f\u7d22\u5f15\u5b58\u50a8\u8def\u5f84\nstorePathIndex=/rocketmq/store/index\n#checkpoint \u6587\u4ef6\u5b58\u50a8\u8def\u5f84\nstoreCheckpoint=/rocketmq/store/checkpoint\n#abort \u6587\u4ef6\u5b58\u50a8\u8def\u5f84\nabortFile=/rocketmq/store/abort\n#\u9650\u5236\u7684\u6d88\u606f\u5927\u5c0f\nmaxMessageSize=65536\n#flushCommitLogLeastPages=4\n#flushConsumeQueueLeastPages=2\n#flushCommitLogThoroughInterval=10000\n#flushConsumeQueueThoroughInterval=60000\n#Broker \u7684\u89d2\u8272\n#- ASYNC_MASTER \u5f02\u6b65\u590d\u5236Master\n#- SYNC_MASTER \u540c\u6b65\u53cc\u5199Master\n#- SLAVE\nbrokerRole=SYNC_MASTER\n#\u5237\u76d8\u65b9\u5f0f\n#- ASYNC_FLUSH \u5f02\u6b65\u5237\u76d8\n#- SYNC_FLUSH \u540c\u6b65\u5237\u76d8\nflushDiskType=SYNC_FLUSH\n#checkTransactionMessageEnable=false\n#\u53d1\u6d88\u606f\u7ebf\u7a0b\u6c60\u6570\u91cf\n#sendMessageThreadPoolNums=128\n#\u62c9\u6d88\u606f\u7ebf\u7a0b\u6c60\u6570\u91cf\n#pullMessageThreadPoolNums=128\n```\n\n\n\n```text\nvim broker-b-s.properties\n```\n\n\n\n```properties\n#\u6240\u5c5e\u96c6\u7fa4\u540d\u5b57\nbrokerClusterName=rocketmq-cluster\n#broker\u540d\u5b57\uff0c\u6ce8\u610f\u6b64\u5904\u4e0d\u540c\u7684\u914d\u7f6e\u6587\u4ef6\u586b\u5199\u7684\u4e0d\u4e00\u6837\nbrokerName=broker-b\n#0 \u8868\u793a Master\uff0c>0 \u8868\u793a Slave\nbrokerId=1\n#nameServer\u5730\u5740\uff0c\u5206\u53f7\u5206\u5272\nnamesrvAddr=rocketmq-nameserver1:9876;rocketmq-nameserver2:9876\n#\u5728\u53d1\u9001\u6d88\u606f\u65f6\uff0c\u81ea\u52a8\u521b\u5efa\u670d\u52a1\u5668\u4e0d\u5b58\u5728\u7684topic\uff0c\u9ed8\u8ba4\u521b\u5efa\u7684\u961f\u5217\u6570\ndefaultTopicQueueNums=4\n#\u662f\u5426\u5141\u8bb8 Broker \u81ea\u52a8\u521b\u5efaTopic\uff0c\u5efa\u8bae\u7ebf\u4e0b\u5f00\u542f\uff0c\u7ebf\u4e0a\u5173\u95ed\nautoCreateTopicEnable=true\n#\u662f\u5426\u5141\u8bb8 Broker \u81ea\u52a8\u521b\u5efa\u8ba2\u9605\u7ec4\uff0c\u5efa\u8bae\u7ebf\u4e0b\u5f00\u542f\uff0c\u7ebf\u4e0a\u5173\u95ed\nautoCreateSubscriptionGroup=true\n#Broker \u5bf9\u5916\u670d\u52a1\u7684\u76d1\u542c\u7aef\u53e3\nlistenPort=11011\n#\u5220\u9664\u6587\u4ef6\u65f6\u95f4\u70b9\uff0c\u9ed8\u8ba4\u51cc\u6668 4\u70b9\ndeleteWhen=04\n#\u6587\u4ef6\u4fdd\u7559\u65f6\u95f4\uff0c\u9ed8\u8ba4 48 \u5c0f\u65f6\nfileReservedTime=120\n#commitLog\u6bcf\u4e2a\u6587\u4ef6\u7684\u5927\u5c0f\u9ed8\u8ba41G\nmapedFileSizeCommitLog=1073741824\n#ConsumeQueue\u6bcf\u4e2a\u6587\u4ef6\u9ed8\u8ba4\u5b5830W\u6761\uff0c\u6839\u636e\u4e1a\u52a1\u60c5\u51b5\u8c03\u6574\nmapedFileSizeConsumeQueue=300000\n#destroyMapedFileIntervalForcibly=120000\n#redeleteHangedFileInterval=120000\n#\u68c0\u6d4b\u7269\u7406\u6587\u4ef6\u78c1\u76d8\u7a7a\u95f4\ndiskMaxUsedSpaceRatio=88\n#\u5b58\u50a8\u8def\u5f84\nstorePathRootDir=/rocketmq/store-slave\n#commitLog \u5b58\u50a8\u8def\u5f84\nstorePathCommitLog=/rocketmq/store-slave/commitlog\n#\u6d88\u8d39\u961f\u5217\u5b58\u50a8\u8def\u5f84\u5b58\u50a8\u8def\u5f84\nstorePathConsumeQueue=/rocketmq/store-slave/consumequeue\n#\u6d88\u606f\u7d22\u5f15\u5b58\u50a8\u8def\u5f84\nstorePathIndex=/rocketmq/store-slave/index\n#checkpoint \u6587\u4ef6\u5b58\u50a8\u8def\u5f84\nstoreCheckpoint=/rocketmq/store-slave/checkpoint\n#abort \u6587\u4ef6\u5b58\u50a8\u8def\u5f84\nabortFile=/rocketmq/store-slave/abort\n#\u9650\u5236\u7684\u6d88\u606f\u5927\u5c0f\nmaxMessageSize=65536\n#flushCommitLogLeastPages=4\n#flushConsumeQueueLeastPages=2\n#flushCommitLogThoroughInterval=10000\n#flushConsumeQueueThoroughInterval=60000\n#Broker \u7684\u89d2\u8272\n#- ASYNC_MASTER \u5f02\u6b65\u590d\u5236Master\n#- SYNC_MASTER \u540c\u6b65\u53cc\u5199Master\n#- SLAVE\nbrokerRole=SLAVE\n#\u5237\u76d8\u65b9\u5f0f\n#- ASYNC_FLUSH \u5f02\u6b65\u5237\u76d8\n#- SYNC_FLUSH \u540c\u6b65\u5237\u76d8\nflushDiskType=ASYNC_FLUSH\n#checkTransactionMessageEnable=false\n#\u53d1\u6d88\u606f\u7ebf\u7a0b\u6c60\u6570\u91cf\n#sendMessageThreadPoolNums=128\n#\u62c9\u6d88\u606f\u7ebf\u7a0b\u6c60\u6570\u91cf\n#pullMessageThreadPoolNums=128\n```\n\n\n\n```text\nrm -rf broker-a-s.properties\nrm -rf broker-b.properties\n```\n\n**\u7b2c\u4e8c\u53f0130\u673a\u5668\u4e0a**\n\n\n\n```text\ncd /rocketmq/conf/2m-2s-sync\n```\n\n\n\n```text\nvim broker-b.properties\n```\n\n\n\n```properties\n#\u6240\u5c5e\u96c6\u7fa4\u540d\u5b57\nbrokerClusterName=rocketmq-cluster\n#broker\u540d\u5b57\uff0c\u6ce8\u610f\u6b64\u5904\u4e0d\u540c\u7684\u914d\u7f6e\u6587\u4ef6\u586b\u5199\u7684\u4e0d\u4e00\u6837\nbrokerName=broker-b\n#0 \u8868\u793a Master\uff0c>0 \u8868\u793a Slave\nbrokerId=0\n#nameServer\u5730\u5740\uff0c\u5206\u53f7\u5206\u5272\nnamesrvAddr=rocketmq-nameserver1:9876;rocketmq-nameserver2:9876\n#\u5728\u53d1\u9001\u6d88\u606f\u65f6\uff0c\u81ea\u52a8\u521b\u5efa\u670d\u52a1\u5668\u4e0d\u5b58\u5728\u7684topic\uff0c\u9ed8\u8ba4\u521b\u5efa\u7684\u961f\u5217\u6570\ndefaultTopicQueueNums=4\n#\u662f\u5426\u5141\u8bb8 Broker \u81ea\u52a8\u521b\u5efaTopic\uff0c\u5efa\u8bae\u7ebf\u4e0b\u5f00\u542f\uff0c\u7ebf\u4e0a\u5173\u95ed\nautoCreateTopicEnable=true\n#\u662f\u5426\u5141\u8bb8 Broker \u81ea\u52a8\u521b\u5efa\u8ba2\u9605\u7ec4\uff0c\u5efa\u8bae\u7ebf\u4e0b\u5f00\u542f\uff0c\u7ebf\u4e0a\u5173\u95ed\nautoCreateSubscriptionGroup=true\n#Broker \u5bf9\u5916\u670d\u52a1\u7684\u76d1\u542c\u7aef\u53e3\nlistenPort=10911\n#\u5220\u9664\u6587\u4ef6\u65f6\u95f4\u70b9\uff0c\u9ed8\u8ba4\u51cc\u6668 4\u70b9\ndeleteWhen=04\n#\u6587\u4ef6\u4fdd\u7559\u65f6\u95f4\uff0c\u9ed8\u8ba4 48 \u5c0f\u65f6\nfileReservedTime=120\n#commitLog\u6bcf\u4e2a\u6587\u4ef6\u7684\u5927\u5c0f\u9ed8\u8ba41G\nmapedFileSizeCommitLog=1073741824\n#ConsumeQueue\u6bcf\u4e2a\u6587\u4ef6\u9ed8\u8ba4\u5b5830W\u6761\uff0c\u6839\u636e\u4e1a\u52a1\u60c5\u51b5\u8c03\u6574\nmapedFileSizeConsumeQueue=300000\n#destroyMapedFileIntervalForcibly=120000\n#redeleteHangedFileInterval=120000\n#\u68c0\u6d4b\u7269\u7406\u6587\u4ef6\u78c1\u76d8\u7a7a\u95f4\ndiskMaxUsedSpaceRatio=88\n#\u5b58\u50a8\u8def\u5f84\nstorePathRootDir=/rocketmq/store\n#commitLog \u5b58\u50a8\u8def\u5f84\nstorePathCommitLog=/rocketmq/store/commitlog\n#\u6d88\u8d39\u961f\u5217\u5b58\u50a8\u8def\u5f84\u5b58\u50a8\u8def\u5f84\nstorePathConsumeQueue=/rocketmq/store/consumequeue\n#\u6d88\u606f\u7d22\u5f15\u5b58\u50a8\u8def\u5f84\nstorePathIndex=/rocketmq/store/index\n#checkpoint \u6587\u4ef6\u5b58\u50a8\u8def\u5f84\nstoreCheckpoint=/rocketmq/store/checkpoint\n#abort \u6587\u4ef6\u5b58\u50a8\u8def\u5f84\nabortFile=/rocketmq/store/abort\n#\u9650\u5236\u7684\u6d88\u606f\u5927\u5c0f\nmaxMessageSize=65536\n#flushCommitLogLeastPages=4\n#flushConsumeQueueLeastPages=2\n#flushCommitLogThoroughInterval=10000\n#flushConsumeQueueThoroughInterval=60000\n#Broker \u7684\u89d2\u8272\n#- ASYNC_MASTER \u5f02\u6b65\u590d\u5236Master\n#- SYNC_MASTER \u540c\u6b65\u53cc\u5199Master\n#- SLAVE\nbrokerRole=SYNC_MASTER\n#\u5237\u76d8\u65b9\u5f0f\n#- ASYNC_FLUSH \u5f02\u6b65\u5237\u76d8\n#- SYNC_FLUSH \u540c\u6b65\u5237\u76d8\nflushDiskType=SYNC_FLUSH\n#checkTransactionMessageEnable=false\n#\u53d1\u6d88\u606f\u7ebf\u7a0b\u6c60\u6570\u91cf\n#sendMessageThreadPoolNums=128\n#\u62c9\u6d88\u606f\u7ebf\u7a0b\u6c60\u6570\u91cf\n#pullMessageThreadPoolNums=128\n```\n\n\n\n```text\nvim broker-a-s.properties\n```\n\n\n\n```properties\n#\u6240\u5c5e\u96c6\u7fa4\u540d\u5b57\nbrokerClusterName=rocketmq-cluster\n#broker\u540d\u5b57\uff0c\u6ce8\u610f\u6b64\u5904\u4e0d\u540c\u7684\u914d\u7f6e\u6587\u4ef6\u586b\u5199\u7684\u4e0d\u4e00\u6837\nbrokerName=broker-a\n#0 \u8868\u793a Master\uff0c>0 \u8868\u793a Slave\nbrokerId=1\n#nameServer\u5730\u5740\uff0c\u5206\u53f7\u5206\u5272\nnamesrvAddr=rocketmq-nameserver1:9876;rocketmq-nameserver2:9876\n#\u5728\u53d1\u9001\u6d88\u606f\u65f6\uff0c\u81ea\u52a8\u521b\u5efa\u670d\u52a1\u5668\u4e0d\u5b58\u5728\u7684topic\uff0c\u9ed8\u8ba4\u521b\u5efa\u7684\u961f\u5217\u6570\ndefaultTopicQueueNums=4\n#\u662f\u5426\u5141\u8bb8 Broker \u81ea\u52a8\u521b\u5efaTopic\uff0c\u5efa\u8bae\u7ebf\u4e0b\u5f00\u542f\uff0c\u7ebf\u4e0a\u5173\u95ed\nautoCreateTopicEnable=true\n#\u662f\u5426\u5141\u8bb8 Broker \u81ea\u52a8\u521b\u5efa\u8ba2\u9605\u7ec4\uff0c\u5efa\u8bae\u7ebf\u4e0b\u5f00\u542f\uff0c\u7ebf\u4e0a\u5173\u95ed\nautoCreateSubscriptionGroup=true\n#Broker \u5bf9\u5916\u670d\u52a1\u7684\u76d1\u542c\u7aef\u53e3\nlistenPort=11011\n#\u5220\u9664\u6587\u4ef6\u65f6\u95f4\u70b9\uff0c\u9ed8\u8ba4\u51cc\u6668 4\u70b9\ndeleteWhen=04\n#\u6587\u4ef6\u4fdd\u7559\u65f6\u95f4\uff0c\u9ed8\u8ba4 48 \u5c0f\u65f6\nfileReservedTime=120\n#commitLog\u6bcf\u4e2a\u6587\u4ef6\u7684\u5927\u5c0f\u9ed8\u8ba41G\nmapedFileSizeCommitLog=1073741824\n#ConsumeQueue\u6bcf\u4e2a\u6587\u4ef6\u9ed8\u8ba4\u5b5830W\u6761\uff0c\u6839\u636e\u4e1a\u52a1\u60c5\u51b5\u8c03\u6574\nmapedFileSizeConsumeQueue=300000\n#destroyMapedFileIntervalForcibly=120000\n#redeleteHangedFileInterval=120000\n#\u68c0\u6d4b\u7269\u7406\u6587\u4ef6\u78c1\u76d8\u7a7a\u95f4\ndiskMaxUsedSpaceRatio=88\n#\u5b58\u50a8\u8def\u5f84\nstorePathRootDir=/rocketmq/store-slave\n#commitLog \u5b58\u50a8\u8def\u5f84\nstorePathCommitLog=/rocketmq/store-slave/commitlog\n#\u6d88\u8d39\u961f\u5217\u5b58\u50a8\u8def\u5f84\u5b58\u50a8\u8def\u5f84\nstorePathConsumeQueue=/rocketmq/store-slave/consumequeue\n#\u6d88\u606f\u7d22\u5f15\u5b58\u50a8\u8def\u5f84\nstorePathIndex=/rocketmq/store-slave/index\n#checkpoint \u6587\u4ef6\u5b58\u50a8\u8def\u5f84\nstoreCheckpoint=/rocketmq/store-slave/checkpoint\n#abort \u6587\u4ef6\u5b58\u50a8\u8def\u5f84\nabortFile=/rocketmq/store-slave/abort\n#\u9650\u5236\u7684\u6d88\u606f\u5927\u5c0f\nmaxMessageSize=65536\n#flushCommitLogLeastPages=4\n#flushConsumeQueueLeastPages=2\n#flushCommitLogThoroughInterval=10000\n#flushConsumeQueueThoroughInterval=60000\n#Broker \u7684\u89d2\u8272\n#- ASYNC_MASTER \u5f02\u6b65\u590d\u5236Master\n#- SYNC_MASTER \u540c\u6b65\u53cc\u5199Master\n#- SLAVE\nbrokerRole=SLAVE\n#\u5237\u76d8\u65b9\u5f0f\n#- ASYNC_FLUSH \u5f02\u6b65\u5237\u76d8\n#- SYNC_FLUSH \u540c\u6b65\u5237\u76d8\nflushDiskType=ASYNC_FLUSH\n#checkTransactionMessageEnable=false\n#\u53d1\u6d88\u606f\u7ebf\u7a0b\u6c60\u6570\u91cf\n#sendMessageThreadPoolNums=128\n#\u62c9\u6d88\u606f\u7ebf\u7a0b\u6c60\u6570\u91cf\n#pullMessageThreadPoolNums=128\n```\n\n\n\n```text\nrm -rf broker-a.properties\nrm -rf broker-b-s.properties\n```\n")),(0,r.kt)("ol",{start:8},(0,r.kt)("li",{parentName:"ol"},"\u68c0\u67e5\u542f\u52a8\u5185\u5b58")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'```properties\nvim /rocketmq/bin/runbroker.sh\n```\n\n\n\n```properties\n# \u5f00\u53d1\u73af\u5883\u914d\u7f6e JVM Configuration\nJAVA_OPT="${JAVA_OPT} -server -Xms256m -Xmx256m -Xmn128m"\n```\n')),(0,r.kt)("ol",{start:9},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u542f\u52a8\u670d\u52a1\u5668\uff08\u5728bin\u76ee\u5f55\u4e0b\u4f9d\u6b21\u542f\u52a8\uff09"),(0,r.kt)("p",{parentName:"li"},"129\u4e0a"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"```properties\nnohup sh mqnamesrv &\n```\n\n\n\n```properties\nnohup sh mqbroker -c ../conf/2m-2s-sync/broker-a.properties &\n```\n\n\n\n```properties\nnohup sh mqbroker -c ../conf/2m-2s-sync/broker-b-s.properties &\n```\n")),(0,r.kt)("p",null," 130\u4e0a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-properties"},"nohup sh mqnamesrv &\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-properties"},"nohup sh mqbroker -c ../conf/2m-2s-sync/broker-a-s.properties &\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-properties"},"nohup sh mqbroker -c ../conf/2m-2s-sync/broker-b.properties & \n")),(0,r.kt)("h4",{id:"43-rocketmq-console\u96c6\u7fa4\u76d1\u63a7\u5e73\u53f0\u642d\u5efa"},"4.3 rocketmq-console\u96c6\u7fa4\u76d1\u63a7\u5e73\u53f0\u642d\u5efa"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"incubator-rocketmq-externals\u662f\u4e00\u4e2a\u57fa\u4e8erocketmq\u7684\u57fa\u7840\u4e4b\u4e0a\u6269\u5c55\u5f00\u53d1\u7684\u5f00\u6e90\u9879\u76ee"),(0,r.kt)("li",{parentName:"ol"},"\u83b7\u53d6\u5730\u5740\uff1a",(0,r.kt)("a",{parentName:"li",href:"https://github.com/apache/rocketmq-externals"},"https://github.com/apache/rocketmq-externalsopen in new window")),(0,r.kt)("li",{parentName:"ol"},"rocketmq-console\u662f\u4e00\u6b3e\u57fa\u4e8ejava\u73af\u5883\u5f00\u53d1\u7684\uff08springboot\uff09\u7684\u7ba1\u7406\u63a7\u5236\u53f0\u5de5\u5177")),(0,r.kt)("h3",{id:"3-\u9ad8\u7ea7\u7279\u6027\u91cd\u70b9"},"3. \u9ad8\u7ea7\u7279\u6027\uff08\u91cd\u70b9\uff09"),(0,r.kt)("h4",{id:"31-\u6d88\u606f\u7684\u5b58\u50a8"},"3.1 \u6d88\u606f\u7684\u5b58\u50a8"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u6d88\u606f\u751f\u6210\u8005\u53d1\u9001\u6d88\u606f\u5230MQ"),(0,r.kt)("li",{parentName:"ol"},"MQ\u8fd4\u56deACK\u7ed9\u751f\u4ea7\u8005"),(0,r.kt)("li",{parentName:"ol"},"MQ push \u6d88\u606f\u7ed9\u5bf9\u5e94\u7684\u6d88\u8d39\u8005"),(0,r.kt)("li",{parentName:"ol"},"\u6d88\u606f\u6d88\u8d39\u8005\u8fd4\u56deACK\u7ed9MQ")),(0,r.kt)("p",null,"\u8bf4\u660e\uff1aACK\uff08Acknowledge character\uff09"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211162105593-47dc1127.png",alt:"image-20201211162105593"}),"image-20201211162105593"),(0,r.kt)("h4",{id:"32-\u6d88\u606f\u7684\u5b58\u50a8"},"3.2 \u6d88\u606f\u7684\u5b58\u50a8"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u6d88\u606f\u751f\u6210\u8005\u53d1\u9001\u6d88\u606f\u5230MQ"),(0,r.kt)("li",{parentName:"ol"},"MQ\u6536\u5230\u6d88\u606f\uff0c\u5c06\u6d88\u606f\u8fdb\u884c\u6301\u4e45\u5316\uff0c\u5b58\u50a8\u8be5\u6d88\u606f"),(0,r.kt)("li",{parentName:"ol"},"MQ\u8fd4\u56deACK\u7ed9\u751f\u4ea7\u8005"),(0,r.kt)("li",{parentName:"ol"},"MQ push \u6d88\u606f\u7ed9\u5bf9\u5e94\u7684\u6d88\u8d39\u8005"),(0,r.kt)("li",{parentName:"ol"},"\u6d88\u606f\u6d88\u8d39\u8005\u8fd4\u56deACK\u7ed9MQ"),(0,r.kt)("li",{parentName:"ol"},"MQ\u5220\u9664\u6d88\u606f")),(0,r.kt)("p",null,"\u6ce8\u610f\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u7b2c\u2464\u6b65MQ\u5728\u6307\u5b9a\u65f6\u95f4\u5185\u63a5\u5230\u6d88\u606f\u6d88\u8d39\u8005\u8fd4\u56deACK\uff0cMQ\u8ba4\u5b9a\u6d88\u606f\u6d88\u8d39\u6210\u529f\uff0c\u6267\u884c\u2465"),(0,r.kt)("li",{parentName:"ol"},"\u7b2c\u2464\u6b65MQ\u5728\u6307\u5b9a\u65f6\u95f4\u5185\u672a\u63a5\u5230\u6d88\u606f\u6d88\u8d39\u8005\u8fd4\u56deACK\uff0cMQ\u8ba4\u5b9a\u6d88\u606f\u6d88\u8d39\u5931\u8d25\uff0c\u91cd\u65b0\u6267\u884c\u2463\u2464\u2465")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211162231313-d2dec248.png",alt:"image-20201211162231313"}),"image-20201211162231313"),(0,r.kt)("h4",{id:"33-\u6d88\u606f\u7684\u5b58\u50a8\u4ecb\u8d28"},"3.3 \u6d88\u606f\u7684\u5b58\u50a8\u4ecb\u8d28"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u6570\u636e\u5e93",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"ActiveMQ"),(0,r.kt)("li",{parentName:"ol"},"\u7f3a\u70b9\uff1a\u6570\u636e\u5e93\u74f6\u9888\u5c06\u6210\u4e3aMQ\u74f6\u9888"))),(0,r.kt)("li",{parentName:"ol"},"\u6587\u4ef6\u7cfb\u7edf",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"RocketMQ/Kafka/RabbitMQ"),(0,r.kt)("li",{parentName:"ol"},"\u89e3\u51b3\u65b9\u6848\uff1a\u91c7\u7528\u6d88\u606f\u5237\u76d8\u673a\u5236\u8fdb\u884c\u6570\u636e\u5b58\u50a8"),(0,r.kt)("li",{parentName:"ol"},"\u7f3a\u70b9\uff1a\u786c\u76d8\u635f\u574f\u7684\u95ee\u9898\u65e0\u6cd5\u907f\u514d")))),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211162334322-30ef7369.png",alt:"image-20201211162334322"}),"image-20201211162334322"),(0,r.kt)("h4",{id:"34-\u9ad8\u6548\u7684\u6d88\u606f\u5b58\u50a8\u4e0e\u8bfb\u5199\u65b9\u5f0f"},"3.4 \u9ad8\u6548\u7684\u6d88\u606f\u5b58\u50a8\u4e0e\u8bfb\u5199\u65b9\u5f0f"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"SSD\uff08Solid State Disk\uff09"),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211162416020-0e607d83.png",alt:"image-20201211162416020"}),"image-20201211162416020"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u968f\u673a\u5199\uff08100KB/s\uff09"),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211162448564-e58b15a2.png",alt:"image-20201211162448564"}),"image-20201211162448564")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u987a\u5e8f\u5199 \uff08600MB/s\uff091\u79d21\u90e8\u7535\u5f71"))))),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211162416020-0e607d83.png",alt:"image-20201211162541076"}),"image-20201211162541076"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211162638525-bef2c64f.png",alt:"image-20201211162638525"}),"image-20201211162638525"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Linux\u7cfb\u7edf\u53d1\u9001\u6570\u636e\u7684\u65b9\u5f0f")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u201c\u96f6\u62f7\u8d1d\u201d\u6280\u672f"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u6570\u636e\u4f20\u8f93\u7531\u4f20\u7edf\u76844\u6b21\u590d\u5236\u7b80\u5316\u62103\u6b21\u590d\u5236\uff0c\u51cf\u5c111\u6b21\u590d\u5236\u8fc7\u7a0b"),(0,r.kt)("li",{parentName:"ol"},"Java\u8bed\u8a00\u4e2d\u4f7f\u7528MappedByteBuffer\u7c7b\u5b9e\u73b0\u4e86\u8be5\u6280\u672f"),(0,r.kt)("li",{parentName:"ol"},"\u8981\u6c42\uff1a\u9884\u7559\u5b58\u50a8\u7a7a\u95f4\uff0c\u7528\u4e8e\u4fdd\u5b58\u6570\u636e\uff081G\u5b58\u50a8\u7a7a\u95f4\u8d77\u6b65\uff09")),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211162729614-72542049.png",alt:"image-20201211162729614"}),"image-20201211162729614"))),(0,r.kt)("h4",{id:"35-\u6d88\u606f\u5b58\u50a8\u7ed3\u6784"},"3.5 \u6d88\u606f\u5b58\u50a8\u7ed3\u6784"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"MQ\u6570\u636e\u5b58\u50a8\u533a\u57df\u5305\u542b\u5982\u4e0b\u5185\u5bb9",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u6d88\u606f\u6570\u636e\u5b58\u50a8\u533a\u57df",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"topic"),(0,r.kt)("li",{parentName:"ol"},"queueId"),(0,r.kt)("li",{parentName:"ol"},"message"))),(0,r.kt)("li",{parentName:"ol"},"\u6d88\u8d39\u903b\u8f91\u961f\u5217",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"minOffset"),(0,r.kt)("li",{parentName:"ol"},"maxOffset"),(0,r.kt)("li",{parentName:"ol"},"consumerOffset"))),(0,r.kt)("li",{parentName:"ol"},"\u7d22\u5f15",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"key\u7d22\u5f15"),(0,r.kt)("li",{parentName:"ol"},"\u521b\u5efa\u65f6\u95f4\u7d22\u5f15")))))),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211162857722-1d645c31.png",alt:"image-20201211162857722"}),"image-20201211162857722"),(0,r.kt)("h4",{id:"36-\u5237\u76d8\u673a\u5236"},"3.6 \u5237\u76d8\u673a\u5236"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u540c\u6b65\u5237\u76d8"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u751f\u4ea7\u8005\u53d1\u9001\u6d88\u606f\u5230MQ\uff0cMQ\u63a5\u5230\u6d88\u606f\u6570\u636e")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"MQ\u6302\u8d77\u751f\u4ea7\u8005\u53d1\u9001\u6d88\u606f\u7684\u7ebf\u7a0b")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"MQ\u5c06\u6d88\u606f\u6570\u636e\u5199\u5165\u5185\u5b58")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5185\u5b58\u6570\u636e\u5199\u5165\u786c\u76d8")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u78c1\u76d8\u5b58\u50a8\u540e\u8fd4\u56deSUCCESS")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"MQ\u6062\u590d\u6302\u8d77\u7684\u751f\u4ea7\u8005\u7ebf\u7a0b")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u53d1\u9001ACK\u5230\u751f\u4ea7\u8005"),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211163159680-30a37563.png",alt:"image-20201211163159680"}),"image-20201211163159680")))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5f02\u6b65\u5237\u76d8"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u751f\u4ea7\u8005\u53d1\u9001\u6d88\u606f\u5230MQ\uff0cMQ\u63a5\u5230\u6d88\u606f\u6570\u636e"),(0,r.kt)("li",{parentName:"ol"}),(0,r.kt)("li",{parentName:"ol"},"MQ\u5c06\u6d88\u606f\u6570\u636e\u5199\u5165\u5185\u5b58"),(0,r.kt)("li",{parentName:"ol"}),(0,r.kt)("li",{parentName:"ol"}),(0,r.kt)("li",{parentName:"ol"}),(0,r.kt)("li",{parentName:"ol"},"\u53d1\u9001ACK\u5230\u751f\u4ea7\u8005")))),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211163159680-30a37563.png",alt:"image-20201211163238738"}),"image-20201211163238738"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u540c\u6b65\u5237\u76d8\uff1a\u5b89\u5168\u6027\u9ad8\uff0c\u6548\u7387\u4f4e\uff0c\u901f\u5ea6\u6162\uff08\u9002\u7528\u4e8e\u5bf9\u6570\u636e\u5b89\u5168\u8981\u6c42\u8f83\u9ad8\u7684\u4e1a\u52a1\uff09"),(0,r.kt)("li",{parentName:"ol"},"\u5f02\u6b65\u5237\u76d8\uff1a\u5b89\u5168\u6027\u4f4e\uff0c\u6548\u7387\u9ad8\uff0c\u901f\u5ea6\u5feb\uff08\u9002\u7528\u4e8e\u5bf9\u6570\u636e\u5904\u7406\u901f\u5ea6\u8981\u6c42\u8f83\u9ad8\u7684\u4e1a\u52a1\uff09")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u914d\u7f6e\u65b9\u5f0f")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-properties"},"#\u5237\u76d8\u65b9\u5f0f\n#- ASYNC_FLUSH \u5f02\u6b65\u5237\u76d8\n#- SYNC_FLUSH \u540c\u6b65\u5237\u76d8\nflushDiskType=SYNC_FLUSH\n")),(0,r.kt)("h4",{id:"57-\u9ad8\u53ef\u7528\u6027"},"5.7 \u9ad8\u53ef\u7528\u6027"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"nameserver",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u65e0\u72b6\u6001+\u5168\u670d\u52a1\u5668\u6ce8\u518c"))),(0,r.kt)("li",{parentName:"ol"},"\u6d88\u606f\u670d\u52a1\u5668",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u4e3b\u4ece\u67b6\u6784\uff082M-2S\uff09"))),(0,r.kt)("li",{parentName:"ol"},"\u6d88\u606f\u751f\u4ea7",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u751f\u4ea7\u8005\u5c06\u76f8\u540c\u7684topic\u7ed1\u5b9a\u5230\u591a\u4e2agroup\u7ec4\uff0c\u4fdd\u969cmaster\u6302\u6389\u540e\uff0c\u5176\u4ed6master\u4ecd\u53ef\u6b63\u5e38\u8fdb\u884c\u6d88 \u606f\u63a5\u6536"))),(0,r.kt)("li",{parentName:"ol"},"\u6d88\u606f\u6d88\u8d39",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"RocketMQ\u81ea\u8eab\u4f1a\u6839\u636emaster\u7684\u538b\u529b\u786e\u8ba4\u662f\u5426\u7531master\u627f\u62c5\u6d88\u606f\u8bfb\u53d6\u7684\u529f\u80fd\uff0c\u5f53master\u7e41\u5fd9 \u65f6\u5019\uff0c\u81ea\u52a8\u5207\u6362\u7531slave\u627f\u62c5\u6570\u636e\u8bfb\u53d6\u7684\u5de5\u4f5c")))),(0,r.kt)("h4",{id:"58-\u4e3b\u4ece\u6570\u636e\u590d\u5236"},"5.8 \u4e3b\u4ece\u6570\u636e\u590d\u5236"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u540c\u6b65\u590d\u5236"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"master\u63a5\u5230\u6d88\u606f\u540e\uff0c\u5148\u590d\u5236\u5230slave\uff0c\u7136\u540e\u53cd\u9988\u7ed9\u751f\u4ea7\u8005\u5199\u64cd\u4f5c\u6210\u529f"),(0,r.kt)("li",{parentName:"ol"},"\u4f18\u70b9\uff1a\u6570\u636e\u5b89\u5168\uff0c\u4e0d\u4e22\u6570\u636e\uff0c\u51fa\u73b0\u6545\u969c\u5bb9\u6613\u6062\u590d"),(0,r.kt)("li",{parentName:"ol"},"\u7f3a\u70b9\uff1a\u5f71\u54cd\u6570\u636e\u541e\u5410\u91cf\uff0c\u6574\u4f53\u6027\u80fd\u4f4e"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5f02\u6b65\u590d\u5236"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"master\u63a5\u5230\u6d88\u606f\u540e\uff0c\u7acb\u5373\u8fd4\u56de\u7ed9\u751f\u4ea7\u8005\u5199\u64cd\u4f5c\u6210\u529f\uff0c\u5f53\u6d88\u606f\u8fbe\u5230\u4e00\u5b9a\u91cf\u540e\u518d\u5f02\u6b65\u590d\u5236\u5230slave"),(0,r.kt)("li",{parentName:"ol"},"\u4f18\u70b9\uff1a\u6570\u636e\u541e\u5410\u91cf\u5927\uff0c\u64cd\u4f5c\u5ef6\u8fdf\u4f4e\uff0c\u6027\u80fd\u9ad8"),(0,r.kt)("li",{parentName:"ol"},"\u7f3a\u70b9\uff1a\u6570\u636e\u4e0d\u5b89\u5168\uff0c\u4f1a\u51fa\u73b0\u6570\u636e\u4e22\u5931\u7684\u73b0\u8c61\uff0c\u4e00\u65e6master\u51fa\u73b0\u6545\u969c\uff0c\u4ece\u4e0a\u6b21\u6570\u636e\u540c\u6b65\u5230\u6545\u969c\u65f6\u95f4\u7684\u6570\u636e\u5c06\u4e22\u5931"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u914d\u7f6e\u65b9\u5f0f"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"```properties\n#Broker \u7684\u89d2\u8272\n#- ASYNC_MASTER \u5f02\u6b65\u590d\u5236Master\n#- SYNC_MASTER \u540c\u6b65\u53cc\u5199Master\n#- SLAVE\nbrokerRole=SYNC_MASTER\n```\n")),(0,r.kt)("h4",{id:"59-\u8d1f\u8f7d\u5747\u8861"},"5.9 \u8d1f\u8f7d\u5747\u8861"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Producer\u8d1f\u8f7d\u5747\u8861",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u5185\u90e8\u5b9e\u73b0\u4e86\u4e0d\u540cbroker\u96c6\u7fa4\u4e2d\u5bf9\u540c\u4e00topic\u5bf9\u5e94\u6d88\u606f\u961f\u5217\u7684\u8d1f\u8f7d\u5747\u8861"))),(0,r.kt)("li",{parentName:"ol"},"Consumer\u8d1f\u8f7d\u5747\u8861",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u5e73\u5747\u5206\u914d"),(0,r.kt)("li",{parentName:"ol"},"\u5faa\u73af\u5e73\u5747\u5206\u914d"))),(0,r.kt)("li",{parentName:"ol"},"\u5e7f\u64ad\u6a21\u5f0f\uff08\u4e0d\u53c2\u4e0e\u8d1f\u8f7d\u5747\u8861\uff09")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211163654002-d42b1829.png",alt:"image-20201211163654002"}),"image-20201211163654002"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211163706995-42b02b7f.png",alt:"image-20201211163706995"}),"image-20201211163706995"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211163736770-8348a89f.png",alt:"image-20201211163736770"}),"image-20201211163736770"),(0,r.kt)("h4",{id:"510-\u6d88\u606f\u91cd\u8bd5"},"5.10 \u6d88\u606f\u91cd\u8bd5"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u5f53\u6d88\u606f\u6d88\u8d39\u540e\u672a\u6b63\u5e38\u8fd4\u56de\u6d88\u8d39\u6210\u529f\u7684\u4fe1\u606f\u5c06\u542f\u52a8\u6d88\u606f\u91cd\u8bd5\u673a\u5236"),(0,r.kt)("li",{parentName:"ol"},"\u6d88\u606f\u91cd\u8bd5\u673a\u5236",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u987a\u5e8f\u6d88\u606f"),(0,r.kt)("li",{parentName:"ol"},"\u65e0\u5e8f\u6d88\u606f")))),(0,r.kt)("h5",{id:"5101-\u987a\u5e8f\u6d88\u606f\u91cd\u8bd5"},"5.10.1 \u987a\u5e8f\u6d88\u606f\u91cd\u8bd5"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211163848104-a50d627c.png",alt:"image-20201211163848104"}),"image-20201211163848104"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211163854405-594d433e.png",alt:"image-20201211163854405"}),"image-20201211163854405"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u5f53\u6d88\u8d39\u8005\u6d88\u8d39\u6d88\u606f\u5931\u8d25\u540e\uff0cRocketMQ\u4f1a\u81ea\u52a8\u8fdb\u884c\u6d88\u606f\u91cd\u8bd5\uff08\u6bcf\u6b21\u95f4\u9694\u65f6\u95f4\u4e3a 1 \u79d2\uff09"),(0,r.kt)("li",{parentName:"ol"},"\u6ce8\u610f\uff1a\u5e94\u7528\u4f1a\u51fa\u73b0\u6d88\u606f\u6d88\u8d39\u88ab\u963b\u585e\u7684\u60c5\u51b5\uff0c\u56e0\u6b64\uff0c\u8981\u5bf9\u987a\u5e8f\u6d88\u606f\u7684\u6d88\u8d39\u60c5\u51b5\u8fdb\u884c\u76d1\u63a7\uff0c\u907f\u514d\u963b\u585e\u73b0\u8c61\u7684\u53d1\u751f")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211163854405-594d433e.png",alt:"image-20201211163910587"}),"image-20201211163910587"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211163928369-d2c9c057.png",alt:"image-20201211163928369"}),"image-20201211163928369"),(0,r.kt)("h5",{id:"5102-\u65e0\u5e8f\u6d88\u606f\u91cd\u8bd5"},"5.10.2 \u65e0\u5e8f\u6d88\u606f\u91cd\u8bd5"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u65e0\u5e8f\u6d88\u606f\u5305\u62ec\u666e\u901a\u6d88\u606f\u3001\u5b9a\u65f6\u6d88\u606f\u3001\u5ef6\u65f6\u6d88\u606f\u3001\u4e8b\u52a1\u6d88\u606f"),(0,r.kt)("li",{parentName:"ol"},"\u65e0\u5e8f\u6d88\u606f\u91cd\u8bd5\u4ec5\u9002\u7528\u4e8e\u8d1f\u8f7d\u5747\u8861\uff08\u96c6\u7fa4\uff09\u6a21\u578b\u4e0b\u7684\u6d88\u606f\u6d88\u8d39\uff0c\u4e0d\u9002\u7528\u4e8e\u5e7f\u64ad\u6a21\u5f0f\u4e0b\u7684\u6d88\u606f\u6d88\u8d39"),(0,r.kt)("li",{parentName:"ol"},"\u4e3a\u4fdd\u969c\u65e0\u5e8f\u6d88\u606f\u7684\u6d88\u8d39\uff0cMQ\u8bbe\u5b9a\u4e86\u5408\u7406\u7684\u6d88\u606f\u91cd\u8bd5\u95f4\u9694\u65f6\u957f")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211164005887-e0aa65db.png",alt:"image-20201211164005887"}),"image-20201211164005887"),(0,r.kt)("h4",{id:"511-\u6b7b\u4fe1\u961f\u5217"},"5.11 \u6b7b\u4fe1\u961f\u5217"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u5f53\u6d88\u606f\u6d88\u8d39\u91cd\u8bd5\u5230\u8fbe\u4e86\u6307\u5b9a\u6b21\u6570\uff08\u9ed8\u8ba416\u6b21\uff09\u540e\uff0cMQ\u5c06\u65e0\u6cd5\u88ab\u6b63\u5e38\u6d88\u8d39\u7684\u6d88\u606f\u79f0\u4e3a\u6b7b\u4fe1\u6d88\u606f\uff08Dead-Letter Message\uff09"),(0,r.kt)("li",{parentName:"ol"},"\u6b7b\u4fe1\u6d88\u606f\u4e0d\u4f1a\u88ab\u76f4\u63a5\u629b\u5f03\uff0c\u800c\u662f\u4fdd\u5b58\u5230\u4e86\u4e00\u4e2a\u5168\u65b0\u7684\u961f\u5217\u4e2d\uff0c\u8be5\u961f\u5217\u79f0\u4e3a\u6b7b\u4fe1\u961f\u5217\uff08Dead-Letter Queue\uff09\\"),(0,r.kt)("li",{parentName:"ol"},"\u6b7b\u4fe1\u961f\u5217\u7279\u5f81",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u5f52\u5c5e\u67d0\u4e00\u4e2a\u7ec4\uff08Gourp Id\uff09\uff0c\u800c\u4e0d\u5f52\u5c5eTopic\uff0c\u4e5f\u4e0d\u5f52\u5c5e\u6d88\u8d39\u8005"),(0,r.kt)("li",{parentName:"ol"},"\u4e00\u4e2a\u6b7b\u4fe1\u961f\u5217\u4e2d\u53ef\u4ee5\u5305\u542b\u540c\u4e00\u4e2a\u7ec4\u4e0b\u7684\u591a\u4e2aTopic\u4e2d\u7684\u6b7b\u4fe1\u6d88\u606f"),(0,r.kt)("li",{parentName:"ol"},"\u6b7b\u4fe1\u961f\u5217\u4e0d\u4f1a\u8fdb\u884c\u9ed8\u8ba4\u521d\u59cb\u5316\uff0c\u5f53\u7b2c\u4e00\u4e2a\u6b7b\u4fe1\u51fa\u73b0\u540e\uff0c\u6b64\u961f\u5217\u9996\u6b21\u521d\u59cb\u5316"))),(0,r.kt)("li",{parentName:"ol"},"\u6b7b\u4fe1\u961f\u5217\u4e2d\u6d88\u606f\u7279\u5f81",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u4e0d\u4f1a\u88ab\u518d\u6b21\u91cd\u590d\u6d88\u8d39"),(0,r.kt)("li",{parentName:"ol"},"\u6b7b\u4fe1\u961f\u5217\u4e2d\u7684\u6d88\u606f\u6709\u6548\u671f\u4e3a3\u5929\uff0c\u8fbe\u5230\u65f6\u9650\u540e\u5c06\u88ab\u6e05\u9664")))),(0,r.kt)("h4",{id:"512-\u6b7b\u4fe1\u5904\u7406"},"5.12 \u6b7b\u4fe1\u5904\u7406"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u5728\u76d1\u63a7\u5e73\u53f0\u4e2d\uff0c\u901a\u8fc7\u67e5\u627e\u6b7b\u4fe1\uff0c\u83b7\u53d6\u6b7b\u4fe1\u7684messageId\uff0c\u7136\u540e\u901a\u8fc7id\u5bf9\u6b7b\u4fe1\u8fdb\u884c\u7cbe\u51c6\u6d88\u8d39")),(0,r.kt)("h4",{id:"513-\u6d88\u606f\u91cd\u590d\u6d88\u8d39"},"5.13 \u6d88\u606f\u91cd\u590d\u6d88\u8d39"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u6d88\u606f\u91cd\u590d\u6d88\u8d39\u539f\u56e0",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u751f\u4ea7\u8005\u53d1\u9001\u4e86\u91cd\u590d\u7684\u6d88\u606f",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u7f51\u7edc\u95ea\u65ad"),(0,r.kt)("li",{parentName:"ol"},"\u751f\u4ea7\u8005\u5b95\u673a"))),(0,r.kt)("li",{parentName:"ol"},"\u6d88\u606f\u670d\u52a1\u5668\u6295\u9012\u4e86\u91cd\u590d\u7684\u6d88\u606f",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u7f51\u7edc\u95ea\u65ad"))),(0,r.kt)("li",{parentName:"ol"},"\u52a8\u6001\u7684\u8d1f\u8f7d\u5747\u8861\u8fc7\u7a0b",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u7f51\u7edc\u95ea\u65ad/\u6296\u52a8"),(0,r.kt)("li",{parentName:"ol"},"broker\u91cd\u542f"),(0,r.kt)("li",{parentName:"ol"},"\u8ba2\u9605\u65b9\u5e94\u7528\u91cd\u542f\uff08\u6d88\u8d39\u8005\uff09"),(0,r.kt)("li",{parentName:"ol"},"\u5ba2\u6237\u7aef\u6269\u5bb9"),(0,r.kt)("li",{parentName:"ol"},"\u5ba2\u6237\u7aef\u7f29\u5bb9")))))),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201211164244534-7df6eac5.png",alt:"image-20201211164244534"}),"image-20201211164244534"),(0,r.kt)("h4",{id:"514-\u6d88\u606f\u5e42\u7b49"},"5.14 \u6d88\u606f\u5e42\u7b49"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5bf9\u540c\u4e00\u6761\u6d88\u606f\uff0c\u65e0\u8bba\u6d88\u8d39\u591a\u5c11\u6b21\uff0c\u7ed3\u679c\u4fdd\u6301\u4e00\u81f4\uff0c\u79f0\u4e3a\u6d88\u606f\u5e42\u7b49\u6027")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u89e3\u51b3\u65b9\u6848"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u4f7f\u7528\u4e1a\u52a1id\u4f5c\u4e3a\u6d88\u606f\u7684key"),(0,r.kt)("li",{parentName:"ol"},"\u5728\u6d88\u8d39\u6d88\u606f\u65f6\uff0c\u5ba2\u6237\u7aef\u5bf9key\u505a\u5224\u5b9a\uff0c\u672a\u4f7f\u7528\u8fc7\u653e\u884c\uff0c\u4f7f\u7528\u8fc7\u629b\u5f03"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u6ce8\u610f\uff1amessageId\u7531RocketMQ\u4ea7\u751f\uff0cmessageId\u5e76\u4e0d\u5177\u6709\u552f\u4e00\u6027\uff0c\u4e0d\u80fd\u4f5c\u7528\u5e42\u7b49\u5224\u5b9a\u6761\u4ef6")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5e38\u89c1\u7684\u5e42\u7b49\u65b9\u6cd5\u793a\u4f8b"),(0,r.kt)("p",{parentName:"li"},"\u2022\u65b0\u589e:\u4e0d\u5e42\u7b49 insert into order values (\u2026\u2026)"),(0,r.kt)("p",{parentName:"li"},"\u2022\u67e5\u8be2:\u5e42\u7b49"),(0,r.kt)("p",{parentName:"li"},"\u2022\u5220\u9664:\u5e42\u7b49 delete from \u8868 where id =1"),(0,r.kt)("p",{parentName:"li"},"\u2022\u4fee\u6539:\u4e0d\u5e42\u7b49 update account set balance = balance+100 where no=1"),(0,r.kt)("p",{parentName:"li"},"\u2022\u4fee\u6539:\u5e42\u7b49 update account set balance =100 where no=1"))),(0,r.kt)("p",null,"\u8ba1\u7b97\u673a\u8003\u7814\uff1a"),(0,r.kt)("p",null,"1\u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406 \uff1a"),(0,r.kt)("p",null,"2\u7f51\u7edc\uff1a3\u6b21\u63e1\u624b 4\u6b21\u6325\u624b"),(0,r.kt)("p",null,"3\u64cd\u4f5c\u7cfb\u7edf\uff1alinux"),(0,r.kt)("p",null,"4\u6570\u636e\u7ed3\u6784-\u7b97\u6cd5\uff1atree b+ \u94fe\u8868"),(0,r.kt)("p",null,"\u6267\u884c\u529b"))}c.isMDXComponent=!0}}]);