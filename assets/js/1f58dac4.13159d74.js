"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1834],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>g});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},p=Object.keys(e);for(r=0;r<p.length;r++)t=p[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(r=0;r<p.length;r++)t=p[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=r.createContext({}),o=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},u=function(e){var n=o(e.components);return r.createElement(l.Provider,{value:n},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,p=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),c=o(t),d=a,g=c["".concat(l,".").concat(d)]||c[d]||m[d]||p;return t?r.createElement(g,s(s({ref:n},u),{},{components:t})):r.createElement(g,s({ref:n},u))}));function g(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var p=t.length,s=new Array(p);s[0]=d;var i={};for(var l in n)hasOwnProperty.call(n,l)&&(i[l]=n[l]);i.originalType=e,i[c]="string"==typeof e?e:a,s[1]=i;for(var o=2;o<p;o++)s[o]=t[o];return r.createElement.apply(null,s)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},2104:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>c,frontMatter:()=>p,metadata:()=>i,toc:()=>o});var r=t(7462),a=(t(7294),t(3905));const p={},s="7.MyBatisPlus",i={unversionedId:"Java/\u6846\u67b6/MyBatisPlus",id:"Java/\u6846\u67b6/MyBatisPlus",title:"7.MyBatisPlus",description:"\u524d\u7f6e\uff1assm springboot\u5b66\u5b8c\u3002 ORM",source:"@site/docs/Java/6.\u6846\u67b6/7.MyBatisPlus.md",sourceDirName:"Java/6.\u6846\u67b6",slug:"/Java/\u6846\u67b6/MyBatisPlus",permalink:"/docs/Java/\u6846\u67b6/MyBatisPlus",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Java/6.\u6846\u67b6/7.MyBatisPlus.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{},sidebar:"Java",previous:{title:"6.SpringBoot",permalink:"/docs/Java/\u6846\u67b6/SpringBoot"},next:{title:"8.SpringSecurity",permalink:"/docs/Java/\u6846\u67b6/SpringSecurity"}},l={},o=[{value:"1. \u6982\u8ff0",id:"1-\u6982\u8ff0",level:2},{value:"2. \u5feb\u901f\u5165\u95e8",id:"2-\u5feb\u901f\u5165\u95e8",level:2},{value:"2.1 \u6570\u636e\u5e93\u73af\u5883\u51c6\u5907",id:"21-\u6570\u636e\u5e93\u73af\u5883\u51c6\u5907",level:3},{value:"2.2 \u521b\u5efaSpringBoot\u5de5\u7a0b\uff0c\u5f15\u5165MyBatis-Plus\u8d77\u6b65\u4f9d\u8d56",id:"22-\u521b\u5efaspringboot\u5de5\u7a0b\u5f15\u5165mybatis-plus\u8d77\u6b65\u4f9d\u8d56",level:3},{value:"2.3 \u7f16\u5199DataSource\u76f8\u5173\u914d\u7f6e",id:"23-\u7f16\u5199datasource\u76f8\u5173\u914d\u7f6e",level:3},{value:"2.4 \u7f16\u7801",id:"24-\u7f16\u7801",level:3},{value:"2.5 \u6d4b\u8bd5",id:"25-\u6d4b\u8bd5",level:3},{value:"3. CRUD",id:"3-crud",level:2},{value:"3.1 \u6dfb\u52a0",id:"31-\u6dfb\u52a0",level:3},{value:"3.1.1 \u65b9\u6cd5\u89e3\u6790",id:"311-\u65b9\u6cd5\u89e3\u6790",level:4},{value:"3.1.2 \u6d4b\u8bd5",id:"312-\u6d4b\u8bd5",level:4},{value:"3.1.3 \u8bf4\u660e1, \u5b9e\u4f53\u7c7b\u4e0a\u7684\u6ce8\u89e3 @TableField",id:"313-\u8bf4\u660e1-\u5b9e\u4f53\u7c7b\u4e0a\u7684\u6ce8\u89e3-tablefield",level:4},{value:"3.1.4 \u8bf4\u660e2, \u914d\u7f6e",id:"314-\u8bf4\u660e2-\u914d\u7f6e",level:4},{value:"3.1.5 \u5177\u4f53\u4f7f\u7528\u5982\u4e0b",id:"315-\u5177\u4f53\u4f7f\u7528\u5982\u4e0b",level:4},{value:"3.2 \u5220\u9664",id:"32-\u5220\u9664",level:3},{value:"3.2.1 \u6839\u636eid\u5220\u9664",id:"321-\u6839\u636eid\u5220\u9664",level:4},{value:"3.2.1 \u6839\u636eid\u96c6\u5408\u6279\u91cf\u5220\u9664",id:"321-\u6839\u636eid\u96c6\u5408\u6279\u91cf\u5220\u9664",level:4},{value:"3.2.1 \u6839\u636emap\u6784\u9020\u6761\u4ef6\uff0c\u5220\u9664",id:"321-\u6839\u636emap\u6784\u9020\u6761\u4ef6\u5220\u9664",level:4},{value:"3.3 \u66f4\u65b0",id:"33-\u66f4\u65b0",level:3},{value:"4 \u67e5\u8be2",id:"4-\u67e5\u8be2",level:2},{value:"4.1 \u5206\u9875\u67e5\u8be2",id:"41-\u5206\u9875\u67e5\u8be2",level:3},{value:"4.2 \u6761\u4ef6\u6784\u9020\u5668\u67e5\u8be2",id:"42-\u6761\u4ef6\u6784\u9020\u5668\u67e5\u8be2",level:3},{value:"4.2.1 \u57fa\u7840\u67e5\u8be2",id:"421-\u57fa\u7840\u67e5\u8be2",level:4},{value:"4.2.2 \u903b\u8f91\u67e5\u8be2 or",id:"422-\u903b\u8f91\u67e5\u8be2-or",level:4},{value:"4.2.3 \u6a21\u7cca\u67e5\u8be2 like",id:"423-\u6a21\u7cca\u67e5\u8be2-like",level:4},{value:"4.2.4 \u6392\u5e8f\u67e5\u8be2",id:"424-\u6392\u5e8f\u67e5\u8be2",level:4},{value:"4.2.5 select\uff1a\u6307\u5b9a\u9700\u8981\u67e5\u8be2\u7684\u5b57\u6bb5",id:"425-select\u6307\u5b9a\u9700\u8981\u67e5\u8be2\u7684\u5b57\u6bb5",level:4},{value:"4.2.6 \u5206\u9875\u6761\u4ef6\u67e5\u8be2",id:"426-\u5206\u9875\u6761\u4ef6\u67e5\u8be2",level:4},{value:"4.2.7 LambdaQueryWrapper\uff1a\u6d88\u9664\u4ee3\u7801\u4e2d\u7684\u786c\u7f16\u7801",id:"427-lambdaquerywrapper\u6d88\u9664\u4ee3\u7801\u4e2d\u7684\u786c\u7f16\u7801",level:4},{value:"4.2.8 \u6761\u4ef6 \u5220\u9664",id:"428-\u6761\u4ef6-\u5220\u9664",level:4},{value:"4.2.9 \u6761\u4ef6 update",id:"429-\u6761\u4ef6-update",level:4},{value:"5 service \u5c01\u88c5",id:"5-service-\u5c01\u88c5",level:2},{value:"6. \u9006\u5411\u5de5\u7a0b-\u4ee3\u7801\u751f\u6210\u5668",id:"6-\u9006\u5411\u5de5\u7a0b-\u4ee3\u7801\u751f\u6210\u5668",level:2},{value:"6.2 \u6267\u884cmain \u65b9\u6cd5",id:"62-\u6267\u884cmain-\u65b9\u6cd5",level:4}],u={toc:o};function c(e){let{components:n,...t}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"7mybatisplus"},"7.MyBatisPlus"),(0,a.kt)("p",null,"\u524d\u7f6e\uff1assm springboot\u5b66\u5b8c\u3002 ORM"),(0,a.kt)("p",null,"\u76ee\u6807\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u4e86\u89e3mybatisplus\u7684\u7279\u70b9"),(0,a.kt)("li",{parentName:"ul"},"\u80fd\u591f\u638c\u63e1mybatisplus\u5feb\u901f\u5165\u95e8"),(0,a.kt)("li",{parentName:"ul"},"\u80fd\u591f\u638c\u63e1mybatisplus\u5e38\u7528\u6ce8\u89e3"),(0,a.kt)("li",{parentName:"ul"},"\u80fd\u591f\u638c\u63e1mybatisplus\u5e38\u7528\u7684\u589e\u5220\u6539\u67e5"),(0,a.kt)("li",{parentName:"ul"},"\u80fd\u591f\u638c\u63e1mybatisplus\u81ea\u52a8\u4ee3\u7801\u751f\u6210")),(0,a.kt)("h2",{id:"1-\u6982\u8ff0"},"1. \u6982\u8ff0"),(0,a.kt)("p",null,"\u4ee3\u7801\u56de\u987emybatis\u7528\u6cd5\u3002\u8d44\u6599-\u300b\u4ee3\u7801\u6587\u4ef6\u5939\u3002"),(0,a.kt)("p",null,"mybatis xml\u914d\u7f6e\u592a\u8fc7\u4e8e\u7e41\u7410 \u5199\u57fa\u672csql"),(0,a.kt)("p",null,"\u2022MyBatis-Plus\uff08\u7b80\u79f0 MP\uff09\u662f\u4e00\u4e2a MyBatis \u7684\u589e\u5f3a\u5de5\u5177\uff0c\u5728 MyBatis \u7684\u57fa\u7840\u4e0a\u53ea\u505a\u589e\u5f3a\u4e0d\u505a\u6539\u53d8\uff0c\u4e3a\u7b80\u5316\u5f00\u53d1\u3001\u63d0\u9ad8\u6548\u7387\u800c\u751f\u3002"),(0,a.kt)("p",null,"\u2022\u5b98\u7f51\uff1a ",(0,a.kt)("a",{parentName:"p",href:"https://mp.baomidou.com/"},"https://mp.baomidou.com/open in new window")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20211018190541640-4b394fe5.png",alt:"image-20211018190541640"}),"image-20211018190541640"),(0,a.kt)("p",null,"\u7248\u672c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},"<dependency>\n    <groupId>com.baomidou</groupId>\n    <artifactId>mybatis-plus</artifactId>\n    <version>3.4.0</version>\n</dependency>\n")),(0,a.kt)("h2",{id:"2-\u5feb\u901f\u5165\u95e8"},"2. \u5feb\u901f\u5165\u95e8"),(0,a.kt)("p",null,"\u9700\u6c42\uff1aSpringBoot \u6574\u5408 MyBatis-Plus\uff0c\u5e76\u5b9e\u73b0\u6839\u636eId\u67e5\u8be2\u529f\u80fd\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},"\u2460\u6570\u636e\u5e93\u73af\u5883\u51c6\u5907\n\u2461\u521b\u5efaSpringBoot\u5de5\u7a0b\uff0c\u5f15\u5165MyBatis-Plus\u8d77\u6b65\u4f9d\u8d56\n\u2462\u7f16\u5199DataSource\u76f8\u5173\u914d\u7f6e\n\u2463\u7f16\u5199mapper\n\u2464\u6d4b\u8bd5\n")),(0,a.kt)("h3",{id:"21-\u6570\u636e\u5e93\u73af\u5883\u51c6\u5907"},"2.1 \u6570\u636e\u5e93\u73af\u5883\u51c6\u5907"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},"\u8be6\u89c1\u9644\u4ef6\n")),(0,a.kt)("h3",{id:"22-\u521b\u5efaspringboot\u5de5\u7a0b\u5f15\u5165mybatis-plus\u8d77\u6b65\u4f9d\u8d56"},"2.2 \u521b\u5efaSpringBoot\u5de5\u7a0b\uff0c\u5f15\u5165MyBatis-Plus\u8d77\u6b65\u4f9d\u8d56"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n    <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-parent</artifactId>\n        <version>2.3.4.RELEASE</version>\n        <relativePath/> \x3c!-- lookup parent from repository --\x3e\n    </parent>\n    <groupId>com.example</groupId>\n    <artifactId>mybatis-plus-test</artifactId>\n    <version>0.0.1-SNAPSHOT</version>\n    <name>mybatis-plus-test</name>\n    <description>Demo project for Spring Boot</description>\n\n    <properties>\n        <java.version>1.8</java.version>\n    </properties>\n\n    <dependencies>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter</artifactId>\n        </dependency>\n\n        <dependency>\n            <groupId>org.projectlombok</groupId>\n            <artifactId>lombok</artifactId>\n            <optional>true</optional>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-test</artifactId>\n            <scope>test</scope>\n        </dependency>\n        \x3c!-- mysql  \u9a71\u52a8--\x3e\n        <dependency>\n            <groupId>mysql</groupId>\n            <artifactId>mysql-connector-java</artifactId>\n            <version>5.1.26</version>\n        </dependency>\n        \x3c!--mybatisplus\u8d77\u6b65\u4f9d\u8d56--\x3e\n        <dependency>\n            <groupId>com.baomidou</groupId>\n            <artifactId>mybatis-plus-boot-starter</artifactId>\n            <version>3.4.0</version>\n        </dependency>\n    </dependencies>\n\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-maven-plugin</artifactId>\n            </plugin>\n        </plugins>\n    </build>\n\n</project>\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u6ce8\u610f"),"\uff1amysql\u9a71\u52a8\u5305\u548c\u672c\u5730mysql\u7248\u672c\u5bf9\u5e94\u3002"),(0,a.kt)("h3",{id:"23-\u7f16\u5199datasource\u76f8\u5173\u914d\u7f6e"},"2.3 \u7f16\u5199DataSource\u76f8\u5173\u914d\u7f6e"),(0,a.kt)("p",null,"application.yml"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"# datasource\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/mp?characterEncoding=utf-8&serverTimezone=Asia/Shanghai\n    username: root\n    password: root\n    driver-class-name: com.mysql.jdbc.Driver\n")),(0,a.kt)("p",null,"\u6ce8\u610f\uff1a\u94fe\u63a5\u7684\u6570\u636e\u5e93\u662f8 \u65f6\u533a\u5fc5\u987b\u52a0\u4e0a\u3002\u9a71\u52a8com.mysql.cj.jdbc.Driver"),(0,a.kt)("h3",{id:"24-\u7f16\u7801"},"2.4 \u7f16\u7801"),(0,a.kt)("p",null,"\u5b9e\u4f53\u7c7b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'@TableName("tb_user") // \u6307\u5b9a\u8868\u540d\n@Data\npublic class User {\n    private Long id;\n    private String userName;\n    private String password;\n    private String name;\n    private Integer age;\n    private String email;\n}\n')),(0,a.kt)("p",null,"\u7f16\u5199mapper"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * \u4f7f\u7528mp\u5b9a\u4e49Mapper\uff0c\u9700\u8981\u8ba9Mapper\u63a5\u53e3\u7ee7\u627f BaseMapper\u63a5\u53e3\u3002\n */\n\npublic interface UserMapper extends BaseMapper<User> {\n}\n")),(0,a.kt)("p",null,"\u542f\u52a8\u7c7b\u589e\u52a0 @MapperScan \u6ce8\u89e3"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'package com.example.mybatisplustest;\n\nimport org.mybatis.spring.annotation.MapperScan;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@MapperScan("com.ydl.mp.mapper")\npublic class MybatisPlusTestApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MybatisPlusTestApplication.class, args);\n    }\n\n}\n')),(0,a.kt)("h3",{id:"25-\u6d4b\u8bd5"},"2.5 \u6d4b\u8bd5"),(0,a.kt)("p",null,"\u6d4b\u8bd5\u4ee3\u7801\u4e2d\u521b\u5efa\u6d4b\u8bd5\u7c7b com.ydl.mp.UserMapperTest"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"package com.example.mybatisplustest.mapper;\n\nimport com.example.mybatisplustest.MybatisPlusTestApplication;\nimport com.example.mybatisplustest.pojo.User;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.junit4.SpringRunner;\n\n@SpringBootTest(classes = MybatisPlusTestApplication.class)\n@RunWith(SpringRunner.class)\npublic class UserMapperTest {\n    @Autowired\n    private UserMapper userMapper;\n    /**\n     * \u6839\u636eid\u67e5\u8be2\n     */\n    @Test\n    public void testSelectById() {\n\n        User user = userMapper.selectById(1L);\n        System.out.println(user);\n\n    }\n}\n")),(0,a.kt)("h2",{id:"3-crud"},"3. CRUD"),(0,a.kt)("h3",{id:"31-\u6dfb\u52a0"},"3.1 \u6dfb\u52a0"),(0,a.kt)("h4",{id:"311-\u65b9\u6cd5\u89e3\u6790"},"3.1.1 \u65b9\u6cd5\u89e3\u6790"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"data:image/png;base64,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",alt:"image-20201008114929998"}),"image-20201008114929998"),(0,a.kt)("h4",{id:"312-\u6d4b\u8bd5"},"3.1.2 \u6d4b\u8bd5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'@Test\n    public void testInsert() {\n        User user = new User();\n        //user.setId(6L);\n        user.setUserName("itlils");\n        user.setPassword("ydl");\n        int count = userMapper.insert(user);\n        System.out.println(count);\n    }\n')),(0,a.kt)("h4",{id:"313-\u8bf4\u660e1-\u5b9e\u4f53\u7c7b\u4e0a\u7684\u6ce8\u89e3-tablefield"},"3.1.3 \u8bf4\u660e1, \u5b9e\u4f53\u7c7b\u4e0a\u7684\u6ce8\u89e3 @TableField"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-properties"},'1)  @TableField("user_name") \u6307\u5b9a\u6620\u5c04\u5173\u7cfb\n\u5b9e\u4f53\u7c7b\u7684\u5c5e\u6027\u540d\u548c\u6570\u636e\u5e93\u7684\u5b57\u6bb5\u540d\u81ea\u52a8\u6620\u5c04\uff1a\n     *  \u540d\u79f0\u4e00\u6837\n     *  \u6570\u636e\u5e93\u5b57\u6bb5\u4f7f\u7528_\u5206\u5272\uff0c\u5b9e\u4f53\u7c7b\u5c5e\u6027\u540d\u4f7f\u7528\u9a7c\u5cf0\u540d\u79f0\n   \u5426\u5219\u9700\u8981\u4f7f\u7528 @TableField("user_name") \u6307\u5b9a\u6620\u5c04\u5173\u7cfb\n2)  \u5ffd\u7565\u67d0\u4e2a\u5b57\u6bb5\u7684\u67e5\u8be2\u548c \u63d2\u5165\n      @TableField(exist = false) \n3)  \u8bbe\u7f6eid\u751f\u6210\u7b56\u7565:AUTO \u6570\u636e\u5e93\u81ea\u589e\n    @TableId(type = IdType.AUTO)\n')),(0,a.kt)("h4",{id:"314-\u8bf4\u660e2-\u914d\u7f6e"},"3.1.4 \u8bf4\u660e2, \u914d\u7f6e"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"mybatis-plus:\n  global-config:\n    db-config:\n      # \u8868\u540d\u524d\u7f00\n      table-prefix: tb_\n      # id\u751f\u6210\u7b56\u7565 \u6570\u636e\u5e93\u81ea\u589e\n      id-type: auto\n  configuration:\n    # \u65e5\u5fd7\n    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-properties"},"##mybatis-plus\nmybatis-plus.global-config.db-config.table-prefix=tb_\nmybatis-plus.global-config.db-config.id-type=auto\nmybatis-plus.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl\n")),(0,a.kt)("h4",{id:"315-\u5177\u4f53\u4f7f\u7528\u5982\u4e0b"},"3.1.5 \u5177\u4f53\u4f7f\u7528\u5982\u4e0b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u5b9e\u4f53\u7c7b\u7684\u5c5e\u6027\u540d\u548c\u6570\u636e\u5e93\u7684\u5b57\u6bb5\u540d\u81ea\u52a8\u6620\u5c04\uff1a\n *  1. \u540d\u79f0\u4e00\u6837\n *  2. \u6570\u636e\u5e93\u5b57\u6bb5\u4f7f\u7528_\u5206\u5272\uff0c\u5b9e\u4f53\u7c7b\u5c5e\u6027\u540d\u4f7f\u7528\u9a7c\u5cf0\u540d\u79f0\n */\n\n@TableName("tb_user")\n@Data\npublic class User {\n\n\n    //\u8bbe\u7f6eid\u751f\u6210\u7b56\u7565:AUTO \u6570\u636e\u5e93\u81ea\u589e\n    @TableId(type = IdType.AUTO)\n    private Long id;\n    //@TableField("user_name")\n    private String userName;\n\n    private String password;\n    private String name;\n    private Integer age;\n    private String email;\n\n    //\u4e0d\u5e0c\u671b\u8be5\u503c\u5b58\u5165\u6570\u636e\u5e93\n   // @TableField(exist = false)\n   // private String info;\n\n}\n')),(0,a.kt)("h3",{id:"32-\u5220\u9664"},"3.2 \u5220\u9664"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201008114022226-9df9b5ab.png",alt:"image-20201008114022226"}),"image-20201008114022226"),(0,a.kt)("h4",{id:"321-\u6839\u636eid\u5220\u9664"},"3.2.1 \u6839\u636eid\u5220\u9664"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"}," int count = userMapper.deleteById(8L);\n")),(0,a.kt)("h4",{id:"321-\u6839\u636eid\u96c6\u5408\u6279\u91cf\u5220\u9664"},"3.2.1 \u6839\u636eid\u96c6\u5408\u6279\u91cf\u5220\u9664"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"}," List ids = new ArrayList();\n        ids.add(6);\n        ids.add(7);\n\nuserMapper.deleteBatchIds(ids);\n")),(0,a.kt)("h4",{id:"321-\u6839\u636emap\u6784\u9020\u6761\u4ef6\u5220\u9664"},"3.2.1 \u6839\u636emap\u6784\u9020\u6761\u4ef6\uff0c\u5220\u9664"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},' Map<String, Object> map = new HashMap<>();\n\n        //delete from tb_user where user_name = ? and age = ?\n        map.put("user_name","itlils");\n        map.put("age","18");\n\nuserMapper.deleteByMap(map);\n')),(0,a.kt)("h3",{id:"33-\u66f4\u65b0"},"3.3 \u66f4\u65b0"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201008114912504-f2350f7c.png",alt:"image-20201008114912504"}),"image-20201008114912504"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'@Test\n    public void testUpdateById() {\n        User user = new User();\n        user.setId(2L);\n        user.setPassword("1111111");\n        int count = userMapper.updateById(user);\n    }\n')),(0,a.kt)("h2",{id:"4-\u67e5\u8be2"},"4 \u67e5\u8be2"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201008115031886-38b5a1a8.png",alt:"image-20201008115031886"}),"image-20201008115031886"),(0,a.kt)("h3",{id:"41-\u5206\u9875\u67e5\u8be2"},"4.1 \u5206\u9875\u67e5\u8be2"),(0,a.kt)("p",null,"\u914d\u7f6e \u62e6\u622a\u5668"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"@Configuration\npublic class PageConfig {\n\n    /**\n     * 3.4.0\u4e4b\u524d\u7684\u7248\u672c\u7528\u8fd9\u4e2a\n     * @return\n     */\n   /* @Bean\n    public PaginationInterceptor paginationInterceptor(){\n        return  new PaginationInterceptor();\n    }*/\n\n    /**\n     * 3.4.0\u4e4b\u540e\u63d0\u4f9b\u7684\u62e6\u622a\u5668\u7684\u914d\u7f6e\u65b9\u5f0f\n     * @return\n     */\n   @Bean\n   public MybatisPlusInterceptor mybatisPlusInterceptor(){\n       MybatisPlusInterceptor mybatisPlusInterceptor = new MybatisPlusInterceptor();\n       mybatisPlusInterceptor.addInnerInterceptor(new PaginationInnerInterceptor());\n       return mybatisPlusInterceptor;\n   }\n}\n")),(0,a.kt)("p",null,"\u67e5\u8be2"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"/**\n     * \u5206\u9875\u67e5\u8be2\uff1a\n     *  1. \u5f53\u524d\u9875\u7801\uff1acurrentPage\n     *  2. \u6bcf\u9875\u663e\u793a\u6761\u6570\uff1asize\n     *\n     *  \u6ce8\u610f\uff1a\u4f7f\u7528mp\u7684\u5206\u9875\u8981\u8bbe\u7f6e\u4e00\u4e2a\u62e6\u622a\u5668\uff01\uff01\uff01\n            */\n    @Test\n    public void testSelectPage() {\n        int current = 1;//\u5f53\u524d\u9875\u7801\n        int size = 5;//\u6bcf\u9875\u663e\u793a\u6761\u6570\n        IPage<User> page = new Page(current,size);\n        userMapper.selectPage(page,null);\n\n        List<User> records = page.getRecords();//\u5f53\u524d\u9875\u7684\u6570\u636e\n        long pages = page.getPages();//\u603b\u9875\u6570 2\n        long total = page.getTotal();//\u603b\u8bb0\u5f55\u6570 4\n        System.out.println(records);\n        System.out.println(pages);\n        System.out.println(total);\n    }\n")),(0,a.kt)("h3",{id:"42-\u6761\u4ef6\u6784\u9020\u5668\u67e5\u8be2"},"4.2 \u6761\u4ef6\u6784\u9020\u5668\u67e5\u8be2"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * \u57fa\u7840\u6bd4\u8f83\u67e5\u8be2\n *\n * Wrapper:\n *  1.QueryWrapper   \u67e5\u8be2\n *      LambdaQueryWrapper\n *  2.UpdateWrapper  \u66f4\u65b0\n *      LambdaUpdateWrapper\n *\n */\n")),(0,a.kt)("h4",{id:"421-\u57fa\u7840\u67e5\u8be2"},"4.2.1 \u57fa\u7840\u67e5\u8be2"),(0,a.kt)("p",null,"\u901a\u8fc7 QueryWrapper \u6307\u5b9a\u67e5\u8be2\u6761\u4ef6"),(0,a.kt)("p",null,"sql\uff1aselect * from tb_user where password='123456' and age>18"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},"eq( ) :  \u7b49\u4e8e =\nne( ) :  \u4e0d\u7b49\u4e8e <>\ngt( ) :  \u5927\u4e8e >\nge( ) :  \u5927\u4e8e\u7b49\u4e8e  >=\nlt( ) :  \u5c0f\u4e8e <\nle( ) :  \u5c0f\u4e8e\u7b49\u4e8e <=\nbetween ( ) :  BETWEEN \u503c1 AND \u503c2 \nnotBetween ( ) :  NOT BETWEEN \u503c1 AND \u503c2 \nin( ) :  in\nnotIn( ) \uff1anot in\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'@Test\n    public void testWrapper1(){\n        //1.\u521b\u5efa\u67e5\u8be2\u6761\u4ef6\u6784\u5efa\u5668\n        QueryWrapper<User> wrapper = new QueryWrapper<>();\n        //2.\u8bbe\u7f6e\u6761\u4ef6\n        wrapper.eq("user_name","lisi")\n                .lt("age",23)\n                .in("name","\u674e\u56db","\u738b\u4e94");\n        //select * from tb_user where user_name = ? and age < ? and name in (?,?)\n        List<User> users = userMapper.selectList(wrapper);\n        System.out.println(users);\n    }\n')),(0,a.kt)("h4",{id:"422-\u903b\u8f91\u67e5\u8be2-or"},"4.2.2 \u903b\u8f91\u67e5\u8be2 or"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},"or( ) \uff1a\u8ba9\u7d27\u63a5\u7740\u4e0b\u4e00\u4e2a\u65b9\u6cd5\u7528or\u8fde\u63a5 \n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'@Test\n    public void testWrapper2(){\n        //1.\u521b\u5efa\u67e5\u8be2\u6761\u4ef6\u6784\u5efa\u5668\n        QueryWrapper<User> wrapper = new QueryWrapper<>();\n        //2.\u8bbe\u7f6e\u6761\u4ef6\n        wrapper.eq("user_name","lisi")\n                .or()\n                .lt("age",23)\n                .in("name","\u674e\u56db","\u738b\u4e94");\n        /*\n            select * from tb_user where user_name = ? or age < ? and name in (?,?)\n         */\n        List<User> users = userMapper.selectList(wrapper);\n        System.out.println(users);\n    }\n')),(0,a.kt)("h4",{id:"423-\u6a21\u7cca\u67e5\u8be2-like"},"4.2.3 \u6a21\u7cca\u67e5\u8be2 like"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},"like\nnotLike\nlikeLeft\nlikeRight\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'/**\n     * \u6a21\u7cca\u67e5\u8be2\n     */\n    @Test\n    public void testWrapper3(){\n        //1.\u521b\u5efa\u67e5\u8be2\u6761\u4ef6\u6784\u5efa\u5668\n        QueryWrapper<User> wrapper = new QueryWrapper<>();\n        //2.\u8bbe\u7f6e\u6761\u4ef6\n        wrapper.likeLeft("user_name","zhang");\n        /*\n            SELECT id,user_name,password,name,age,email\n             from tb_user\n             where user_name like ?\n             %zhang\n         */\n        List<User> users = userMapper.selectList(wrapper);\n        System.out.println(users);\n    }\n')),(0,a.kt)("h4",{id:"424-\u6392\u5e8f\u67e5\u8be2"},"4.2.4 \u6392\u5e8f\u67e5\u8be2"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},"orderBy\norderByAsc\norderByDesc\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'@Test\n    public void testWrapper4(){\n        //1.\u521b\u5efa\u67e5\u8be2\u6761\u4ef6\u6784\u5efa\u5668\n        QueryWrapper<User> wrapper = new QueryWrapper<>();\n        //2.\u8bbe\u7f6e\u6761\u4ef6\n        wrapper.eq("user_name","lisi")\n                .or()\n                .lt("age",23)\n                .or()\n                .in("name","\u674e\u56db","\u738b\u4e94")\n                //.orderBy(true,true,"age")\n                .orderByDesc("age");\n        /*\n            select * from tb_user where user_name = ? or age < ? and name in (?,?) order by age asc\n         */\n        List<User> users = userMapper.selectList(wrapper);\n        System.out.println(users);\n    }\n')),(0,a.kt)("h4",{id:"425-select\u6307\u5b9a\u9700\u8981\u67e5\u8be2\u7684\u5b57\u6bb5"},"4.2.5 select\uff1a\u6307\u5b9a\u9700\u8981\u67e5\u8be2\u7684\u5b57\u6bb5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'@Test\n    public void testWrapper5(){\n        //1.\u521b\u5efa\u67e5\u8be2\u6761\u4ef6\u6784\u5efa\u5668\n        QueryWrapper<User> wrapper = new QueryWrapper<>();\n        //2.\u8bbe\u7f6e\u6761\u4ef6\n        wrapper.eq("user_name","lisi")\n                .or()\n                .lt("age",23)\n                .or()\n                .in("name","\u674e\u56db","\u738b\u4e94")\n                //.orderBy(true,true,"age")\n                .orderByDesc("age")\n                .select("id","user_name");\n        /*\n            select id,user_name from tb_user where user_name = ? or age < ? and name in (?,?) order by age asc\n         */\n        List<User> users = userMapper.selectList(wrapper);\n        System.out.println(users);\n    }\n')),(0,a.kt)("h4",{id:"426-\u5206\u9875\u6761\u4ef6\u67e5\u8be2"},"4.2.6 \u5206\u9875\u6761\u4ef6\u67e5\u8be2"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'@Test\n    public void testWrapper6(){\n\n        int current = 1;//\u5f53\u524d\u9875\u7801\n        int size = 2;//\u6bcf\u9875\u663e\u793a\u6761\u6570\n        //1. \u6784\u5efa\u5206\u9875\u5bf9\u8c61\n        Page<User> page = new Page<>(current,size);\n        //2. \u6784\u5efa\u6761\u4ef6\u5bf9\u8c61\n        QueryWrapper<User> wrapper = new QueryWrapper();\n        wrapper.lt("age",23);\n        userMapper.selectPage(page,wrapper);\n        List<User> records = page.getRecords();\n        long total = page.getTotal();\n        long pages = page.getPages();\n        System.out.println(records);\n        System.out.println(total);//2\n        System.out.println(pages);//1\n\n    }\n')),(0,a.kt)("h4",{id:"427-lambdaquerywrapper\u6d88\u9664\u4ee3\u7801\u4e2d\u7684\u786c\u7f16\u7801"},"4.2.7 LambdaQueryWrapper\uff1a\u6d88\u9664\u4ee3\u7801\u4e2d\u7684\u786c\u7f16\u7801"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'@Test\n    public void testWrapper7(){\n        LambdaQueryWrapper<User> wrapper = new LambdaQueryWrapper<>();\n        wrapper.eq(User::getUserName,"zhangsan");\n        userMapper.selectOne(wrapper);\n    }\n')),(0,a.kt)("h4",{id:"428-\u6761\u4ef6-\u5220\u9664"},"4.2.8 \u6761\u4ef6 \u5220\u9664"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201008121325431-ac0e0543.png",alt:"image-20201008121325431"}),"image-20201008121325431"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},' @Test\n    public void testWrapper8(){\n        QueryWrapper<User> wrapper = new QueryWrapper<>();\n        wrapper.eq("user_name","bbb");\n        userMapper.delete(wrapper);\n    }\n')),(0,a.kt)("h4",{id:"429-\u6761\u4ef6-update"},"4.2.9 \u6761\u4ef6 update"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://www.ydlclass.com/doc21xnv/assets/image-20201008114912504-f2350f7c.png",alt:"image-20201008121332555"}),"image-20201008121332555"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'@Test\n    public void testWrapper9(){\n        UpdateWrapper<User> wrapper = new UpdateWrapper<>();\n        //\u6761\u4ef6\n        wrapper.eq("user_name","lisi")\n                .set("password","22222");\n        //update tb_user set password = ? where user_name = ?\n        userMapper.update(null,wrapper);\n    }\n    @Test\n    public void testWrapper10(){\n        UpdateWrapper<User> wrapper = new UpdateWrapper<>();\n    //\u6761\u4ef6\n        wrapper.eq("user_name","lisi");\n    //update tb_user set password = ?,age = ? where user_name = ?\n        User user = new User();\n        user.setPassword("3333");\n        user.setAge(33);\n        userMapper.update(user,wrapper);\n}\n')),(0,a.kt)("h2",{id:"5-service-\u5c01\u88c5"},"5 service \u5c01\u88c5"),(0,a.kt)("p",null,"MVC\u67b6\u6784"),(0,a.kt)("p",null,"\u524d\u7aef----\u300bcontroller----\x3eservice\uff08impl\uff09-------\x3edao(mapper)"),(0,a.kt)("p",null,"Mybatis-Plus \u4e3a\u4e86\u5f00\u53d1\u66f4\u52a0\u5feb\u6377\uff0c\u5bf9\u4e1a\u52a1\u5c42\u4e5f\u8fdb\u884c\u4e86\u5c01\u88c5\uff0c\u76f4\u63a5\u63d0\u4f9b\u4e86\u76f8\u5173\u7684\u63a5\u53e3\u548c\u5b9e\u73b0\u7c7b\u3002\u6211\u4eec\u5728\u8fdb\u884c\u4e1a\u52a1\u5c42\u5f00\u53d1\u65f6\uff0c\u53ef\u4ee5\u7ee7\u627f\u5b83\u63d0\u4f9b\u7684\u63a5\u53e3\u548c\u5b9e\u73b0\u7c7b\uff0c\u4f7f\u5f97\u7f16\u7801\u66f4\u52a0\u9ad8\u6548"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},"- 1. \u5b9a\u4e49\u63a5\u53e3\u7ee7\u627fIService\n- 2. \u5b9a\u4e49\u5b9e\u73b0\u7c7b\u7ee7\u627fServiceImpl<Mapper\uff0cEntity> \u5b9e\u73b0\u5b9a\u4e49\u7684\u63a5\u53e3\n")),(0,a.kt)("p",null,"\u63a5\u53e3"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"public interface _UserService extends IService<User> {\n}\n")),(0,a.kt)("p",null,"\u5b9e\u73b0\u7c7b\u5c01\u88c5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"@Service\npublic class _UserServiceImpl extends ServiceImpl<UserMapper, User> implements _UserService {}\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'package com.example.mybatisplustest.service;\n\nimport com.baomidou.mybatisplus.core.conditions.update.UpdateWrapper;\nimport com.example.mybatisplustest.MybatisPlusTestApplication;\nimport com.example.mybatisplustest.pojo.User;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.junit4.SpringRunner;\n\n@SpringBootTest(classes = MybatisPlusTestApplication.class)\n@RunWith(SpringRunner.class)\npublic class UserServiceTest {\n\n    @Autowired\n    private UserService userService;\n\n    @Test\n    public void testFind(){\n        UpdateWrapper<User> wrapper = new UpdateWrapper<>();\n        wrapper.eq("id",1);\n        User one = userService.getOne(wrapper);\n        System.out.println(one);\n    }\n}\n')),(0,a.kt)("h2",{id:"6-\u9006\u5411\u5de5\u7a0b-\u4ee3\u7801\u751f\u6210\u5668"},"6. \u9006\u5411\u5de5\u7a0b-\u4ee3\u7801\u751f\u6210\u5668"),(0,a.kt)("p",null,"AutoGenerator \u662f MyBatis-Plus \u7684\u4ee3\u7801\u751f\u6210\u5668\uff0c\u901a\u8fc7 AutoGenerator \u53ef\u4ee5\u5feb\u901f\u751f\u6210 Entity\u3001Mapper\u3001Mapper XML\u3001Service\u3001Controller \u7b49\u5404\u4e2a\u6a21\u5757\u7684\u4ee3\u7801\uff0c\u6781\u5927\u7684\u63d0\u5347\u4e86\u5f00\u53d1\u6548\u7387\u3002"),(0,a.kt)("p",null,"6.1 \u5bfc\u5165\u5750\u6807"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n    <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-parent</artifactId>\n        <version>2.3.4.RELEASE</version>\n        <relativePath/> \x3c!-- lookup parent from repository --\x3e\n    </parent>\n    <groupId>com.example</groupId>\n    <artifactId>mybatis-plus-test</artifactId>\n    <version>0.0.1-SNAPSHOT</version>\n    <name>mybatis-plus-test</name>\n    <description>Demo project for Spring Boot</description>\n\n    <properties>\n        <java.version>1.8</java.version>\n    </properties>\n\n    <dependencies>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter</artifactId>\n        </dependency>\n\n        <dependency>\n            <groupId>org.projectlombok</groupId>\n            <artifactId>lombok</artifactId>\n            <optional>true</optional>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-test</artifactId>\n            <scope>test</scope>\n        </dependency>\n        \x3c!-- mysql  \u9a71\u52a8--\x3e\n        <dependency>\n            <groupId>mysql</groupId>\n            <artifactId>mysql-connector-java</artifactId>\n            <version>5.1.26</version>\n        </dependency>\n        \x3c!--mybatisplus\u8d77\u6b65\u4f9d\u8d56--\x3e\n        <dependency>\n            <groupId>com.baomidou</groupId>\n            <artifactId>mybatis-plus-boot-starter</artifactId>\n            <version>3.4.0</version>\n        </dependency>\n        \x3c!--mp \u4ee3\u7801\u751f\u6210\u5668--\x3e\n        <dependency>\n            <groupId>com.baomidou</groupId>\n            <artifactId>mybatis-plus-generator</artifactId>\n            <version>3.4.0</version>\n        </dependency>\n\n        <dependency>\n            <groupId>org.freemarker</groupId>\n            <artifactId>freemarker</artifactId>\n            <version>2.3.30</version>\n        </dependency>\n    </dependencies>\n\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-maven-plugin</artifactId>\n            </plugin>\n        </plugins>\n    </build>\n\n</project>\n')),(0,a.kt)("h4",{id:"62-\u6267\u884cmain-\u65b9\u6cd5"},"6.2 \u6267\u884cmain \u65b9\u6cd5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'// \u6f14\u793a\u4f8b\u5b50\uff0c\u6267\u884c main \u65b9\u6cd5\u63a7\u5236\u53f0\u8f93\u5165\u6a21\u5757\u8868\u540d\u56de\u8f66\u81ea\u52a8\u751f\u6210\u5bf9\u5e94\u9879\u76ee\u76ee\u5f55\u4e2d\npackage com.example.mybatisplustest;\n\nimport com.baomidou.mybatisplus.core.exceptions.MybatisPlusException;\nimport com.baomidou.mybatisplus.core.toolkit.StringPool;\nimport com.baomidou.mybatisplus.core.toolkit.StringUtils;\nimport com.baomidou.mybatisplus.generator.AutoGenerator;\nimport com.baomidou.mybatisplus.generator.InjectionConfig;\nimport com.baomidou.mybatisplus.generator.config.*;\nimport com.baomidou.mybatisplus.generator.config.po.TableInfo;\nimport com.baomidou.mybatisplus.generator.config.rules.NamingStrategy;\nimport com.baomidou.mybatisplus.generator.engine.FreemarkerTemplateEngine;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class CodeGenerator {\n    /**\n     * <p>\n     * \u8bfb\u53d6\u63a7\u5236\u53f0\u5185\u5bb9\n     * </p>\n     */\n    public static String scanner(String tip) {\n        Scanner scanner = new Scanner(System.in);\n        StringBuilder help = new StringBuilder();\n        help.append("\u8bf7\u8f93\u5165" + tip + "\uff1a");\n        System.out.println(help.toString());\n        if (scanner.hasNext()) {\n            String ipt = scanner.next();\n            if (StringUtils.isNotBlank(ipt)) {\n                return ipt;\n            }\n        }\n        throw new MybatisPlusException("\u8bf7\u8f93\u5165\u6b63\u786e\u7684" + tip + "\uff01");\n    }\n\n    public static void main(String[] args) {\n        // \u4ee3\u7801\u751f\u6210\u5668\n        AutoGenerator mpg = new AutoGenerator();\n\n        // \u5168\u5c40\u914d\u7f6e\n        GlobalConfig gc = new GlobalConfig();\n        String projectPath = System.getProperty("user.dir");\n        System.out.println(projectPath);\n        gc.setOutputDir(projectPath + "/src/main/java");\n        gc.setAuthor("ydl");\n        gc.setOpen(false);\n        // gc.setSwagger2(true); \u5b9e\u4f53\u5c5e\u6027 Swagger2 \u6ce8\u89e3\n        mpg.setGlobalConfig(gc);\n\n        // \u6570\u636e\u6e90\u914d\u7f6e\n        DataSourceConfig dsc = new DataSourceConfig();\n        dsc.setUrl("jdbc:mysql://localhost:3306/mp");\n        // dsc.setSchemaName("public");\n        dsc.setDriverName("com.mysql.jdbc.Driver");\n        dsc.setUsername("root");\n        dsc.setPassword("root");\n        mpg.setDataSource(dsc);\n\n        // \u5305\u914d\u7f6e\n        PackageConfig pc = new PackageConfig();\n        pc.setModuleName(scanner("\u6a21\u5757\u540d"));\n        pc.setParent("com.ydl");\n        mpg.setPackageInfo(pc);\n\n        // \u81ea\u5b9a\u4e49\u914d\u7f6e\n        InjectionConfig cfg = new InjectionConfig() {\n            @Override\n            public void initMap() {\n                // to do nothing\n            }\n        };\n\n        // \u5982\u679c\u6a21\u677f\u5f15\u64ce\u662f freemarker\n        String templatePath = "/templates/mapper.xml.ftl";\n        // \u5982\u679c\u6a21\u677f\u5f15\u64ce\u662f velocity\n        // String templatePath = "/templates/mapper.xml.vm";\n\n        // \u81ea\u5b9a\u4e49\u8f93\u51fa\u914d\u7f6e\n        List<FileOutConfig> focList = new ArrayList<>();\n        // \u81ea\u5b9a\u4e49\u914d\u7f6e\u4f1a\u88ab\u4f18\u5148\u8f93\u51fa\n        focList.add(new FileOutConfig(templatePath) {\n            @Override\n            public String outputFile(TableInfo tableInfo) {\n                // \u81ea\u5b9a\u4e49\u8f93\u51fa\u6587\u4ef6\u540d \uff0c \u5982\u679c\u4f60 Entity \u8bbe\u7f6e\u4e86\u524d\u540e\u7f00\u3001\u6b64\u5904\u6ce8\u610f xml \u7684\u540d\u79f0\u4f1a\u8ddf\u7740\u53d1\u751f\u53d8\u5316\uff01\uff01\n                return projectPath + "/src/main/resources/mapper/" + pc.getModuleName()\n                        + "/" + tableInfo.getEntityName() + "Mapper" + StringPool.DOT_XML;\n            }\n        });\n        /*\n        cfg.setFileCreate(new IFileCreate() {\n            @Override\n            public boolean isCreate(ConfigBuilder configBuilder, FileType fileType, String filePath) {\n                // \u5224\u65ad\u81ea\u5b9a\u4e49\u6587\u4ef6\u5939\u662f\u5426\u9700\u8981\u521b\u5efa\n                checkDir("\u8c03\u7528\u9ed8\u8ba4\u65b9\u6cd5\u521b\u5efa\u7684\u76ee\u5f55\uff0c\u81ea\u5b9a\u4e49\u76ee\u5f55\u7528");\n                if (fileType == FileType.MAPPER) {\n                    // \u5df2\u7ecf\u751f\u6210 mapper \u6587\u4ef6\u5224\u65ad\u5b58\u5728\uff0c\u4e0d\u60f3\u91cd\u65b0\u751f\u6210\u8fd4\u56de false\n                    return !new File(filePath).exists();\n                }\n                // \u5141\u8bb8\u751f\u6210\u6a21\u677f\u6587\u4ef6\n                return true;\n            }\n        });\n        */\n        cfg.setFileOutConfigList(focList);\n        mpg.setCfg(cfg);\n\n        // \u914d\u7f6e\u6a21\u677f\n        TemplateConfig templateConfig = new TemplateConfig();\n\n        // \u914d\u7f6e\u81ea\u5b9a\u4e49\u8f93\u51fa\u6a21\u677f\n        //\u6307\u5b9a\u81ea\u5b9a\u4e49\u6a21\u677f\u8def\u5f84\uff0c\u6ce8\u610f\u4e0d\u8981\u5e26\u4e0a.ftl/.vm, \u4f1a\u6839\u636e\u4f7f\u7528\u7684\u6a21\u677f\u5f15\u64ce\u81ea\u52a8\u8bc6\u522b\n        // templateConfig.setEntity("templates/entity2.java");\n        // templateConfig.setService();\n        // templateConfig.setController();\n\n        templateConfig.setXml(null);\n        mpg.setTemplate(templateConfig);\n\n        // \u7b56\u7565\u914d\u7f6e\n        StrategyConfig strategy = new StrategyConfig();\n        strategy.setNaming(NamingStrategy.underline_to_camel);\n        strategy.setColumnNaming(NamingStrategy.underline_to_camel);\n        //strategy.setSuperEntityClass("\u4f60\u81ea\u5df1\u7684\u7236\u7c7b\u5b9e\u4f53,\u6ca1\u6709\u5c31\u4e0d\u7528\u8bbe\u7f6e!");\n        strategy.setEntityLombokModel(true);\n        strategy.setRestControllerStyle(true);\n        // \u516c\u5171\u7236\u7c7b\n        //strategy.setSuperControllerClass("\u4f60\u81ea\u5df1\u7684\u7236\u7c7b\u63a7\u5236\u5668,\u6ca1\u6709\u5c31\u4e0d\u7528\u8bbe\u7f6e!");\n        // \u5199\u4e8e\u7236\u7c7b\u4e2d\u7684\u516c\u5171\u5b57\u6bb5\n        strategy.setSuperEntityColumns("id");\n        strategy.setInclude(scanner("\u8868\u540d\uff0c\u591a\u4e2a\u82f1\u6587\u9017\u53f7\u5206\u5272").split(","));\n        strategy.setControllerMappingHyphenStyle(true);\n        strategy.setTablePrefix(pc.getModuleName() + "_");\n        mpg.setStrategy(strategy);\n        mpg.setTemplateEngine(new FreemarkerTemplateEngine());\n        mpg.execute();\n    }\n}\n')))}c.isMDXComponent=!0}}]);